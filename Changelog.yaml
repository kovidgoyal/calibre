# vim:fileencoding=utf-8:ts=2:sw=2:sta:et:sts=2:ai
# Each release can have new features and bug fixes. Each of which
# must have a title and can optionally have linked tickets and a description.
# In addition they can have a type field which defaults to minor, but should be major
# for important features/bug fixes.
# Also, each release can have new and improved recipes.

# - version: ?.?.?
#   date: 2017-??-??
#
#   new features:
#     - title:
#
#   bug fixes:
#     - title:
#
#   improved recipes:
#     -
#
#   new recipes:
#     - title:

- version: 2.81.0
  date: 2017-03-10

  new features:
    - title: "Amazon metadata download: Allow downloading amazon metadata from multiple sources. You can now configure the Amazon plugin via Preferences->Metadata download to use either the amazon servers, or various search engine caches to get the metadata. Should help with the recent CAPTCHA problems when downloading metadata from amazon"

    - title: "Kobo driver: Add support for new firmware"

    - title: "Edit Book: Spell Check dialog: Always add the original word as one of the spelling corrections, so that small edits to the word can be made easily."
      tickets: [1667914]

    - title: "Edit Book: Saved searched Dialog: Allow re-arranging the saved searches using drag and drop."
      tickets: [1669514]

    - title: "Implement auto update of built-in metadata download plugins, just as for recipes and Get Books plugins. Needed as the websites they get data from often change."

    - title: "Edit Book: When inserting full screen images, use the actual image dimensions in the generated SVG code, when available"

    - title: "Linux installer: Check that the umask is suitable before running the installer. Should fix breakage on systems where users have changed the user umask but neglected to also alter it for sudo"

    - title: "Bulk metadata edit: Remove the control to delete specific formats as it is redundant. This functionality is already present by right clicking the Remove books button"

  bug fixes:
    - title: "TXT Input: When detecting the encoding of txt files only use the first four kilobytes of text. Fixes excessively slow conversion of very large text files."
      tickets: [1668246]

    - title: "Get Books: Fix price not being displayed for books from Amazon dues to website changes"

    - title: "GetBooks: Update Google Books plugin for website changes"

    - title: "E-book viewer: Fix slow startup when recently opened files are on a slow/malfunctioning networked filesystem."
      tickets: [1669497]

    - title: "Google metadata download: Fix metadata not being found when the title of the book includes a sub-title"

    - title: "Improve downloading of covers from the google books metadata source"

    - title: "News download: Fix a bug that could cause a crash when downloading an SVG image."
      tickets: [1669530]

    - title: "Edit book: Fix a regression that caused pasting copied text from programs that generate both HTML and plain text when copying to paste the HTML in preference to the plain text"

  improved recipes:
    - tyzden
    - The Economist
    - Kansas City Star
    - NYTimes
    - The Spectator

- version: 2.80.0
  date: 2017-02-24

  new features:
    - title: "Add support for sideloading of KFX files created with the third-party KFX calibre plugin"
      tickets: [1666040]

    - title: "Edit book: Allow drag and drop of image files, stylesheets and html files into the editor to insert the appropriate <img> and <link> tags and add the files to the book automatically."

    - title: "Kobo driver: Add support for updated firmware"

    - title: "Edit Book: Spell Check: If there are no suggestions fill the suggested word box with the original word."
      tickets: [1664284]

    - title: "Viewer: add a shortcut (Ctrl+F11) to show/hide toolbars."
      tickets: [1664077]

  bug fixes:
    - title: "PDF Output: Fix courier font not being rendered when converting on windows."
      tickets: [1665835]

    - title: "E-mail delivery: Add a Message-ID header when sending emails. Reduces probability of mails sent from calibre being marked as spam"

    - title: "Save to disk: Fix path shortening being applied to entire save template even when saving to singe directory."
      tickets: [1665964]

    - title: "Get Books: Update the Virualo and Publi store plugins for website changes"

    - title: "Viewer: Fix regression that caused slow opening of some books with missing font/css/image files"

    - title: "Viewer: Pressing Ctrl+F in fullscreen mode should show the controls."
      tickets: [1664076]

    - title: "Edit book: Do not allow creating multiple new files whose names differ only by case."
      tickets: [1664027]

    - title: "Viewer: Use heuristics to try to detect comics encoded as fixed layout EPUBs to ensure they are displayed as intended."
      tickets: [1667357]

  improved recipes:
    - The Atlantic
    - The Financial Times

  new recipes:
    - title: Various new and improved Belgian news sources
      author: erkfuizfeuadjfjzefzfuzeff

- version: 2.79.1
  date: 2017-02-10

  new features:
    - title: "Windows: Make recently opened books show up in the jump lists for the standalone viewer and editor programs"

    - title: "OS X/Linux: Show an informational popup message when an Android device is plugged in that needs the user to tap Allow for the connection to work."

    - title: "Conversion: Log options that are different from the defaults separately, for easy reference"

  bug fixes:
    - title: "2.79.1 fixes a regression in 2.79.0 that broke the file open dialogs on windows vista"

    - title: "Conversion: Fix regression that broke conversion of some epub files when using the 'Remove first image' option."
      tickets: [1660699]

    - title: "Get Books: Update Kobo plugin for website changes"

    - title: "Windows MTP driver: Fix error when enumerating device storage not being reported during debug device detection"

    - title: "Tag Browser: When dragging and dropping a book onto a series increment the series number."
      tickets: [1661588]

    - title: "Fix crash when generating covers with Qt 5.8 on linux"

    - title: "Fix Get Books result list and jobs list not being populated on Qt 5.8"

    - title: "Fix importing rules in the coloring/icon rules dialog not enabling the apply button"

  improved recipes:
    - Strange Horizons
    - Wall Street Journal
    - Bangkok Post
    - The Atlantic
    - NYTimes
    - LA Times
    - New Yorker
    - The Straits Times

- version: 2.78.0
  date: 2017-01-27

  new features:
    - title: "View button: Add an action to the right click menu that always opens the book with the calibre viewer, regardless of the preferences"

    - title: "Kobo driver: Update to support the newest firmware from Kobo"

    - title: "E-book viewer: Allow opening a specific item from the Table of Contents via the --open-at command line parameter."
      tickets: [1656573]

    - title: "Amazon metadata download: Add support for downloading from amazon.ca"

  bug fixes:
    - title: "Edit Book: Do not condense CSS rules when saving AZW3 files regardless of the value of Preferences->Common Options->Look & Feel->Expand CSS"

    - title: "EPUB Output: Fix a duplicate id created in rare circumstances when splitting on page breaks."
      tickets: [1658744]

    - title: "DOCX Input: Fix error when converting documents that have images pointing to web resources."
      tickets: [1659142]

    - title: "E-book viewer: Fix a regression that caused an increase in load times when loading the individual HTML files inside an EPUB book."
      tickets: [1658578]

    - title: "Fix setting a similar books search to use the formats field in Preferences->Searching resulting in an error."
      tickets: [1658386]

    - title: "Kobo driver: Fix incorrect cover size being uploaded to the Glo HD"

    - title: "E-book viewer: Fix 'View Image' right click menu action not available for svg files included via <img> tags."
      tickets: [1657717]

    - title: "HTML Input: Remove the # character from input filenames, for maximum compatibility."
      tickets: [1656833 ]

    - title: "Edit Book: Fix spell check treating the unicode hyphen (U+2010) differently from the normal hyphen (U+002d)."
      tickets: [1656319]

  improved recipes:
    - FOX News
    - Oriental Daily
    - AM730
    - The Times
    - NYTimes
    - Mediapart
    - Echo Online
    - kath.net
    - GoComics
    - The Hindu

  new recipes:
    - title: The Sunday Times Magazine
      author: Bobby Steel

- version: 2.77.0
  date: 2017-01-13

  bug fixes:
    - title: "Conversion: Fix changing the cover image not updating references to the old cover image inside SVG wrappers."
      tickets: [1655309]

    - title: "E-book viewer: Fix a regression that caused clicking links in the footnote popup window to stop working"

    - title: "Edit Book: Fix importing DOCX file as new book not setting the version attribute in the OPF"

    - title: "Kindle driver: Fix some newer KFX books not being recognized on e-ink kindles, because of a change in how metadata is stored in the KFX format"

    - title: "DOCX Output: Fix missing <td> tag causing conversion to fail."
      tickets: [1654463]

    - title: "Edit Book: Fix group references causing errors when used in replace string in the normal mode search and replace"

    - title: "Edit Book: Fix Check Book reporting a spurious mime/type mismatch error after replacing a file with a file having a different mime type."
      tickets: [1653977]

    - title: "Amazon metadata download: Fix detection of series not working for some books due to changes in the amazon website"

    - title: "Fix Nook HD+ not being detected on windows"

    - title: "Edit Book: Ensure keyboard focus stays with Files Browser when renaming files."
      tickets: [1653311]

  improved recipes:
    - kath.net
    - publico.pt
    - Telepolis
    - The Times
    - Helsingin Sanomat


- version: 2.76.0
  date: 2016-12-30

  bug fixes:
    - title: "E-book viewer: Fix a regression in the previous release that broke the viewer on systems where the temporary directory is a symlink (common on OSX)."

    - title: "EPUB Input: Fix EPUB2 files that specify a cover image via a <meta> tag but not in the <guide> not getting a cover when converted to PDF"

    - title: "PDF Output: Fix conversion failure when input document contains first page with no renderable content."
      tickets: [1652825]

    - title: "Editor: Fix incorrect handling of some regular expressions in the Search tool."
      tickets: [1652621]

    - title: "OS X: Fix dynamically generated context menus, such as the sort by menu not working."
      tickets: [1652694]

    - title: "Fix a crash when running with assertions turned on in Qt."
      tickets: [1652685]

    - title: "Edit Book: Reports tool: Fix an error when right clicking on items in the Links view."
      tickets: [1652960]

  improved recipes:
    - Clarin
    - La Prensa
    - Telam
    - iProfesional
    - Buenos Aires Economico


- version: 2.75.1
  date: 2016-12-23

  new features:
    - title: "Happy Holidays everyone!"

    - title: "Add support for new Kobo firmware version 4.2"

    - title: "Allow using amazon_in, amazon_au, amazon_com identifiers in the Book details panel."
      tickets: [1649371]

  bug fixes:
    - title: "Version 2.75.1 has fixes for a regression in 2.75.0 that broke the Live CSS feature in the editor and caused some minor problems in the viewer"

    - title: "Kobo driver: Fix incorrectly sized covers being sent to some Kobo devices"

    - title: "E-book viewer: Prevent javascript in the book from accessing files on the computer using XMLHttpRequest."
      tickets: [1651728]

    - title: "Edit Book: Fix the 'Search ignoring markup tool' not ignoring comments/processing instructions, etc."
      tickets: [1651160]

    - title: "CSS Transforms: Fix 'is'/'is not' rules not matching currentColor."
      tickets: [1650930]

    - title: "E-book viewer: Make the swipe up gesture move to next section instead of previous section."
      tickets: [1651034]

    - title: "Edit Book: Allow the Spell Check dialog and the search panel to be made much narrower than before."
      tickets: [1650932]

    - title: "Edit Book: Fix customize template window not freely resizable on windows."
      tickets: [1650924]

    - title: "Edit Book: Fix newlines not being matched by the 'Search ignoring markup' tool."
      tickets: [1649383]

    - title: "EPUB Input: Fix incorrect handling of html files that are in a folder above the OPF file."
      tickets: [1649357]

  improved recipes:
    - Ambito Financiero
    - Die Zeit (subscription)
    - Irish Times
    - Guardian
    - Independent
    - Ambito.com


- version: 2.74.0
  date: 2016-12-09

  new features:
    - title: "Amazon metadata download: Allow downloading from amazon.cn as well. To use go to Preferences->Metadata download and customize the amazon plugin to download from amazon.cn"

    - title: "Edit Book: Allow disabling the 'Files already arranged into folders' message popup"

  bug fixes:
    - title: "Edit Book: Fix selected text not being fully highlighted when using the solarized color schemes."
      tickets: [1647448]

    - title: "calibredb: Fix CSV output for the check_library command not being properly escaped"

    - title: "Fix subsetting of fonts whose names start with 'and' not working"

    - title: "Fix a regression in 2.72 that broke the --start-in-tray command line option."
      tickets: [1644876]

    - title: "Fix third party plugins that create dynamic context menus not working in linux"

    - title: "DOCX Input: Fix images wider than 50% of the page width being incorrectly right aligned even when anchored to the center of the page."
      tickets: [1646086]

    - title: "Catalog generation: Ensure all citation keys in BiBTeX catalogs have only ascii characters."
      tickets: [1646239]

    - title: "Get Books: Update ebookpoint and legimi plugins for website changes"

    - title: "EPUB3 metadata: Ensure updating metadata never produces empty dc:contributor elements."
      tickets: [1644702]

    - title: "DOCX Output: Fix an error when converting tables with spanning cells."
      tickets: [1644912]

    - title: "Nicer error message if the user tries to import data while the content server is running"

  improved recipes:
    - Frontline
    - Korea Herald
    - Pagina 12
    - Edge Conversations
    - Kitsapun
    - Mobile Nations
    - NME
    - Security Watch
    - Sign on SD
    - Star Advertiser
    - tyzden


- version: 2.73.0
  date: 2016-11-25

  new features:
    - title: "Add a preference in Preferences->Look & Feel to hide the row numbers in the main book list."
      tickets: [1643313]

    - title: "Allow Export/Import of column coloring and icon rules."
      tickets: [1643314]

    - title: "Edit Book: Allow bulk changing of file extension for selected files by right clicking ont he selected files in the file browser."
      tickets: [1643232]

    - title: "Edit Book: Check Book: Add a check for nav documents that contain no ToC in EPUB 3 books"

    - title:  "Edit Book: Check Book: Add a test to check if the embedded fonts in the book have their embedding permissions enabled"

  bug fixes:
    - title: "Pressing the up arrow in an date edit with undefined value should jump to the current date rather than Feb 101"

    - title: "EPUB Input: When an invalid nav based ToC is used in an EPUB 3.0 document that also has a fallback NCX ToC, use the fallback ToC."
      tickets: [1643247]

    - title: "Fix a regression that broke the icon theme creation tool in the previous release"
      tickets: [1643228]

    - title: "Fix insert character dialog not reflowing characters on resize. Also only allow the search bar in the dialog to get input focus"

  improved recipes:
    - Dilbert
    - The Hindu


- version: 2.72.0
  date: 2016-11-18

  new features:
    - title: "Font embedding: Implement automatic embedding for fonts with non-normal stretch and weight values such as Condensed/Light/Extra Bold fonts"

    - title: "Allow aborting an in-progress Copy-to-library action."
      tickets: [1641458]

    - title: "Edit Book: When adding a font file via File->New automatically generate the appropriate @font-face rule and copy it to the clipboard so that it can be easily inserted into the appropriate CSS files."

    - title: "Edit Book: Check Book: Add a warning for links with the : character in them on windows"

    - title: "Conversion: When converting markdown documents recognize basic metadata in the markdown document formatted as per the markdown metadata extension."

    - title: "Edit Book: Spell Check dialog: Various small usability enhancements -- preserve position in word list on refresh, ensure that new current word is highlighted after changing a word, etc."

    - title: "Edit Book: Flash the taskbar icon after beautify all files completes."
      tickets: [1639024]

  bug fixes:
    - title: "Fix creating an empty library with the same structure as current library not creating custom columns on the first restart after creating the new custom columns."
      tickets: [1641278]

    - title: "Edit Book: Dont fail to rename files on windows if there is a link containing the colon character."
      tickets: [1641202]

    - title: "PDF Output: Dont fail if one of the embedded fonts has no names"

    - title: "Edit Book: When downloading external resources, ensure the generated filenames are valid."
      tickets: [1639448]

    - title: "Windows: Fix file extension not being added automatically when missing in save dialogs."
      tickets: [1637353]

    - title: "Fix calibre not opening full-screen in windows tablet mode."
      tickets: [1638158]

    - title: "Edit Book: Fix check external links tool not detecting changes that have not yet been saved"

    - title: "Generate covers: Fix & in the series causing incorrect formatting of series number."
      tickets: [1638759]

    - title: "Edit Book: Fix a regression in the last release that broke the Arrange into folders tool when arranging into sub-folders of a folder that does not exist."

  improved recipes:
    - Mediapart

- version: 2.71.0
  date: 2016-10-31

  new features:
    - title: "calibre's tenth birthday edition!"
      description: "calibre was first released (as libprs500) ten years ago today. A big thank you to the entire calibre community -- users, contributors and developers -- for keeping it humming for so long."
      type: major

    - title: "A new set of icons for calibre"
      description: "To celebrate calibre turning ten, calibre now has a brand new set of icons designed from scratch. Note that you can choose between many different icon sets for calibre, including the original icons, from Preferences->Look & Feel->Choose icon theme"
      type: major

    - title: "A short video commemorating the occasion: https://youtu.be/Q95NfFKc0v8"

    - title: "Book details panel: Add a copy all action to the right click menu."
      tickets: [1633477]

  bug fixes:
    - title: "Get Books: Update ebookpoint and woblink store plugins for website changes"

    - title: "Edit Book: When un-marking text auto-change the 'search where' location to what it was before text was marked rather than 'current file'."

    - title: "Automatic adding: Show an error if the user specifies a folder whose name starts with a dot or underscore."
      tickets: [1637021]

    - title: "OS X: Fix a regression that caused incorrect display of the icon in pop-up message boxes when using a Retina display."
      tickets: [1635999]

    - title: "Kobo driver: Fix an error when migrating very old settings"
      tickets: [1635909]

    - title: "Kobo driver: Fix a regression that broke handling of reading status for devices running old 1.9x versions of the Kobo firmware"

    - title: "Edit Book: When using the arrange into folders tool do not change the case of already existing folders in the book."
      tickets: [1633875]

  improved recipes:
    - LWN Weekly
    - Financial Times
    - MIT Technology Review
    - The Hindu


- version: 2.70.0
  date: 2016-10-14

  new features:
    - title: "Edit Book: Add a tool to download external resources (images/stylesheets/etc.) that are not included in the book."
      tickets: [1620058]

    - title: "Make custom columns available in the Alter Tag Browser->Manage categories sub menu"

  bug fixes:
    - title: "Conversion: Fix incorrect resolution of references to resources in HTML files that exist in a folder level above the OPF file. This could lead to styles being incorrectly processed in such HTML files."

    - title: "Get Books: Update the amazon store plugins for website changes"

    - title: "Update ozon.ru metadata download plugin to fix searching for books by ISBN"

    - title: "Edit Book: Fix a regression in the previous release that broke the preferences dialog for changing color schemes."
      tickets: [1629294]

    - title: "Edit Book: Better error message when user tries to open a Check Book item that refers to a file that has been deleted since the last time Check Book was run."
      tickets: [1632897]

  improved recipes:
    - Wired
    - Ambito
    - InfoWorld
    - Instapaper
    - San Jose Mercury News
    - South China Morning Post
    - Journal Gazette
    - JPost
    - Las Vegas Review
    - Marietta Daily Journal
    - DziennikBaltycki
    - biweekly
    - dwutygodnik
    - GRY Online
    - ESO
    - TVN24
    - And many more, see commit logs for details

  new recipes:
    - title: Various Danish news sources
      author: Allan Simonsen

- version: 2.69.0
  date: 2016-09-30

  new features:
    - title: "Kobo driver: Support for firmware version 4.1 and Overdrive books on the device"

    - title: "Edit Book: Highlight class names inside HTML tags"

    - title: "Bulk metadata edit dialog: Allow search & replace to work for ratings columns as well."

  bug fixes:
    - title: "Fix downloading of metadata from ozon.ru, which broke due to website changes"

    - title: "Kobo driver: Fix delete of empty collections"

    - title: "Kobo driver: Fix book previews being sometimes detected as actual books"

    - title: "Cover Browser: Fix setting an empty template for the title causes an error"

    - title: "Edit Book: On windows do not trigger shortcuts when using the right Alt (AltGr) key. This allows it to be used for entering special characters instead."
      tickets: [1627487]

    - title: "Edit Book: Auto-add file extension when using the Save a Copy dialog if it is missing."
      tickets: [1627482]

    - title: "Linux: Fix calibre not launching when used with some old VNC server implementations"

    - title: "Windows: Run library restore in a separate process as on some windows machines, running it in the main process causes something in the system to lock the db file."

    - title: "Fix some news downloads in east asian languages not working because the truncation of article descriptions could cause invalid UTF-16 bytes in the string"

    - title: "Fix incorrect timezone when editing custom date columns directly in the book list"

  improved recipes:
    - New York Times
    - Independent
    - El tribuno de Salta

  new recipes:
    - title: Various Danish news sources
      author: Allan Simonsen

- version: 2.68.0
  date: 2016-09-16

  new features:
    - title: "Add a tweak to Preferences->Tweaks to control the list of servers calibre considers public email servers"

  bug fixes:
    - title: "Content server: Fix a regression in the previous release that broke the OPDS feeds for libraries with no custom columns"
      tickets: [1621642]

    - title: "Edit metadata dialog: Fix auto-generation/validation of author sort values not working when only changing case of the author name."
      tickets: [1623593]

    - title: "A nicer error message when calibre fails to create the temporary directory."
      tickets: [1622131]

    - title: "Fix dates being set to empty in bulk search/replace not becoming UNDEFINED"

    - title: "Edit metadata dialog: Make pressing up on an undefined numeric field set the value to zero instead of -99999."
      tickets: [1622757]

    - title: "Conversion: Handle corrupted JPEG files that have valid headers but invalid data."
      tickets: [1622416]

    - title: "Conversion: Improve detection of input documents that use uppercase tag/attribute names."
      tickets: [1622261]

    - title: "Fix regression in previous release that caused incorrect display of ratings in the side panel of the metadata download dialog"

    - title: "Get Books: Update publio and virtualo store plugins for website changes"

    - title: "Fix reading metadata from PDF files broken by poppler >= 0.47.0"

    - title: "Change the application name set in Qt to calibre from libprs500."
      tickets: [1623397]

  improved recipes:
    - Respekt Magazine
    - Punto Informatico
    - El universal

- version: 2.67.0
  date: 2016-09-08

  new features:
    - title: "Allow creating custom rating columns that support half-stars via Preferences->Add your own columns"

    - title: "Tag Browser: Add an option in Preferences->Look & Feel->Tag Browser to turn off the display of counts in the Tag Browser"

    - title: "Tag browser: Show the book counts on the right edge of the Tag Browser"

    - title: "Cover Browser: Allow any metadata field to be used as the sub-title, not just the rating"

    - title: "Edit Book: A new tool to sort the rules in a CSS stylesheet. To use it add it to the toolbar for CSS editors"

    - title: "Edit Book: The Remove Unused CSS tool now has an option to also merge CSS rules that have identical selectors"

    - title: "Add a tweak in Preferences->Tweaks to exclude some images types from being treated a covers when dropped onto the Book Details panel."
      tickets: [1620198]

    - title: "Allow reading more image formats as covers (All images will be converted to JPEG when stored)."
      tickets: [1619993]

    - title: "Content server: OPDS feeds: Change the value of <updated> for entries in the acquisition feed to be the last modified date for the book. Also make the size and last modified timestamp available as attributes in the acquisition links. Useful for integration with third party applications."

    - title: "Kobo driver: Add support for firmware version 4 available on the new Kobo Aura One"

  bug fixes:
    - title: "ODT Input: Add support for continued lists."
      tickets: [1620581]

    - title: "Edit Book: Fix high-dpi rendering of emblems in the File Browser"

    - title: "Fix regression in previous release that caused wide column icons to be scaled incorrectly"

    - title: "Metadata download dialog: Fix https links in the download summary not working"

    - title: "DOCX Output: Handle nested display:table tags with no rows."
      tickets: [1619662]

    - title: "PDF Output: Fix OpenType fonts with CFF font data not embeddable on windows"

  improved recipes:
    - Ars Technica


- version: 2.66.0
  date: 2016-09-02

  new features:
    - title: "A simplified calibre logo"

    - title: "Edit Book: Allow restricting a search to the files currently open for editing"

    - title: "Driver for the PocketBook Touch HD"
      tickets: [1618962]

    - title: "Kobo driver: Add support for firmware version 3.20"

  bug fixes:
    - title: "DOCX Input: Fix right-to-left alignment not working for footnotes."
      tickets: [1617254]

    - title: "Sending email: Allow setting up a mail relay that uses encryption without a username and password."
      tickets: [1618528]

    - title: "Linux: Fix calibre not working when the username is non-ASCII."
      tickets: [1619056]

    - title: "DOCX Output: Ignore invalid text-indent values in the input document instead of erroring out."
      tickets: [1618869]

    - title: "Portable Installer: Auto-create the installation folder specified on the command line if it does not exist"

    - title: "Kobo driver: Fix the ignore collections in option not working"

    - title: "More user interface fixes for high DPI screens"

    - title: "DOCX Input: Fix a regression in the previous release that could cause invalid values to be output for the text-align CSS property"

  new recipes:
    - title: Contropiano
      author: michele

- version: 2.65.1
  date: 2016-08-26

  new features:
    - title: "Driver for Kobo Aura One and Aura Edition 2"

    - title: "Kobo driver: Add an option to ignore some collections on the device. The specified collections will not be touched by the driver."

    - title: "Add an option in Preferences->Searching to make searching case-sensitive"

    - title: "DOCX Input: Add support for right-to-left text/tables"
      tickets: [1569771]

  bug fixes:
    - title: "Fix some icons/images in the user interface looking blurred in environments with High DPI scaling enabled, such as OS X retina screens"

    - title: "DOCX Input: Fix images that have the # character in their filenames not being converted correctly."
      tickets: [1616482]

    - title: "ToC wizard: Fix generating toc from headings/xpath yielding unexpected results when tags are present out of sequence"

    - title: "Edit Book: Fix drag and drop of text replacing non-breaking spaces with normal spaces"

    - title: "E-book viewer: Fix duplicate names in hyphenation dictionary chooser."
      tickets: [1615040]

    - title: "Fix a regression in the previous release that caused the completion popups for some custom column types in the book list to stop working."
      tickets: [1612640]

    - title: "Version 2.65.1 contains a quick-fix for a typo in 2.65.0 that caused calibre to crash when a device is connected and the cover grid is enabled"

  improved recipes:
    - Le Scienze
    - New Yorker


- version: 2.64.0
  date: 2016-08-12

  new features:
    - title: "Custom columns: Add a new 'Short text' column type that behaves like the builtin title column"
      description: "More generally, you can now customize Comments-like columns, controlling how their headings are displayed in the Book Details panel and also specifying what kind of data they contain (plain text, HTML or even Markdown)"
    - title: "Edit book: Function mode: Allow appending text to the end of the marked text when running function mode search/replace on marked text"

    - title: "PDF Output: Add a new variable _TOP_LEVEL_SECTION_ for use in header/footer templates that resolves to the current top-most section in the Table of Contents"

    - title: "Linux/OSX: Shutdown gracefully on receiving the interrupt or terminate Unix signals"

  bug fixes:
    - title: "PDF Output: Fix a regression that caused the last page of a chapter to sometimes be dropped from the output"

    - title: "Do not show an error if the user tries to quit calibre while editing a cell in the book list. Instead, just silently abort the edit."
      tickets: [1610539]

    - title: "E-book viewer: Fix 0px margins and percentage margins not being respected when the option to override book margins is turned off."
      tickets: [1608458]

    - title: "Book Details: Do not show the 'Copy link' context menu item unless there is an actual link at the cursor location."
      tickets: [1605594]

    - title: "Get Books: Update store plugin for nexto"

  improved recipes:
    - Private Eye
    - Prospect Magazine
    - De Standaard
    - Jot Down
    - Weblogs SL
    - Hola
    - El Correo

  new recipes:
    - title: Data News
      author: oCkz7bJ_

- version: 2.63.0
  date: 2016-07-22

  new features:
    - title: "News download: Allow controlling which periodicals are automatically sent to a specific email in Preferences->Sharing by email"

    - title: "Edit Book: Update regex engine to support Unicode 9.0"

  bug fixes:
    - title: "Edit metadata dialog: Fix pasting ISBN from clipboard not stripping garbage characters after a valid ISBN."
      tickets: [1604956]

    - title: "Edit Book: Also refresh the Preview and Live CSS panels after performing any action that changes files other than the currently displayed file."

    - title: "E-book viewer: Fix the show metadata button not reading EPUB 3 metadata"

    - title: "MOBI Output: Fix <hr> not being rendered as full-width in old MOBI files"

    - title: "CSV Catalog output: Fix incorrect formatting of is_multiple custom columns."
      tickets: [1602908]

    - title: "CSV Catalog Output: Separate multiple authors with & instead of comma. Fixes problems when the author name contains commas."

    - title: "EPUB 3 metadata: Fix updating metadata in EPUB 3 files not overwriting existing authors."
      tickets: [1602227]

    - title: "Fix duplicate detection when adding books not working when the book title has leading or trailing whitespace"

    - title: "Book details panel: Pick the color used for links from the current system color theme"

    - title: "Windows: Fix file selection dialogs blurry on HiDPI monitors"

  improved recipes:
    - Gosc Niedzielny
    - Nikkei Free
    - Financial Times (UK)
    - Foreign Affairs
    - Berlin Policy Journal
    - Gazet van Antwerpen
    - Hurriyet


- version: 2.62.0
  date: 2016-07-08

  new features:
    - title: "EPUB metadata: Support for reading and writing EPUB 3 specific metadata. Now when processing EPUB 3 files, calibre will generate/use EPUB 3 specific metadata constructs when available, for example for series."

    - title: "Recognize the newest Kindle model, that started shipping today."
      tickets: [1599970]

  bug fixes:
    - title: "Tag Mapper: Allow specifying a space as the split character when creating a split tags rule"

    - title: "Tag mapper: Fix upper case characters not working in 'contains' rules"

    - title: "Smarten punctuation: Fix double dashes and triple dots being smartened even inside attribute values."
      tickets: [1598465]

    - title: "HTML Input: Sanitize semi-colons from HTML filenames as they can cause problems with other EPUB consuming software."
      tickets: [1598719]

    - title: "EPUB Input: Speed up reading of the book spine from the OPF file for books with a very large number of entries in the spine"

    - title: "Edit Book: Reports: Characters: Fix sorting by count and name not working."
      tickets: [1598518]

    - title: "Fix KoboTouch configuration migration not working for older settings"
      tickets: [1598017]

  improved recipes:
    - The Skeptic

  new recipes:
    - title: Various Russian news sources
      author: bugmen00t

- version: 2.61.0
  date: 2016-07-01

  new features:
    - title: "Driver for FNAC (re-branded Bq) with new firmware."
      tickets: [1596952, 1595924]

    - title: "Edit Book: Check Book: Add an auto fix action to remove all links to a missing resource (such as a deleted stylesheet) automatically."
      tickets: [1596048]

  bug fixes:
    - title: "Edit Book: Check Book: Fix incorrect handling of font family names with spaces in them that are not quoted."
      tickets: [1596053]

    - title: "E-book viewer: Fix Qt 5.7 breaking mouse wheel scrolling"

    - title: "Kobo driver: Fix a regression in the last release that broke connecting to older devices"
      tickets: [1596801]

    - title: "Get Books: Fix detection of book formats broken for the Legimi plugin by a website change"

    - title: "Update builtin metadata source ozon.ru to handle website changes"

    - title: "Font subsetting: Fix incorrect handling of fonts whose names are included in font rules without quotes"

    - title: "Fix ebook-viewer broken when running the binary calibre release on systems with very old versions of glibc"

  improved recipes:
    - derStandard
    - Kurier
    - Kliene Zeitung

- version: 2.60.0
  date: 2016-06-24

  new features:
    - title: "Edit metadata: In the drop down list for languages, show the five most recently used languages first."
      tickets: [1594089]

    - title: "Edit Book: Check Book: Add a check for missing navigation documents in EPUB 3 books"

    - title: "Kobo driver: Improved configuration dialog for the Kobo Touch device driver"

    - title: "Copy to Library: Do not abort the copy process if only some books fail to copy, instead report which books failed and copy the rest."
      tickets: [1594100]

    - title: "News download: Make all relative links (those starting with /) absolute. Useful when reading on a device that supports web browsing."

    - title: "EPUB metadata: Add an option to disable adding of cover images to EPUB files that declare no cover image in their metadata (Preferences->Plugins->Customize the Set EPUB metadata plugin)"

  bug fixes:
    - title: "ToC Editor: Fix ToC detection in EPUB 3 files with only an NCX and no nav not working"

    - title: "E-book viewer: In paged mode, when the window is toggled between full screen and window, repeatedly, preserve the position more accurately."
      tickets: [1595307]

    - title: "E-book viewer: Fix incorrect page turning when multiple pages are displayed on screen for books that wrap all their content in a single 100% height tag."
      tickets: [1594657]

    - title: "Fix a regression that broke scheduling a new news download in timezones west of GMT"

    - title: "Edit Book: Fix undocked windows not resizable on OS X"

    - title: "Fix a regression in 2.57 that broke rescaling of images to fit the output profile screen size during conversion."
      tickets: [1594098]

    - title: "Fix for file dialogs not working on windows when non-ascii environment variables are present"

    - title: "HTML Input: Fix error when converting HTML file with URL encoded filename."
      tickets: [1593632]

  improved recipes:
    - Handelsblatt
    - New York Times Book Review
    - Antyweb

- version: 2.59.0
  date: 2016-06-17

  new features:
    - title: "Amazon metadata download: Download the series information when available from amazon.com"

    - title: "Amazon metadata download: Recognize common patterns of embedding the series name after the title and remove it automatically"

    - title: "Edit Book: Add support for EPUB 3 to the Table of Contents tool. Now when editing EPUB 3 files using the tool will automatically generate both the EPUB 3 navigation document and the NCX table of contents for backwards compatibility."

    - title: "EPUB Input: Implement reading of Table of Contents from EPUB 3 files that do not specify a fallback NCX ToC"

    - title: "EPUB metadata: When setting a cover image for an EPUB file that has no metadata cover image defined, add the new cover image as a pure metadata cover instead of aborting."

  bug fixes:
    - title: "Fix crash on exit if any plugins have loaded code that raises exceptions during shutdown."
      tickets: [1592414]

    - title: "Copy to library: Speed up checking for duplicates when copying multiple books to a large library."
      tickets: [1593027]

    - title: "Get Books: Update Smashwords plugin for website changes."
      tickets: [1590653]

    - title: "Edit Book: Fix a bug in the new text search facility that could cause searches to fail when searching from the current cursor position instead of the top of the file."
      tickets: [1588778]

    - title: "Bulk conversion dialog: Fix page margin settings being ignored when converting to DOCX"

    - title: "Make the default shortcut for remove books Backspace on OS X since many mac keyboards have no delete key and the backspace key is labelled as delete"

    - title: "Edit Book: Check Book: Do not warn if a cover image is not referenced in the text"

    - title: "E-book viewer: Fix a bug that could cause incorrect rendering of chapter titles in some rare circumstances."

    - title: "Windows console output: Handle consoles with non black and white color scheme correctly"

    - title: "Fix a regression in 2.57 that caused auto-removal of borders from covers to become much less proficient at detecting borders"

    - title: "Fix a regression in 2.57 that broke grayscaling of images"

  improved recipes:
    - Technology Review (DE)

- version: 2.58.0
  date: 2016-06-02

  new features:
    - title: "Edit Book: A text search tool to conveniently search for text even if it crosses multiple HTML tags (Search->Search ignoring HTML markup)"

    - title: "OSX: Allow drag and drop of file onto viewer dock icon to view file"

  bug fixes:
    - title: "Workaround for incompatibility between Qt 5.5+ and Ubuntu that caused the context menu for the book list to flicker."
      tickets: [1534936]

    - title: "Windows: Workaround for explorer shell extensions on windows that write to stdout"

    - title: "Edit Book: When jumping to next occurrence of a word, take language into account"

    - title: "Edit Book: Fix import of words into user dictionary not working"

    - title: "Fix use of non-ascii characters in identifiers causing an error when identifier rules are used."
      tickets: [1584470]

    - title: "Fix a regression that caused the paste from clipboard button to paste two times in the Add books from ISBN dialog"

    - title: "Fix for incompatibility with PyQt 5.6"

  improved recipes:
    - Denver Post
    - Financial Times
    - bild.de

- version: 2.57.1
  date: 2016-05-20

  new features:
    - title: "Driver for the Bq Cervantes 3"

    - title: 'A new "Ornamental" cover design for the "Generate cover" feature'

    - title: "Windows: Use a helper process that does not load any calibre DLLs to display file open/save dialogs. This should fix most crashes caused by poorly designed windows shell extensions."

    - title: "Allow pressing Alt+O as a shortcut for click the OK button in the Add from ISBN dialog."
      tickets: [1578692]

    - title: "Remove the calibre dependency on ImageMagick -- reduces calibre install size by ~ 15MB"

    - title: "Edit book: Add a new image filter: Normalize -- to improve the contrast in images"

    - title: "Edit book: Add a filter to make images look like oil paintings"

    - title: "Use 'Not rated' for zero stars in all rating spin boxes"

  bug fixes:
    - title: "Edit Book: Fix a crash in the Insert Link tool if one of the HTML files contains an empty id."
      tickets: [1580928]

    - title: "Fix tag like custom columns not sorted when displayed in the Book Details panel."
      tickets: [1578688]

    - title: "Fix transient window shown during Edit Book startup"

    - title: "Preserve booklist horizontal scroll position when merging books."
      tickets: [1579637]

    - title: "Google Images metadata download plugin: Fix error when searching for books with non-English characters in the title or author names."
      tickets: [1577036]

    - title: "Template language: Fix an error formatting dates when the underlying date does not have a day."
      tickets: [1576742]

    - title: "Preferences->Keyboard: Fix unable to use Alt+A and Alt+S as custom shortcuts."
      tickets: [1576721]

    - title: "Version 2.57.1 is a hotfix to fix a regression that broke conversion of ODT files in 2.57.0"

  improved recipes:
    - Folha de Sao Paolo
    - Barrons
    - Economist
    - Deutsche Welle (English and Spanish editions)
    - Die Presse
    - MIT Technology Review
    - Financial Times UK
    - Telegraph UK
    - The Guardian
    - Spiegel Online
    - Brand Eins
    - Focus.de
    - The Toronto Star
    - The Atlantic
    - Capital.de
    - The Times of India
    - The Economic Times India

- version: 2.56.0
  date: 2016-04-29

  new features:
    - title: "Edit Book: Add an option to show full file paths in the Files Browser instead of just the file name (in Preferences->Main window)"

    - title: "Allow creating a keyboard shortcut to minimize the calibre window (Preferences->Keyboard->Miscellaneous)."
      tickets: [1573775]

  bug fixes:
    - title: "Fix the Google Images based cover download plugin not working because of changes to Google's image search service"

    - title: "E-book viewer: Prevent the TAB key from causing partial scrolling in paged mode."
      tickets: [1571304]

    - title: "Book details panel: Fix regression in previous release that broke url:http|... style identifiers"

    - title: "OS X: Redirect stdout/stderr to /dev/null instead of ASL since ASL is flaky on some OS X machines. This should prevent errors in third party plugins that print a lot of debug messages even when not in debug mode"

    - title: "Fix for OS X upgrade 10.11.4 breaking detection of Kobo devices on some systems"

    - title: "Edit Book: Fix filename being duplicated in the Files Browser when multiple files with the same name are present."

    - title: "PDF Output: Make fix for blank page at end of HTML file also work when headers/footers are specified"

  improved recipes:
    - Forbes
    - Wall Street Journal
    - Berliner Zeitung
    - Tagesspiegel
    - TIME
    - Foreign Affairs
    - New Yorker

  new recipes:
    - title: "1843"
      author: Kovid Goyal

    - title: Berlin Policy Journal
      author: Aimylios

- version: 2.55.0
  date: 2016-04-15

  new features:
    - title: "Allow creation of rules to convert arbitrary identifiers into clickable links in the book details panel (Preferences->Look & Feel->Book details)"

    - title: "Tag mapper: A new rule type 'split' allows you to easily split tags on a character"

    - title: "Make the shutting down message an overlay so it is less disruptive"

    - title: "Allow right clicking on Virtual Library tabs to edit/delete the virtual library."
      tickets: [1568306]

    - title: "Tag mapper: Add a button to edit the list of tags in a tag mapper rule using the tag editor dialog."
      tickets: [1568376]

  bug fixes:
    - title: "Conversion: Fix the obsolete HTML align=center markup (produced by Microsoft Word) not working for tables."
      tickets: [1569583]

    - title: "Font subsetting: When font-variant: small-caps is used include the capital letters as well, in case either the font or the renderer do not support OpenType smcp."
      tickets: [1568555]

    - title: "Font subsetting: Implement support for text-transform."
      tickets: [1568555]

    - title: "Fix the target book entry in the book list not being refreshed after merging books. Only matters if you have a column based on book formats."
      tickets: [1568091]

    - title: "E-book viewer: Fix a link that has some text along with a superscript/subscript being incorrectly detected as a footnote link"

    - title: "Fix device detection on windows failing if the registry entries for the device contain a very long item."
      tickets: [1567569]

    - title: "Edit Book: Fix an extra colon being added when setting the 'notes' semantic"

    - title: "Ensure that author folder names are never windows reserved names"

    - title: "E-book viewer: When displaying an EPUB 3 document that uses epub:switch to provide a fallback for MathML content, prevent both the MathML and fallback from being shown together."

    - title: "PDF Output: When displaying an EPUB 3 document that uses epub:switch to provide a fallback for MathML content, prevent both the MathML and fallback from being rendered together."

    - title: "Fix exception in custom column preferences when the column lookup key is changed"

    - title: "Catalog generation: Do not crash is a book in the library has no uuid."
      tickets: [1565242]

  improved recipes:
    - Brand Eins
    - Handelsblatt
    - tyzden
    - Newsweek

  new recipes:
    - title: Kitekinto
      author: pofa

- version: 2.54.0
  date: 2016-04-01

  new features:
    - title: "Edit metadata in bulk dialog: Allow configuring the types of generated covers."
      tickets: [1559257]

    - title: "E-book viewer: Make the detection of note boundaries for popup footnotes a little more robust"

    - title: "E-book viewer: Add options to control the amount the mouse wheel and arrow keys scroll by in flow mode"

    - title: "When running the content server do not hide the main calibre window during shutdown until the content server has stopped. Show a shutting down message in the window so that the user knows what is happening."

    - title: "Edit Book: Check Book: Add a check for empty links"

    - title: "DOCX Input: When the document has a Table of Contents created using the Word Table of Contents tool, keep a reference to it in the metadata.  This is useful when converting to old style MOBI and you want to precisely control placement of the ToC."
      tickets: [1556983]

  bug fixes:
    - title: "Fix auto-mounting of some types of devices not working on FreeBSD"

    - title: "calibredb add: Fix the --cover option not working if the book being added has its own cover."
      tickets: [1562507]

    - title: "E-book viewer: Fix mathematics being typeset at too small a font size on windows"

    - title: "PDF Output: Fix occasional blank pages erroneously inserted in the text (at the end of an internal html file)."
      tickets: [1559855]

    - title: "Book details panel: Fix url:file:// identifiers not becoming links"

    - title: "Fix fetch news dialog not rendering properly on HiDPI screens"

    - title: "Fix a hard to trigger crash introduced in the previous release when using the conversion dialog"
      tickets: [1557147]

  improved recipes:
    - Nature News
    - TIME Magazine
    - Folha de Sao Paolo
    - Endgadget
    - MSNBC
    - The New York Times Book Review

  new recipes:
    - title: Magyar Nemzet and Mult Kor
      author: pofa

- version: 2.53.0
  date: 2016-03-11

  new features:
    - title: "Edit Book: A new tool to transform book styling using easy to create rules."
      description: "For example, you can create rules to change colors in the book or to double the font size of all text in the book, etc. For details, see https://manual.calibre-ebook.com/edit.html#transforming-css-properties"
      type: major

    - title: "Conversion: Allow creating rules to transform styles during conversion, as above. Available in the conversion dialog at 'Look & Feel->Transform style'"

    - title: "Edit metadata dialog: Make the hide toolbars right click menu action persistent. Also fix very large number of custom fields causing the basic metadata tab to not be aligned properly"

    - title: "Portable Installer: Do not ask to launch calibre when running an automated install. Automated installs will now never launch calibre."

  bug fixes:
    - title: "E-book viewer: Hide list numbers for popup footnotes when the footnotes are use <ol> as the number are likely to be incorrect."

    - title: "DOCX Input: Ignore the hidden bookmark Word 2010 inserts to enable the go to last edit feature."
      tickets: [1552972]

    - title: "Fix keyboard focus lost after merging book records"
      tickets: [1550520]

    - title: "E-book viewer: Handle <![CDATA[ escapes correctly."
      tickets: [1550966]

    - title: "Edit Book: Fix spelling correction suggestions not being shown when using the context menu key with the cursor at the end of the word"

  improved recipes:
    - Mediapart

- version: 2.52.0
  date: 2016-02-26

  new features:
    - title: "Allow creating rules to ignore files when adding books based on the filename"
      description: "Useful when using the auto-add feature or when adding in bulk. Preferences->Adding Books->Rules to filter added files"

    - title: "calibredb add: Allow specifying filters to control adding of books from directories"

    - title: "E-book viewer: Allow copying the Table of Contents to the clipboard by right clicking on it."
      tickets: [1548791]

  bug fixes:
    - title: "FB2 metadata: Ignore invalid (unidentifiable) cover images."
      tickets: [1548417]

    - title: "FB2 metadata: Fix error when adding books with non-numeric series numbers."
      tickets: [1548405]

    - title: "DOCX Input: Fix handling of toggle properties such as bold/italic/strikethrough/etc. when specified as document defaults."
      tickets: [1548187]

    - title: "Conversion pipeline: Add support for the q CSS length unit"

  improved recipes:
    - AsiaOne
    - Today Online - Singapore
    - Foreign Policy
    - Outlook India
    - Economic and Political Weekly
    - Foreign Affairs
    - El Pais
    - LA Times
    - Al-Ahram
    - New York Times Book Review

  new recipes:
    - title: Al-Masry Alyoum
      author: Hassan Williamson

- version: 2.51.0
  date: 2016-02-12

  new features:
    - title: "Add an action to the context menu for the search bar to paste and instantly execute the search."
      tickets: [1541286]

    - title: "When adding multiple books from a single directory, added the books in order of the last modified time of the book files."

  bug fixes:
    - title: "Fix a regression in 2.50 that prevented a small number of devices from being detected on windows"

    - title: "PDF metadata: Workaround for PDF files with corrupted XMP metadata packets, generated by Nitro PDF."
      tickets: [1541981]

    - title: "Edit Book Beautify: Do not beautify the insides of heading/p tags even when they are the only child of body"

    - title: "Amazon metadata download: Fix published date not being downloaded from amazon.it"

    - title: "Fix a regression in 2.50 that broke the user created device driver feature on windows"

    - title: "EPUB Input: Fix error when processing EPUB files that uses non-ascii characters for their unique ids."
      tickets: [1540496]

    - title: "When reading the cover from comic files, ignore any image files inside __MACOSX/ directories."
      tickets: [1539414]

    - title: "Fix calibre on OS X unable to connect to sites that support only TLS >= 1.1. Also update the version of Qt bundled on OS X to 5.5.1"

  improved recipes:
    - Endgadget
    - The Economic Times India
    - Discover Magazine

- version: 2.50.1
  date: 2016-01-29

  new features:
    - title: "Change the way that devices are detected on Windows. This fixes device detection problems on some Windows 10 computers"

    - title: "Edit Book: When inserting images, add an option to insert the image as a full page image"

    - title: "DOCX Input: Add support for framed text created by setting the same border style on neighboring paragraphs."
      tickets: [1526663]

    - title: "Update PocketBook 650 driver for latest firmware revision"
      tickets: [1535801]

  bug fixes:
    - title: "DOCX Input: Fix empty paragraphs with borders being rendered with an empty line inside the borders"

    - title: "ODT Input: Fix fallback PNG images generated by LibreOffice 4.x for SVG images not being ignored"

    - title: "Fix restore library failing on some windows systems with non-ascii library paths"

    - title: "Edit Book: Fix error when merging an empty HTML document or one that contains only text and no tags."
      tickets: [1535427]

    - title: "Fix failure to add FB2 files that contain published dates."
      tickets: [1535007]

    - title: "Use a private certificate when downloading plugins via HTTPS. This fixes errors on some windows machines that have missing root certificates."

    - title: "Fix tag editor not working correctly for comma-separated custom columns"

    - title: "Fix existing rating not being removed when using Polish Books or Embed Metadata tools on EPUB files."
      tickets: [1534597]

  improved recipes:
    - New Scientist
    - FAZ.net
    - Scientific American
    - Business World Magazine
    - Houston Chronicle

- version: 2.49.0
  date: 2016-01-15

  new features:
    - title: "E-book viewer: Add an option to allow only a single book to be viewed at a time. Trying to view a second book will cause it to replace the currently viewed book."
      tickets: [1526504]

    - title: "Kobo driver: Add support for the new firmware 3.19.5761"

    - title: "Linux build: Update bundled version of Qt to 5.5.1"

  bug fixes:
    - title: "Fix splash screen getting stuck on OSX when restarting calibre in debug mode"

    - title: "Get Books: Update plugins for various Polish language book stores to handle changes to the website"

    - title: "Amazon metadata download: Handle a change in the amazon website that prevented review metadata from being downloaded"

    - title: "Better algorithm for guessing the 'external' network interface that is displayed to the user"

    - title: "Tag Mapper: Do not allow the user to create rules with invalid regular expressions"

    - title: "E-book viewer: Disallow hyphenation in documents that use mathematical typesetting as the hyphenation breaks that typesetting"

    - title: "E-book viewer: Fix some non-ASCII characters not display in embedded MathML."
      tickets: [1532323]

    - title: "Download calibre plugins securely using HTTPS"

    - title: "MOBI Output: Try to autofix corrupted PNG images in the input document."
      tickets: [1531738]

    - title: "Nook Glowlight Plus: Send files by default to the NOOK/My Files folder."
      tickets: [1531394]

    - title: "E-book viewer: Fix failure to view comic files that contain non-ASCII characters int heir internal filenames."
      tickets: [1530517]

  improved recipes:
    - Echo Online
    - Various Uruguayan news sources
    - Economic and Political Weekly
    - Tagesanzeiger

  new recipes:
    - title: LaRed21
      author: Carlos Alves

- version: 2.48.0
  date: 2016-01-01

  new features:
    - title: "Driver for Energy Ereader Screenlight."
      tickets: [1529108]

    - title: "DOCX Input: Add option to have superscripts/subscripts converted so that they do not affect the line height of the line containing them."
      tickets: [1528055]

    - title: "New option to hide empty categories in Tag Browser (Preferences->Look & Feel->Tag Browser)"

  bug fixes:
    - title: "Image compression: Fix spurious zero byte .bak files being created when compressing png images inside epub files"

    - title: "Image compression: Fix bug that could cause zero byte images files/or file in use errors when compressing images"

    - title: "Fix some icons not being themeable"
      tickets: [1529501]

    - title: "E-book viewer: When using heuristics to detect footnote links check for vertical-align set to top and bottom as well as sub and super"

    - title: "Book details panel: Display data in right-to-left format when the calibre interface language is set to a right-to-left language such as Hebrew or Arabic"

  improved recipes:
    - Rzeczpospolita
    - New York Times Book Review
    - der Standard
    - More Intelligent Life
    - Reader's Digest
    - Financial Times
    - New Scientist


- version: 2.47.0
  date: 2015-12-21

  new features:
    - title: "A new tool to easily export and import all calibre data -- books, settings and plugins"
      description: "Right click the calibre icon in the main calibre toolbar and choose \"Export/import all calibre data\" to run this tool. It is useful if you want to move to a new computer or duplicate your calibre setup on a second computer, with minimal effort. This tool is very new, so if you run into problems, please report bugs. You can always use the old manual method of copying library folders as a fallback."
      type: major

    - title: "Get Books: Add plugins for Amazon Australia and Amazon India. Also restore the Amazon EU plugins."
      tickets: [1526089]

  bug fixes:
    - title: "PDF Input: Fix conversion of PDF documents that contain ASCII control codes in their outlines not working."
      tickets: [1527697]

    - title: "Edit book: Fix image compression utilities opening a new console per invocation on windows"

    - title: "Image compression: If the compression tools return a zero byte image ignore it and use the original image"

    - title: "Fix a regression that caused book titles in the Book Details panel to become clickable"

  improved recipes:
    - Fox News
    - Le Devoir
    - Le Monde diplomatique.fr

- version: 2.46.0
  date: 2015-12-11

  new features:
    - title: "PDF Input: Add support for PDF outlines (bookmarks), if present, they are used as the metadata Table of Contents."
      tickets: [1524522]

    - title: "Book polishing: Add tool to losslessly compress images in the book in order to reduce its filesize, without affecting image quality"

    - title: "Edit Book: Add a new tool to compress images in the book losslessly, accessed from the Tools menu"

    - title: "Kobo driver: add support for new Kobo firmware"
      tickets: [1524742]

    - title: "Bulk metadata edit dialog: Allow entering fractional numbers into the series number start with control."
      tickets: [1523253]

    - title: "Speed up moving libraries by using hardlinks instead of file copies when moving to a location on the same filesystem"

    - title: "Get Books: Disable the Amazon EU stores, at Amazon's request"

  bug fixes:
    - title: "Fix moving libraries via calibre leaving behind a copy of the metadata_db_prefs_backup.json file in the original library folder"

    - title: "MOBI Input: Warn about corrupted trailing data entries, instead of aborting. Getting some, even partially corrupted text is better than no text."
      tickets: [1521830]

    - title: "Book details: Fix single value custom text column not clickable."
      tickets: [1521004]

    - title: "Saving to disk: Fix custom date column being rendered in GMT instead of the local time zone when used in a save to disk template."
      tickets: [1520895]

  improved recipes:
    - New York Review of Books
    - Caravan Magazine
    - heise


- version: 2.45.0
  date: 2015-11-27

  new features:
    - title: "Cover browser: Allow customizing the text that appears under the covers with a template in Preferences->Look & Feel->Cover browser"

    - title: "When sending books without a cover to the device, generate a cover with book metadata instead of using the blank book icon"

    - title: "Preferenes->Add your own columns: Show more information about existing columns"

  bug fixes:
    - title: "PDF Output: Handle input documents with fonts that do not have either postscript or full name information."
      tickets: [1518678]

    - title: "DOCX Input: Handle numbering styles that use non-decimal number formats and custom templates."
      tickets: [1519962]

    - title: "Allow restoring of corrupted library to work even if the metadata.db file is missing from the library folder"
      tickets: [1519855]

    - title: "Bulk metadata dialog: Fix renaming a custom series via search and replace causing the series index to be reset to 1."
      tickets: [1519599]

    - title: "Bulk metadata dialog: Fix search and replace not working for text like custom columns if the column contains only a single value."
      tickets: [1516890]

    - title: "Content server: Fix next and previous links not working in the mobile view when using a search query that includes url unsafe characters."
      tickets: [1519606]

    - title: "Update Amazon metadata download plugin to handle amazon.com website change that was preventing any metadata from being downloaded"

    - title: "Edit Book: Fix error when trying to add words to user dictionary for a book with a language that has no dictionary available."
      tickets: [1517928]

    - title: "Tag browser: Fix various bugs in how grouped search terms are displayed. Also fix counts and average rating for items in user categories"

    - title: "When using copy to library also create missing composite columns in the destination library."
      tickets: [1516880]

  improved recipes:
    - The Guardian and The Observer


- version: 2.44.1
  date: 2015-11-15

  bug fixes:
    - title: "Update the version of libpng bundled with calibre to fix a security vulnerability in libpng"
      description: "See https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2015-8126 for details on the vulnerability"

- version: 2.44.0
  date: 2015-11-13

  new features:
    - title: "Allow setting the cover for a book from one of the book's formats by right clicking on the format in the Book details panel."
      tickets: [1515411]

    - title: "Allow drag and drop of all file types onto the book details panel and the format list in the edit metadata dialog."
      tickets: [1515407]

    - title: "Edit Book: When inserting an image into the current document, add a button to paste the image from the clipboard"

    - title: "Edit Book: Change the suggested prefix for bulk renaming of files depending on the type of files being renamed."
      tickets: [1514468]

    - title: "On Linux, use the system tray icon from the system theme, if available"

  bug fixes:
    - title: "Fix for error when connecting to some Android phones/tablets that have an SD card on OS X and Linux"

    - title: "Linux build: Fix problem with pointing hand mouse cursor not using the system theme on some Linux systems"

    - title: "Fix the device view state not being saved when a connected device is ejected/disconnected"

    - title: "Edit Book: Fix saving fails if the original file is deleted during editing session"
      tickets: [1513849]

    - title: "E-book viewer: When doing a search do not match text in comments, attributes and inappropriate tags, such as <script> and <style>"

  improved recipes:
    - Gamasutra

- version: 2.43.0
  date: 2015-11-06

  new features:
    - title: "Edit Book: Add a 'Smart Comment' tool to easily comment/uncomment text"
      description: "Press Ctrl+` to trigger the tool, or add the tool to your toolbar via Preferences->Toolbar->Tools for all editors. It will either insert comments around the selected text or uncomment an existing comment if the cursor is inside one."

    - title: "Tag mapper: Add new rule types to upper-case, lower-case or capitalize tags"

    - title: "Markdown input: Allow the 'extra' convenience extension as a shortcut for enabling multiple other extensions. Also add the Attribute List and Admonition extensions. Finally, update the markdown library used by calibre"
      tickets: [1512461]

  bug fixes:
    - title: "Amazon metadata download: Fix for website change at amazon.com that prevented ratings from being downloaded."
      tickets: [1513318]

    - title: "Tag mapper: Prevent cycles in the replacement rules from causing the tag mapper to hang"
      tickets: [1513330]

    - title: "Do not fail on windows systems where the system function to get the users home folder fails"

    - title: "E-book viewer: Set the foreground color as well as the background color for the reference mode popup. Makes it legible even when the user specifies a different color theme for the viewer."

  new recipes:
    - title: La Politica Online
      author: Darko Miletic

- version: 2.42.0
  date: 2015-10-30

  new features:
    - title: "Driver for the new NookGlowlight Plus. This device only allows sending of files inside the NOOK folder, so calibre now follows that limitation."

    - title: "When converting AZW4 files to PDF, skip the conversion and simply unwrap the PDF file already embedded inside the AZW4 file."

    - title: "Metadata download review dialog: Add an option to mark rejected books in the main book list after the review is completed."
      tickets: [1507198]

    - title: "Edit Book: Spell check dialog: Add a button to undo the last spelling change"

  bug fixes:
    - title: "Edit metadata dialog: When downloading metadata with download of authors turned off, do not regenerate the author sort field after the download."
      tickets: [1510335]

    - title: "Fix a regression that broke the heuristic used to detect cover images in some EPUB files that do not specify their cover metadata."
      tickets: [1509642]

    - title: "Edit Book File List: Fix pre-selection of filename when renaming a file in the root"

    - title: "Tag mapper: Fix bug when replacement tag has comma in it and the replacement rule is not the last rule"

  improved recipes:
    - Sueddeutsche.de
    - NRC
    - Various Polish news sources
    - Pocket

- version: 2.41.0
  date: 2015-10-16

  new features:
    - title: "Edit Book: Allow editing an unzipped EPUB (a folder) as a book"
      description: "Useful if you wish to store your ebook in a version control system and edit it directly with the calibre ebook editor (File->Open folder as book)"

    - title: "Edit Book: Allow easily removing items from the popup menu for the 'Insert tag' button"

    - title: "Make Tag Browser more useable with keyboard shortcuts. Configure the keyboard shortcuts in Preferences->Keyboard->Tag Browser"

    - title: "ToC editor: Add context menu item to change selected entries to upper case"

  bug fixes:
    - title: "Edit Book: Preview panel: Render in XHTML mode. Fixes svg elements using a global svg namespace not rendering."

    - title: "Tag Browser: Fix clicking on first-letter groups for series not working"

    - title: "DOCX Output: Ignore corrupted images in the input instead of erroring out on them."

    - title: "E-book viewer: Fix keyboard shortcut to toggle table of contents not working when ToC window is made floating."
      tickets: [1503910]

    - title: "Allow ebook-metadata to work with read-only files when no options are specified to change metadata."
      tickets: [1504345]

    - title: "Tag mapper: When the replacement tag contains commas, create multiple tags instead of replacing the comma with a semi-colon."
      tickets: [1503526]

    - title: "HTMLZ Output: Set the HTML <title> to the book title."
      tickets: [1502592]

  improved recipes:
    - Boston Globe
    - Wall Street Journal
    - Komputerra
    - Spectator Magazine
    - The Independent

- version: 2.40.0
  date: 2015-10-02

  new features:
    - title: "A new tool to apply Tag mapper rules to existing books in the library. To use it, go to Preferences->Toolbars and add the tool to the toolbar."

    - title: "Kindle driver: Detect books in Amazon's new KFX format present on e-ink kindles."
      description: "Note that this only detects KFX books and allows you to delete them. You cannot copy them to your calibre library. Doing so would be pointless anyway, as KFX books are specialised for individual devices. Instead go to your 'Manage my content' page an amazon.com and download them from there -- this will give you a regular azw3 file you can add to calibre."
      tickets: [1496206]

  bug fixes:
    - title: "TXT Output: Do not fail when input contains HTML comments with double hyphens in the comment text."

    - title: "E-book polishing: Show a confirmation if the user selects both the add and remove jacket actions."

    - title: "Edit Book: Fix order of checkboxes in filter style information tool is random"

    - title: "PDB Input: Ingore malformed metadata records."
      tickets: [1499878]

    - title: "Revert change in previous release to workaround broken xdg-open on linux. Apparently xdg-open is so badly broken that working around it is not possible."
      tickets: [1500226]

    - title: "ZIP Output: Fix system encoding being used instead of UTF-8 for html files."
      tickets: [1499514]

  improved recipes:
    - The Philosopher's Magazine
    - Harper's Magazine
    - Ambito
    - Perfil
    - Telam
    - Infobae.com
    - La Nacion
    - Clarin

- version: 2.39.0
  date: 2015-09-25

  new features:
    - title: "Implement tag mapping to automatically filter/transform tags when adding books or downloading metadata"
      description: "Now you can create simple rules that will filter/transform the tags when adding new books or downloading metadata for books. To setup the rules, go to Preferences->Adding books and Preferences->Downloading metadata"
      type: major

    - title: "Kobo driver: Support for newly firmware version 3.18"
      tickets: [1499340]

    - title: "Edit Book: Add a setting to control icon size for the toolbars (Preferences->Toolbars)"

  bug fixes:
    - title: "Edit Book: Check Book: Fix automatic correction of missing unique id sometimes not working"
      tickets: [1498207]

    - title: "Edit Book: Fix (hopefully) View->Browse images in books sometimes not showing changed images"

    - title: "CBZ metadata: Do not fail to read metadata if the volume is not a valid number."
      tickets: [1495651]

    - title: "Content server: Fix error in /mobile page if one of the books has metadata with ascii control codes in it."
      tickets: [1491082]

    - title: "Linux: Workaround for systems with broken xdg-open implementations that do not unquote urls before passing them to applications"

    - title: "Get Books: Update cdp.pl store for website changes"

    - title: "HTMLZ Output: Fix HTML files being created with system encoding instead of UTF-8."
      tickets: [1499514]

  improved recipes:
    - TIME Magazine
    - The Atlantic
    - Instapaper
    - Trouw

  new recipes:
    - title: Various Korean news sources
      author: Hoje Lee

    - title: Presseportal DE
      author: Volker Heggemann

- version: 2.38.0
  date: 2015-09-11

  new features:
    - title: "Add support for Kobo Touch 2"

    - title: "Edit Book: Add a tool to check external links (links pointing to websites). Can be accessed via Tools->Check external links"

    - title: "Edit Book: Add an option to turn off drag and drop editing of text (Preferences->Editor)"

    - title: "Two new icon themes: Primo+ and Black Edition (Preferences->Look & Feel->Change icon theme)"

  bug fixes:
    - title: "Copy to Library: Fix author sort/link values not being copied when copying a book with an author not present in the destination library."
      tickets: [1492685]

    - title: "When inserting metadata jackets do not set media for the stylesheet. This prevented the stylesheet from working with some reader devices."

    - title: "Copy to library: Fix conversion options not being copied when copying books between libraries"

  improved recipes:
    - Strategy+Business
    - Ars Technica
    - National Geographic
    - New York Times Technology Beat

  new recipes:
    - title: Karsi Gazete
      author: Voltran

- version: 2.37.1
  date: 2015-09-04

  new features:
    - title: "Driver for the Lark Freebook reader device"
      ticket: [1491543]

    - title: "A redesigned busy spinner -- why should icons get all the love?"

    - title: "When merging book records, show more information about the target book record."
      tickets: [1490343]

    - title: "A new icon theme 'Dark Blue' (Preferences->Look & Feel->Change icon theme)"

    - title: "Add a check box to control copying ebook files when duplicating book records via the Add Empty Book dialog"

  bug fixes:
    - title: "Edit Book: Check Book: Fix automatic fixing of unsafe ids not working if the file containing the unsafe also needs to be fixed for an unsafe filename."
      tickets: [1491728]

    - title: "E-book viewer: Informative error message for themes button when no themes have been created"

    - title: "Fix a regression that caused the library switch entries at the bottom of the library menu to not work when there are many libraries."
      tickets: [1490096]

    - title: "Get Books: Update Amazon EU store plugins for website changes"


- version: 2.36.0
  date: 2015-08-28

  new features:
    - title: "Icon themes: Change the calibre icons easily via icon themes"
      type: major
      description: "You can now change the icons calibre uses easily via Preferences->Look & Feel->Change icon theme. Several icon themes are already available for calibre"

    - title: "When adding empty books to the library also allow creating duplicates of the current book, with all metadata copied. To use right click the Add Books button and select 'Add Empty Books'"
      tickets: [1488398]

    - title: "Driver for the Unusual Sapiens V2 and Adlibris Letto readers."
      tickets: [1486531, 1484585]

    - title: "Kobo driver: Add support for firmware 3.17.3"

    - title: "E-book viewer: Add a command line option to open the previously read book when starting up."
      tickets: [1483313]

    - title: "Edit Book: Live CSS: Allow copying of CSS rules by right clicking on the Live CSS panel."
      tickets: [1485237]

    - title: "Linux installer: Install application and mimetype icons in multiple sizes"
      tickets: [1489654]

  bug fixes:
    - title: "Amazon metadata download: Support for yet another variant of amazon cover image markup"

    - title: "E-book viewer: Fix --open-at sometimes giving inaccurate results (depends on speed of book loading)"

    - title: "EPUB Metadata: Add workaround for bug in PocketBook firmware which causes it to fail to read series metadata if the series number is declared before the series."
      tickets: [1488113]

    - title: "Fix user defined template functions leaking from one library to another when switching libraries/using copy to library."
      tickets: [1487949]

    - title: "Fix a regression in the previous release that could cause the marked books icon to be incorrectly rendered next to the row number"
      tickets: [1486398]

    - title: "Edit Book: Check Book: Fix incorrect links that consist only of an anchor and no filename not being detected."
      tickets: [1485670]

    - title: "AZW3 Output: Fix large tables (with many columns) not rendering correctly on Kindles."
      tickets: [1489495]

  improved recipes:
    - .tyzden
    - Forbes
    - Clarin


- version: 2.35.0
  date: 2015-08-14

  new features:
    - title: "Kobo driver: Add support for the new firmware version 3.17"
      tickets: [1484516]

    - title: "E-book viewer: Allow setting the number of pages per screen separately for portrait and landscape modes."
      tickets: [1483313]

  bug fixes:
    - title: "DOCX Input: Fix a regression in the previous release that broke conversion of some documents that specify vertical alignment in absolute units"

    - title: "Book list: Fix the current row number being partially cutoff on some windows 10 machines."
      tickets: [1482993]

    - title: "Fix 'stopping content server' message popping up repeatedly even when it is closed while the content server has not fully stopped"

    - title: "Conversion: Fix error when converting a file that uses media queries with comments in the media selector."
      tickets: [1482983]

  improved recipes:
    - American Spectator
    - South China Morning Post

  new recipes:
    - title: 3D News and iXBT.com
      author: bugmen00t

- version: 2.34.0
  date: 2015-08-07

  new features:
    - title: "Amazon metadata download: Add support for amazon.nl. To use it go to Preferences->Metadata download and configure the amazon plugin to use Netherlands as the source."

    - title: "Catalogs: Add an option to not add the generated catalog to the library."
      tickets: [1481529]

    - title: "E-book viewer: Improve performance of hyphenation (by updating the version of the hyphenation library it uses)"

  bug fixes:
    - title: "DOCX Input: Add support for text whose vertical position is adjusted by offsets from the baseline"

    - title: "DOCX Output: Handle length and percentage values for vertical-align in the input document."
      tickets: [1480300]

    - title: "Edit Book: Check Book: Fix automatic correction of invalid ids not updating the idrefs in the spine for ids in the manifest of the OPF file."
      tickets: [1479462]

    - title: "E-book viewer: Fix printing to PDF could result in filenames with characters not supported by windows"
      tickets: [1478515]

    - title: "E-book viewer: Also fix a bug in the hyphenation algorithm that could cause the word 'undefined' to be mangled during hyphenation."
      tickets: [1478292]

    - title: "ODT Input: Fix custom styles with a dot in their name not being inherited."
      tickets: [1478346]

  improved recipes:
    - Daily Express
    - The New Yorker
    - XKCD
    - Wired Magazine
    - Wired UK

- version: 2.33.0
  date: 2015-07-24

  new features:
    - title: "Driver for SONY DPT-S1."
      tickets: [1476093]

    - title: "Edit Book: When showing suggestions for mis-spelled words, also show suggestions from user created word lists"

    - title: 'Edit Book: Check Book: Add a check for "invalid" ids'

  bug fixes:
    - title: "Conversion: Ignore stylesheets linked via media queries that use device specific features."
      tickets: [1476089]

    - title: "Fix covers not being read from some TXTZ files."
      tickets: [1475984]

    - title: "ODT Input: Add support for numbered lists that do not start numbering at 1."
      tickets: [1475846]

  improved recipes:
    - msnbc.com
    - Houston Chronicle

- version: 2.32.1
  date: 2015-07-17

  new features:
    - title: "E-book viewer: Automatically save the current reading position every ten seconds. Prevents loss of reading position on crash/forced shutdown."
      tickets: [1473737]

    - title: "Edit Book: Check Book: Add checks for missing OPF version and toc references and for text placed directly inside the <body> tag"
      tickets: [1468649]

    - title: "calibredb: Add a new search sub-command that can be used to generate a list of book ids from a search expression"

    - title: "Tag Editor: Place the keyboard focus on the last edited field."
      tickets: [1473140]

    - title: "Edit metadata dialog: When clicking Next and Previous preserve the current tab of the edit comments widget."
      tickets: [1467129]

    - title: "Linux: Various fixes to make calibre work when compiled against the latest versions of Qt and PyQt"
      tickets: [1471083]

    - title: "Edit Book: Allow drag and drop of files onto dock icon on OS X"

  bug fixes:
    - title: "There was a regression in 2.32.0 that caused conversion to PDF to fail, the fix for this was released in 2.32.1"

    - title: "E-book viewer: Fix a regression in the previous release that caused the maximum text width setting in full screen mode to be ignored when switching from normal to full screen."
      tickets: [1467164]

    - title: "Fix error in template dialog when using {id} in send to device preferences."
      tickets: [1474513]

    - title: "Edit Book/Book polishing: Fix EPUB books with opf files that use a non-default namespace for the OPF namespace being corrupted."
      tickets: [1471419]

    - title: "OS X: Workaround for Qt 5 regression that causes any errors during startup to be hidden behind the splash screen."
      tickets: [1473017]

    - title: "Conversion: Fix incorrect relative URLs being generated when an HTML or CSS file is placed higher in the folder hierarchy than the opf file."
      tickets: [1474287]

    - title: "FB2 Output: Fix error when using the sectionize with toc option and the input documents Table of Contents contains multiple items pointing to the same HTML file."
      tickets: [1471125]

    - title: "Conversion: Fix error when input document contains a font size exactly one point away from the base size."
      tickets: [1472291]

    - title: "Device drivers: Handle devices with undecodeable filenames in their filesystem. Simply ignore those files."
      tickets: [1467433]

    - title: "Fix Cmd+Left/Right keyboard shortcut not working when editing items in the book list on OS X."
      tickets: [1469554]

    - title: "Fix corrupted text in the jobs list on some non-English windows installs"
      tickets: [1469549]

    - title: "Edit Book: Workaround for a Qt regression that caused 'See what changed' after a search and replace on OS X causing the application to become unresponsive."
      tickets: [1466732]

    - title: "Edit Book: Fix smarten punctuation not working for books with non-ascii characters in internal file names on OS X"

  improved recipes:
    - Harvard Business Review
    - Psychology Today
    - NRC Handelsblad
    - Entrepeneur Magazine
    - 20 minutes
    - Economia
    - Accountancy Age
    - Jakarta Post
    - Foreign Affairs
    - Spectator Magazine
    - Daily Express
    - The Onion AV Club
    - Metro UK

  new recipes:
    - title: Slate Star Codex
      author: Ned Letcher
    - title: Hurriyet
      author: Adrian Tennessee

- version: 2.31.0
  date: 2015-06-19

  new features:
    - title: "E-book viewer: Make the search engine used for searching for selected text configurable (in the Miscellaneous section of the viewer preferences)"

  bug fixes:
    - title: "E-book viewer: Fix dragging to select text with the mouse causing the page to slide sideways in paged mode, if the mouse leaves the text area."
      tickets: [1464862]

    - title: "E-book viewer: Fix transitioning between full screen mode and normal mode sometimes causing current position to not be preserved."
      tickets: [1466082]

    - title: "AZW3 Input: Ignore incorrect text encoding (incorrectly encoded bytes are now replaced by placeholders) instead of erroring out."
      tickets: [1465769]

    - title: "Get Books: Update Legimi and CDP store plugins for website changes"

    - title: "Fix Cybook Nolimbook not being detected in linux and OS X."
      tickets: [1464382]

    - title: "DOCX Output: Fix internal hyperlinks being ignored when they point to a HTML file whose <body> element has an id."
      tickets: [1464086]

    - title: "Edit Book: Fix groups in replace template being interpreted backwards when search direction is up"

    - title: "Searching: When search as you type is active, do not change automatically change focus to the book list when searching, unless the user presses Enter."
      tickets: [1463042]

    - title: "Font subsetting: Fix subsetting removing some needed ligatures when subsetting some Arabic fonts"

    - title: "Prevent errors when testing email sending even if stderr on the host machine is broken"

  improved recipes:
    - Baltimore Sun
    - El Mercurio Chile
    - Sydney Morning Herald

  new recipes:
    - title: Various Ukranian news sources
      author: rpalyvoda

- version: 2.30.0
  date: 2015-06-05

  new features:
    - title: "An option to auto-convert a book on adding even if it is already in the output format (Preferences->Adding Books)."
      tickets: [1460477]

    - title: "E-book viewer: If there are entries in the Table of Contents that are long enough to be truncated, display the full text in a popup menu when the mouse hovers over the item."
      tickets: [1460093]

    - title: "News download: Add support for turning off SSL certificate verification in individual recipes"

    - title: "Kobo driver: Support for upcoming firmware version 3.16"
      tickets: [1461964]

  bug fixes:
    - title: "DOCX Output: Fix aspect ratio of images being distorted when the input document specifies image width but not height or vice-versa."
      tickets: [1455502]

    - title: "DOCX Output: Fix extra page breaks being inserted in some situations."
      tickets: [1455502]

    - title: "LIT Input: Fix smarten punctuation not working for text (as opposed to HTML) based LIT files."
      tickets: [1460998]

    - title: "EPUB metadata: Fix extraction of cover image from EPUB 3 files that do not use EPUB 2 backward compatible markup and that have incorrect cover page markup as well."
      tickets: [1461321]

    - title: "Book details panel: On windows use only \\ as a path separator when copying file paths"

    - title: "Edit Book: Fix Saved searches panel not working well with very long search/replace expressions"

    - title: "OS X: Fix changing preferences causing 'Email to selected recipients...' appearing multiple times in the Connect/Share menu."
      tickets: [1460089]


- version: 2.29.0
  date: 2015-05-29

  new features:
    - title: "Allow opening the full Tag Editor dialog directly from the book list by holding down the Shift key while starting an edit of a tag-like field. For example, click on the tags field for a book and press Shift-F2"

    - title: "Tag Browser: Allow undoing the deletion of items in the Manage categories window"

    - title: "calibredb add: Allow setting arbitrary identifiers, not just ISBN."
      tickets: [1458620]

    - title: "Add a 'Retry' button to the news download failed error message."
      tickets: [1458076]

  bug fixes:
    - title: "DOCX Output: Detect the common idiom of placing centered images as inline images inside a containing centered block and render the resulting image as a floating centered image in the DOCX file."
      tickets: [1455502]

    - title: "DOCX Output: Fix incorrect handling of bold/italic in paragraphs where the majority of text is either bold or italic instead of normal"

    - title: "Table of Contents editor: Fix save/load of settings in the XPath wizard not working across restarts"

    - title: "Get Books: Update the Kobo Store plugin for website changes"

  improved recipes:
    - Popular Science
    - General Knowledge Today
    - Scientific American
    - Wired Magazine


- version: 2.28.0
  date: 2015-05-15

  new features:
    - title: "Conversion of all ebook formats to Microsoft Word (DOCX) files"
      type: major
      description: "Supports conversion of text styles, images, lists, tables, embedded fonts, etc. Produces DOCX files compatible with Microsoft Word 2007 or newer. Note that this code is very new, so there will likely still be kinks that will be worked out in the coming weeks."

    - title: "Add keyboard shortcuts (Ctrl+Right, Ctrl+Left) to switch between virtual library tabs."
      tickets: [1453497]

    - title: "When sending email using GMX pause for five minutes between books, to prevent GMX from blocking the account. The delay can be configured via Preferences->Tweaks"

  bug fixes:
    - title: "Open With: Fix application icons in XDG_DATA_HOME on linux not being found and fix unhandled error when choosing non-executable files as applications."

    - title: "AZW3 Output: Remove duplicate anchors to workaround some Kindle renderers using the last occurrence of an anchor as the target instead of the first."
      tickets: [1454199]

    - title: "Fix language definition on body tag being ignored during conversion"

    - title: "Edit book: When importing multiple files into the book, import them in the order sorted by their filenames instead of in random order"

    - title: "E-book viewer: Fix print to pdf not working on some windows systems with non-ascii usernames and non-utf-8 system locales. Also make the print to pdf dialog a little easier to use."

    - title: "Edit Book: Fix TOC editor window not remembering its last used size"

  improved recipes:
    - Field and Stream
    - Linux Magazine
    - Brand Eins
    - Courrier International
    - Wired Magazine
    - The Onion


- version: 2.27.0
  date: 2015-05-01

  new features:
    - title: "Edit metadata dialog: Add a clear button for the publisher."
      tickets: [1449105]

    - title: "DOCX Input: Add option to not insert page breaks between endnotes."
      tickets: [1448433]

    - title: "calibredb list: Allow outputting the book languages as well."
      tickets: [1445853]

    - title: "Italian translation of Quick Start Guide"

    - title: "Embed metadata: When embedding metadata fails for some books, add an option to show the failed books in the book list"
      tickets: [1449076]

    - title: "Animate the main toolbar when a device is connected/disconnected, to indicate that the contents of the toolbar have changed"

  bug fixes:
    - title: "E-book viewer: When printing, print to a PDF file instead of directly to the printer. This fixes printing not working on some systems."
      tickets: [1448330]

    - title: "AZW3 Input: Handle kindlegen produced azw3 files that do not use normal HTML anchors for linking."

    - title: "Fix too many open files errors that could occur in a few places on OS X"

    - title: "Do not allow user to hide all columns in book list via the context menu, as restoring them becomes difficult"

- version: 2.26.0
  date: 2015-04-24

  new features:
    - title: "Driver for the soon to be released Kobo Glo HD"

  bug fixes:
    - title: "Do not use a separate process to draw the splash screen. This might fix the issue of calibre randomly freezing on startup on a few windows systems"

    - title: "MOBI Ouput: Fix :first-letter applied to elements containing a comment causing conversion to fail"

    - title: "Properly display names of libraries containing the ampersand character."
      tickets: [1447188]

    - title: "When sorting filenames in comics treat the file extension as a secondary sort key. Fixes xyz.jpg sorting after xyz_1.jpg"

    - title: "Fix a regression in 2.25 that broke the search & replace wizard in the conversion dialog when converting a book with multiple formats"

    - title: "Content server: Fix errors when library contains enough virtual libraries to cause grouping."
      tickets: [1446282]

    - title: "Manage tags dialog: Fix setting a tag to empty causes an unhandled error."
      tickets: [1446318]

    - title: "E-book viewer: Fix a regression that caused the viewer to occasionally skip the last page in a chapter when displaying more than one pages per screen and scrolling by screen"

    - title: "Edit Book: Fix open OPF file not being refreshed when deleting items from the file browser."
      tickets: [1445634]

  improved recipes:
    - WirtschaftsWoche Online
    - Wired
    - CNN

  new recipes:
    - title: Discover Magazine Monthly
      author: Michael Marotta

- version: 2.25.0
  date: 2015-04-17

  new features:
    - title: "Edit Book: Make embedding fonts using the manage fonts dialog easier. You can now double click on a font family to see what faces for that family area available on your computer and install new fonts directly from the dialog."

    - title: "Book Details panel: Allow deleting tags/series/publisher/etc. by right clicking on the link in the book details panel."
      tickets: [1442925]

    - title: "E-book viewer: Allow expanding/collapsing all items in the Table of Contents view by right clicking"

    - title: "When using the View specific format action add an 'Open With' button to choose a specific program to view the specified format"

    - title: "Fetch News: Add API to allow recipe writers to easily resolve internal links to point to the downloaded versions of articles"

    - title: "DOCX Input: Add support for DOCX files created by Word 2013 in 'Strict' mode"

    - title: "When getting cover from comic files, use smart filename sorting to find the first filename, recognizing numbers inside the filenames."

  bug fixes:
    - title: "E-book viewer: When displaying multiple pages per screen fix whole screen scrolling so that it works as expected even at the end of the file, when their might be fewer pages left than would fill the screen."

    - title: "DOCX Input: Automatically resize large images used as bullets in lists, to compensate for the fact that HTML renderers do not do this."

    - title: "Book list: Prevent yes/no columns from making the minimum row height too large."

    - title: "Template language: Fix raw_field() function returning incorrect values for lists"

    - title: "Edit book: Fix book locale changing when OPF edited if OPF contains a country code in addition to a language code"

    - title: "Edit Book: Fix escaped HTML tags in the comments metadata being reported as mis-spelled words."
      tickets: [1441925]

    - title: "Edit Book: Fix regression that caused copying of non-breaking spaces to not work when using the keyboard shortcuts"

    - title: "Open With: Fix open with not working for programs from the Microsoft Office suite"

  improved recipes:
    - Die Zeit
    - NZZ Webpaper
    - Arcamax

  new recipes:
    - title: MIT Technology Review Magazine
      author: Michael Marotta

    - title: The Codeless Code
      author: April King

- version: 2.24.0
  date: 2015-04-10

  new features:
    - title: "E-book viewer: Add an option to not save the bookmarks inside EPUB files, under the Miscellaneous section of the viewer preferences"

    - title: "Manage User Categories: Allow restricting the visible items to only those present in the current Virtual Library (if any)"

    - title: "Book details panel: Allow copying full path to ebook files by right clicking on the format link."
      tickets: [1437756]

  bug fixes:
    - title: "Edit Book: Fix GIF format images being corrupted when using the builtin image editor to make changes to them."
      tickets: [1440398]

    - title: "Edit Book: When dragging and dropping files to re-order them in the file browser, fix the final order being dependent on the order the files were selected in."
      tickets: [1440598]

    - title: "Conversion: Fix error when converting a document that contains an invalid function based CSS selector without parentheses."
      tickets: [1440278]

    - title: "Edit Book: Fix regression that caused pressing Alt+X to type unicode characters to not work"

    - title: "Device view: Preserve position in list of books when deleting books from the device view"

    - title: "Make the context menu for the book details popup window work the same way as for the book details panel"

    - title: "Get Books: Update amazon store plugin for website changes"

    - title: "PDF Metadata: When choosing between reading metadata from the Info dict and the XMP block, consider both the MetadataData and the ModifyDate in the XMP block, since there exist PDF metadata writing tools that update one and not the other."
      tickets: [1440304]

    - title: "Fix a regression that caused ebook viewer to remember the state of the Table of Contents panel when quitting on OS X."
      tickets: [1440444]

    - title: "Prevent Enter key on Manage authors/tags/etc. dialogs from closing the dialog."
      tickets: [1440146]

  improved recipes:
    - Le Temps
    - United Daily
    - Liberty Times
    - Apple Daily
    - China Times
    - House News
    - Providence Journal
    - Harvard Business Review

- version: 2.23.0
  date: 2015-04-03

  new features:
    - title: "Allow adding an empty ebook in various formats to existing book records by right clicking the Add Books button"

    - title: "Add ability to create additional empty formats to the 'Add empty book' command"

    - title: "News download: Add API to cleanly abort the download of an article during the preprocess stage based on the article's contents."

    - title: "Update the version of Qt bundled with calibre to 5.4.1. This fixes various minor bugs, most notably, improving text rendering on linux."

  bug fixes:
    - title: "MOBI Input: Fix links not working in viewer for MOBI files that contain anchors placed on linebreak elements."
      tickets: [1439450]

    - title: "Book details panel: Fix copying Path link by right clicking on it not working."
      tickets: [1437756]

    - title: "Fix a regression that caused importing of a single book from a directory to fail if the directory has no ebook files in it"

    - title: "Column Icons: Fix apostrophes in icon filenames causing errors."
      tickets: [1436690]

    - title: "Edit Book: Fix a regression that caused Remove unused CSS to fail on invalid CSS selectors, instead of ignoring them"

    - title: "Open With: Fix open with failing to get list of default programs on windows if the registry contains missing ProgIDs."
      tickets: [1434990]

  improved recipes:
    - Esquire
    - Courrier International
    - CNET
    - Tagesschau

- version: 2.22.0
  date: 2015-03-20

  new features:
    - title: "Book List: When editing data in the book list directly, expand the editor widget to use all available width if the data does not fit inside the current column width"

    - title: "Edit Book: When re-opening a previously edited book, restore all open files and the cursor position. Can be disabled in Preferences->Main Window"

    - title: "Advanced search builder: Allow using days/weeks/months/years when building a date based search with number of days ago."
      tickets: [1431695]

    - title: "Amazon metadata download: Speedup metadata download from amazon.com when an ASIN is specified by trying the product page directly first instead of running a search."

    - title: "Implement updating metadata in DOCX files"

  bug fixes:
    - title: "ODT Input: Add support for intra-document cross-references."
      tickets: [1429271]

    - title: "PDF Output: Fix incorrect encoding of ASCII control characters and some Chines characters in metadata and Table of Contents strings."
      tickets: [1433848]

    - title: "Amazon metadata download: Work around amazon server problems where it does not return Kindle Editions in search results when not logged in."
      tickets: [1433125]

    - title: "Fix Manage Authors dialog causing current search in the book list to be cleared."
      tickets: [1432324]

    - title: "Conversion: Fix a regression in 2.21 that caused conversion to fail for books with invalid pseudo-class CSS selectors."
      tickets: [1432267]

    - title: "Content server: Fix OPDS categories not showing books for composite column categories if the column contains a colon."

    - title: "Single convert dialog: Only write metadata updates if metadata actually changed. Also show a nicer error message when a file is locked by another process."

    - title: "Open With: Fix error when scanning for default programs on windows for some file types"

    - title: "Edit Book: Fix Preview panel sometimes not working when opening multiple html files one after the other very quickly"

  improved recipes:
    - Wired Daily

- version: 2.21.0
  date: 2015-03-13

  new features:
    - title: "Allow opening ebook files and covers in external applications by simply right clicking on them in the Book Details panel."
      type: major
      description: "Now, you can right click on an ebook format or the cover in the Book Details panel, and open it with any application installed on your computer. calibre will automatically present you with a list of application capable of opening the file. Simply choose one, or if your particular application is not auto-detected, you can browse for it manually."

    - title: "Tag Browser: Make rename and delete for items in the Tag Browser restrict themselves to the current Virtual Library (if any). There is also an additional menu entry you can use to rename and delete across all books while in a Virtual Library."

    - title: "Conversion: Use a new (written from scratch) implementation of CSS Level 3 selectors that fixes various bugs in handling of the more advanced/uncommon CSS selectors such as nth-last-child()"

    - title: "Edit Book: Allow restoring of disabled confirmation prompts in preferences and add a confirmation when removing saved searches"

    - title: "Edit ToC button: Remember the last used ebook formats"

  bug fixes:
    - title: "E-book viewer: Fix regression that prevented pasting of text with formatting from the viewer."
      tickets: [1428018]

    - title: "Table of Contents Editor: Fix selecting a location inside a file and then clicking on another file causes the previous location to be used in the new file."
      tickets: [1428212]

    - title: "DOCX Input: Fix incorrect bold font weight being used for heading styles even if the style definition does not specify bold."
      tickets: [1430831]

    - title: "AZW3 Input: Fix a bug that prevented conversion of AZW3 files that contained an empty CSS media block."
      tickets: [1426220]

    - title: "PDF Output: Fix incorrect rendering of text in elements that use font-variant:small-caps and also have children."
      tickets: [1425094]

    - title: "Get Books: Update Amazon Europe, Empik and CDP store plugins"

    - title: "PDF Output: Fix incorrect conversion of source document that specify dir='rtl' on the root element."
      tickets: [1429292]

    - title: "PDF Output: Ignore unparseable links instead of aborting the conversion on them."
      tickets: [1429282]

    - title: "Fix reading metadata from filenames tester not working for dates before 1900."
      tickets: [1424607]

    - title: "Linux binary install: Fix SSL CA certificates not being detected on Fedora based distributions"

    - title: "Books list: Fix column alignment incorrectly propagating when changing libraries"

    - title: "FB2 Input: Do not put a border around images"

    - title: "Fixes for various incompatibilities with (Py)Qt 5.4.1 which is used by some calibre distro packages on linux"

    - title: "Fix error when running calibredb backup_metadata on a library that contains book records with no path information"

    - title: "Edit Book: Fix extra search being hidden when removing a saved search"

    - title: "Fix a regression in 2.20 that prevented some changes to per-library preferences from being saved"

    - title: "Linux installer: Do not register application/octet-stream as one of the mimetypes calibre can handle"

  improved recipes:
    - Spektrum der Wissenschaft
    - New Musical Express
    - The Daily Mirror

  new recipes:
    - title: Pando Daily
      author: Darko Miletic

- version: 2.20.0
  date: 2015-02-20

  new features:
    - title: "ODT Input: Add backlinks for footnotes/endnotes and improve their formatting."
      tickets: [1421056]

    - title: "Windows: When running on windows 8 and newer register with default programs so that users can more easily select calibre or its viewer/editor as the default program to launch ebook files."
      tickets: [1422248]

    - title: "Make publishers in the book details panel clickable."
      tickets: [1419313]

    - title: "Edit Book spell check: For mis-spelled words of the form one:two offer one: two as a suggested correction."
      tickets: [1422133]

  bug fixes:
    - title: "Fix a regression that caused incorrect results when searching on numeric or date fields with relational operators."
      tickets: [1423390]

    - title: "DOCX Input: Fix regression in 2.19 that broke handling of text with leading or trailing non-breaking spaces/en-spaces/quad-spaces."
      tickets: [1422844]

    - title: "Amazon metadata download: Update plugin for website changes to Amazon Brazil."
      tickets: [1420629]

    - title: "E-book viewer: Fix footnote popup window not displaying entire footnote if footnote contains element with page-break-after set"

    - title: "Edit Book: Reports tool: Fix double clicking on an unused image causing an error"

    - title: "Tag Browser: Fix incorrect grouping of words starting with graphemes, such as ash."
      tickets: [1422116]

    - title: "Conversion: Ignore incorrectly URL encoded links instead of erroring out on them."
      tickets: [1421996]

    - title: "E-book viewer: Remove soft-hyphens when copying text to clipboard"

  improved recipes:
    - aktualne.cz


- version: 2.19.0
  date: 2015-02-06

  new features:
    - title: "Quick view window: Allow the quickview window to be docked into the main calibre window."
      tickets: [1415714]

    - title: "Add empty book: Allow setting the title as well as the author and series for the added empty book records"

    - title: "Windows driver for Grammata Papyre 602."
      tickets: [1418207]

    - title: "Edit Book: Add an option to turn off auto-completion of closing tags"

    - title: "Allow adding a description for custom columns."
      tickets: [1417219]

    - title: "Book Details panel: Allow any identifier of the form url+number to become a clickable link. For example: url1:http://example.com"

  bug fixes:
    - title: "Conversion: Convert entities that reference non-BMP unicode codepoints on Windows and OS X correctly. Linux was not affected by this bug."
      tickets: [1417327]

    - title: "Edit Book: Do not autocomplete the closing tag wen typing the / key inside an existing tag."
      tickets: [1417700]

    - title: "Fix Booken Lev e-book reader not being detected in OS X and Linux."
      tickets: [1417325]

    - title: "DOCX Input: Change handling of sequences of space characters to more closely follow Microsoft Word."

    - title: "Edit Book: Fix Table of Contents editor not remembering its saved state across calibre sessions"

    - title: "Edit book: Disallow drag and drop of documents onto the preview panel to workaround crashing bug in Qt."
      tickets: [1416752]

    - title: "E-book viewer: Fix current page not being preserved when opening and then immediately closing the footnote window."
      tickets: [1416526]

    - title: "PDF Output: Fix incorrect encoding for some chinese characters in the PDF Outline (Table of Contents)"
      tickets: [1416222]

  improved recipes:
    - FAZ.net
    - Indian Express
    - CNN

- version: 2.18.0
  date: 2015-01-30

  new features:
    - title: "Edit Book: Add 'Style Classes' and 'Links' report pages to the Reports tool"

    - title: "Tag browser: Allow expanding all children of a node by right clicking and choosing 'Expand All'"
      tickets: [1414315]

    - title: "Preferences: Re-arrange the controls to avoid needing to move the mouse from the top to the bottom of the dialog when closing the dialog after making some changes"

  bug fixes:
    - title: "Save to Disk: Fix a bug where when multiple books are being saved to disk, if the save to disk template results in identical filenames, the filenames were not being properly disambiguated."

    - title: "Preferences: Use a dialog instead of a main window to workaround Qt's poor handling of full screen mode on OS X Yosemite."
      tickets: [1414497]

  improved recipes:
    - Al Jazeera in English

- version: 2.17.0
  date: 2015-01-23

  new features:
    - title: "Edit Book: A new reports tool that shows a summary of files, images, words, characters and styles used in the book."
      description: "The reports tool is a great way to get an overview of the different parts of your book. Every line in the report is hot-linked, double clicking it jumps to the places in the book where that item is used."
      type: major

    - title: "Edit Book: Allow adding the 'Manage Snippets' action to the toolbar, for easy access"

  bug fixes:
    - title: "Update Ozon.ru metadata download plugin for website changes."
      tickets: [1407265]

    - title: "E-book viewer: Fix regression in 'flow' mode that caused horizontal scrollbar to be rendered as vertical."
      tickets: [1409916]

    - title: "Fix a regression that prevented adding of books from sub-folders if the folder contained only an OPF file and no actual ebook files."
      tickets: [1411240]

  improved recipes:
    - Salon.com
    - The Onion
    - Haaretz
    - Jot Down
    - Le Monde Diplomatique
    - tyzden
    - The AJC

  new recipes:
    - title: TheAtlantic.com
      author: ebrandon

    - title: The Conversation
      author: Krittika Goyal

    - title: Apple Daily (TW)
      author: Yulun Shih

- version: 2.16.0
  date: 2015-01-10

  new features:
    - title: "Edit Book: Add support for snippets -- small pieces of text that are often re-used."
      description: "You can now create your own snippets and insert them into the text with only a few keystrokes. The snippets include support for placeholders that you can jump between. See https://manual.calibre-ebook.com/snippets.html for details."
      type: major

  bug fixes:
    - title: "Edit Book: When importing files and the book has an orphaned entry in the manifest for that file, but the file itself is not present, rename the file instead of erroring out."
      tickets: [1407860]

    - title: "Book Details panel: Fix author links with URL schemes other than http or file preventing context menu from working."
      tickets: [1408174]

    - title: "PDF Output: Make the minimum height for headers and footers scale with the base font size"

    - title: "Fix a typo that prevented the Cybook Muse from being detected on some computers."
      tickets: [1407435]

    - title: "Fix regression in 2.15 that broke calibre on OS X 10.7 and 10.8"
      tickets: [1407102]

  improved recipes:
    - Various updated Turkish news sources
    - tyzden
    - Sueddeutsche Zeitung

  new recipes:
    - title: Ajans Firat and Edebiyat Haber
      author: asalet_r

- version: 2.15.0
  date: 2015-01-02

  new features:
    - title: "Edit Book: Add auto-completion for links."
      description: "Now as you type the filename in href or src attributes, a popup with possible completions is displayed. See https://manual.calibre-ebook.com/edit.html#auto-complete for details."
      type: major

    - title: "Edit Book Function mode: Add builtin functions to change case of text, ignoring HTML tags in the matched text"

    - title: "Edit Book - Check Book: Allow auto-fixing of file not in spine errors"

    - title: "Driver for Papyre 624 ml"
      tickets: [1405901]

    - title: "Conversion: Convert images encoded as data URIs in the input document into normal images, as some ebook reader software cannot handle data URIs."
      tickets: [1405803]

  bug fixes:
    - title: "AZW3 Input: Handle AZW3 files that contain Amazon specific CSS media queries."
      tickets: [1406708]

    - title: "Fix regression that broke the markdown-calibre command"

    - title: "Edit Book - Show what changed: Fix scrollbar sometimes not visible if the differences contain a few, very long lines. Also fix the line numbers being partially obscured on some systems (depending on the font used)."
      tickets: [1406056]

    - title: "Edit Book: Fix a regression that caused the Home key to not move to the start of the line on lines containing un-indented tags"

    - title: "Get Books: Update the Amazon (US) plugin for website changes."
      tickets: [1406040]

    - title: "MOBI Input: Fix incorrect conversion of MOBI files that wrap their content inside <a> anchor tags."
      tickets: [1405858]

- version: 2.14.0
  date: 2014-12-26

  new features:
    - title: "Metadata review dialog: Automatically insert series number when selecting a series from the completion dropdown. Also if the user does not specify a series number, use 1 as the default, instead of not setting the series."
      tickets: [1404692]

  bug fixes:
    - title: "Fix regression that broke error reporting for save to disk for books that contain no formats."
      tickets: [1405674]

    - title: "Metadata download: Fix metadata download not working for titles that contain a apostrophes in languages other than English."
      tickets: [1403677]

    - title: "Fix deleting a book from both the library and the device causing the next selected book to be incorrect, when the library is sorted by the On Device column."
      tickets: [1404629]

    - title: "FB2 Output: Fix generation of FB2 sections based on a multi-level Table of Contents in the input document."
      tickets: [1393514]

    - title: "Tolino Shine driver: Fix option to swap main memory and SD card not working on OS X."
      tickets: [1404793]

    - title: "FB2 Input: Workaround for broken FB2 files produced by convertonlinefree.com."
      tickets: [1404701]

    - title: "OS X: Workaround for OS X installs that have incorrect permissions set on their home directories. calibre will now no longer refuse to start on such machines."

    - title: "MOBI Input: Dont crash on corrupted JPG images."
      tickets: [1404590]

    - title: "Fix column icons not displaying for custom comments type columns"
      tickets: [1404234]

    - title: "Metadata review dialog: Show a confirmation for the 'Reject all remaining' button."
      tickets: [1404386]

  improved recipes:
    - Nikkei News

  new recipes:
    - title: OSEL.cz
      author: spacekpe

    - title: Courier Mail
      author: Krittika Goyal

- version: 2.13.0
  date: 2014-12-19

  new features:
    - title: "Driver for the new CYBOOK MUSE ebook reader"
      tickets: [1398672]

    - title: "Edit metadata dialog: Allow editing identifiers in a dedicated window by right clicking on the identifiers edit box."
      tickets: [1400925]

    - title: "Allow generating a cover from metadata by right clicking the cover are in the book details panel also."
      tickets: [1401972]

    - title: "Content server: Server KEPUB files with the extension kepub.epu when connecting to the browser on Kobo devices"

    - title: "Kobo driver: Add support for new firmware version 3.12"

    - title: "Edit metadata dialog: Add a keyboard shortcut to swap title and author [Alt+Down]"
      tickets: [1397701]

  bug fixes:
    - title: "Save to disk: Fix a regression that prevented saving of files into the root of a drive on Windows"

    - title: "FB2 Input: Add support for FB2 books that incorrectly use the FictionBook 2.1 XML schema."
      tickets: [1401915]

    - title: "Fix command line arguments not being ignored on windows and linux when restarting calibre."
      tickets: [1401991]

    - title: "E-book viewer: Fix sorting of bookmarks by position in book not working on windows and OS X."
      tickets: [1402152]

    - title: "Kobo driver: Fix bookmarks not being deleted from device when deleting books on the device"
      tickets: [1401502]

    - title: "Edit book: Fix auto-complete of closing tag not working when typing the closing tag at just before a word (the word would become the closing tag name)."

    - title: "calibredb: Fix list --for-machine ignoring custom columns"
      tickets: [1401085]

    - title: "Edit book/Book polishing: Fix subsetting of fonts whose @font-face rules use the local() or format() CSS functions not working"

    - title: "Edit book: Fix regression that broke typing of XML entities for ampersand, less-than and greater-than"

    - title: "Edit Book: Do not change the current selected text when right clicking on a mis-spelled word"

  improved recipes:
    - The Australian
    - The New Yorker
    - The Guardian
    - Ars Technica


- version: 2.12.0
  date: 2014-11-28

  new features:
    - title: "Edit Book: Automatically complete the closing tag in HTML/XML files when typing </"

    - title: "Edit Book: Implement auto-indent, now when pressing the Enter key to start a new line, the new line's indentation is automatically created"

    - title: "Driver for the Verso E71b ebook reader"
      tickets: [1395289]

    - title: "Redesigned the 'Add a custom news source' dialog to make it easier to use, with a more powerful python editor"

    - title: "Make translations of the User Manual available in many different languages (fully or partially translated). Click the 'Change Language' link in the sidebar of the manual to change the language"

    - title: "Edit Book: Search & Replace function mode: Add a new function annotation (replace.file_order) to control what order multiple files are processed in, when doing Replace All. See the User Manual for details."

  bug fixes:
    - title: "Get Books: Update Woblink store plugin for website changes"

    - title: "Book polishing: Ignore zero byte font files in the ebook instead of erroring out on them when subsetting fonts."
      tickets: [1395694]

    - title: "E-book viewer: Tighten heuristic used to detect footnote links. Do not consider a link that is the only content inside a block level tag as an endnote link, even if it is linked back to from its destination."

    - title: "Update the version of libimobiledevice shipped in the Linux and OS X builds to 1.1.7, should help with some connection issues to Apple devices"

    - title: "PDF Output: Add support for font-family aliasing in @font-face rules."
      tickets: [1395176]

  improved recipes:
    - Wall Street Journal
    - New Yorker
    - Le Monde
    - Defense News
    - Digital Journal
    - Cracked.com
    - Boston Globe
    - RealClear Politics
    - EcoGeek
    - The Friday Times


- version: 2.11.0
  date: 2014-11-21

  new features:
    - title: "Edit Book: Add a new 'function mode' for the Search and Replace tool"
      description: "The function mode allows you to create python functions that run on the results of Search and Replace. This allows you to do arbitrarily powerful text processing. For example, you can automatically fix the case of text, automatically add section number to headings, and so on. For examples and documentation, see: https://manual.calibre-ebook.com/function_mode.html"
      type: major

  bug fixes:
    - title: "DOCX Input: Add support for multilingual documents."
      tickets: [1394428]

    - title: "Edit metadata dialog: Fix date fields being displayed in the UTC timezone instead of the local timezone, causing the day to be off by one in some timezones."
      tickets: [1393166]

    - title: "Conversion/Book polishing: Fix ampersands in title/series/publisher/author not being properly escaped."
      tickets: [1393230]

    - title: "Update the bundled version of libimobiledevice on windows, so that the iOS Reader plugin can connect to iOS 8 devices again"

    - title: "Fix a regression in 2.10 that causes Adding books from sub-folders, one book per folder to incorrectly add OPF files present in the sub-folders as an extra format."
      tickets: [1392864]

    - title: "Fix a regression in 2.10 that caused changes in Preferences->Adding books to not work for the next immediate add"

    - title: "Fix Ctrl-R while in debug mode not restarting in debug mode properly"

    - title: "Fix regression in evaluating composite columns that use other composite columns."

  improved recipes:
    - Nikkei News


- version: 2.10.0
  date: 2014-11-14

  new features:
    - title: "Driver for the PocketBook Lux 2 with latest firmware."
      tickets: [1390720]

    - title: "Review downloaded metadata: Add suggestions for the tags, authors, publishers and series fields. Suggestions will pop-up as you type."
      tickets: [1390887]

    - title: "Add Books: Improve performance when adding large numbers of books at once"

    - title: "Add Books: Allow adding books from multiple ZIP/RAR archives, each containing many books, by right clicking on the Add Books and choosing 'Add from Archive'"

    - title: "Metadata download: Prioritize results that have the same language as the current calibre user interface language"

    - title: "Edit Book: Make the CSS used for styling the generated HTML Table of Contents user customizable via https://manual.calibre-ebook.com/customize.html#overriding-icons-templates-et-cetera"

  bug fixes:
    - title: "E-book viewer: Fix popup footnotes not working on windows"

    - title: "Fix saving of searches that use the backslash to escape special characters not working"
      tickets: [1392052]

    - title: "Save to disk: When multiple books end up with the same file name because they have the same metadata, automatically adjust the filename to make it unique."
      tickets: [863472]

    - title: "Fix ebook editor global menu not working on Unity when started from inside calibre"

    - title: "Get Books: Update the Amazon European store plugins for website changes"

    - title: "Edit Book: Fix handling of XML unsafe characters (like <, > and &) inside <style> tags"

    - title: "Linux: Fix regression on Unity that prevented some keyboard shortcuts from working because of the global menu bar."
      tickets: [1390901]

    - title: "Amazon metadata download: Do not prefer results with an ISBN, since Amazon now lists a large number of ISBN less titles"

    - title: "Amazon metadata download: Fix cover not being found for some books because of a website change at amazon.com"

    - title: "Conversion: Fix incorrect conversion of east-asian characters in CSS class names."
      tickets: [1390527]

  improved recipes:
    - LWN Weekly
    - Scinexx
    - Ming Pao

  new recipes:
    - title: Various German news sources
      author: Bernd Boehm

    - title: The Daily WTF
      author: Jelle van der Waa

- version: 2.9.0
  date: 2014-11-07

  new features:
    - title: "E-book viewer: Show footnotes in a separate popup window"
      type: major
      description: "Now when you click on a link to a footnote/endnote, the corresponding note is shown in a separate popup window, for convenient reference. Footnote links are recognized using the EPUB 3 footnote markup as well as some heuristics. Any superscript or subscript links are assumed to be footnote links. Any link that links to another file which in turn links back to the original link, is assumed to be an endnote."

    - title: "Cover Grid: Improve scroll wheel based scrolling."
      description: 'On windows and linux a single "tick" of the wheel now scrolls by about half a row instead of a full screen. On OS X, scrolling is pixel based, so as you scroll faster, more content is scrolled.'

    - title: "Get Books: Add the Bubok Portugal store"

    - title: "Performance improvement for large libraries that using custom columns built with templates"

    - title: "Review downloaded metadata dialog: Allow merging tags by long clicking the revert button"

  bug fixes:
    - title: "Fix a regression in 2.8 that caused the clear button next to date fields to set the date to Jan 101 instead of undefined."
      tickets: [1388061]

    - title: "Linux: Fix Unity global menu bar stops working after minimizing calibre to the dock or the system tray."
      tickets: [1389404]

    - title: "Sanitize the ImageMagick environment variables before launching external utilities."
      tickets: [1389449]

    - title: "Prevent stale 'On Device' info (from the previous connection) from showing during subsequent device connections"

    - title: "Conversion: Add workaround for converting EPUB files with syntactically invalid (probably hand edited) OPF files."
      tickets: [1389188]

    - title: "Fix e-book viewer not displaying cover from HTMLZ files."
      tickets: [1388595]

    - title: "Conversion: Handle input documents with crazy font sizes (1000pt +)"

  improved recipes:
    - Boston Globe
    - Brand Eins

- version: 2.8.0
  date: 2014-10-31

  new features:
    - title: "Linux: Add support for the global menubar in Ubuntu Unity (The menu that is displayed in the top most on screen bar). It now works both with the main calibre program and the e-book editor. You can customize what appears in the menubar via Preferences->Toolbars"

    - title: "Get Books: Add a new store, Bubok (bubok.es)"

    - title: "Driver for Tolino Vision 2."
      tickets: [1385904]

    - title: "Review downloaded metadata: Allow merging downloaded and current identifiers by long-clicking the revert button."
      tickets: [1387619]

    - title: "Template language: New function user_categories() to return the list of User Categories for a given book (only works in the GUI)."

    - title: "E-book viewer: Add an option to prevent tapping on the page from turning pages."

  bug fixes:
    - title: "Re-enable the system tray icon on linux. System tray icons now work in any desktop environment that supports the StatusNotifier spec, such as Ubuntu Unity, KDE 4+, GNOME 3, etc."

    - title: "System tray icon: On windows if the calibre window is minimized, fix clicking on the system tray icon not restoring the window."
      tickets: [1387596]

    - title: "E-book viewer: Clear history when reloading the book, to avoid errors, since the locations pointed to by the history may no longer be valid anyway"

    - title: "Linux: Force use of GNOME button layout for dialogs when running under the GNOME, UNITY or MATE desktop environments"

    - title: "Check Book: Silence incorrect warning about guide references to cover image in AZW3 Format"

    - title: "Fix text entry widgets' popup completion window not working well with windows on-screen keyboard."
      tickets: [1385586]

    - title: "Edit Book: Fix links that are absolute paths causing crashes in windows"

    - title: "Fix the read metadata from format button in the edit metadata dialog not working for FB2 files."
      tickets: [1385237]

  improved recipes:
    - Tyzden
    - Countryfile.com
    - FAZ net
    - The New Yorker

  new recipes:
    - title: Planet Python and Krebs on security recipe
      author: Jelle van der Waa

- version: 2.7.0
  date: 2014-10-24

  new features:
    - title: "Support for the new Kindle Voyage"

    - title: "The notification for the completion of background jobs, such as bulk metadata download, has been redesigned to not interrupt your work. It now waits in the lower right corner of the main window until you are ready to deal with it"
      tickets: [1382795]

    - title: "Insert metadata as jacket page: Make the invisible tags used for searching across books format better, by giving them their own table row."

    - title: "Book details panel: Show custom column values for numeric columns even when the value is zero"

    - title: "Allow clearing of date and number type fields by right clicking and choosing clear when editing the fields in the book list or edit metadata dialog"

  bug fixes:
    - title: "MOBI/AZW3 Output: When converting an EPUB document that specifies an SVG image as its cover image, convert the cover to JPEG as the Kindle cannot handle SVG cover images."
      tickets: [1384375]

    - title: "AZW3 Input: Fix crash when processing AZW3 files that contain certain SVG images dies to a bug in ImageMagick."
      tickets: [1384375]

    - title: "Conversion: Ignore un-parseable links when trying to generate ToC from links, instead of aborting the conversion."
      tickets: [1383365]

    - title: "Edit metadata dialog: Fix window title not changing when using the Next/previous buttons if the books being edited have the same title."
      tickets: [1383014]

    - title: "Fix regression in previous release that prevented arrow keys/tab key from working in completion popups on OSX."
      tickets: [1382633]

  improved recipes:
    - Folha de Sao Paolo
    - LWN Weekly

- version: 2.6.0
  date: 2014-10-17

  new features:
    - title: "Catalogs: CSV Output: Allow changing the order of fields in the generated CSV catalog by using drag and drop to re-arrange the fields in the create catalog dialog."
      tickets: [1379048]

    - title: "Edit metadata dialog: When editing metadata individually for multiple books, popup a confirmation if the user clicks OK before finishing the editing of all the books."
      tickets: [1378072]

    - title: "Allow configuring a keyboard shortcut to toggle highlighting of search results via Preferences->Keyboard (under Miscellaneous)."
      tickets: [1380528]

    - title: "Edit Book: Saved searches window: Remember the last used values for where to search and search direction"

    - title: "E-book viewer: Allow right clicking on the toolbar buttons to popup the optional menus, useful when using the viewer on a touch screen."
      tickets: [1380359]

    - title: "E-book viewer: Add a keyboard shortcut to toggle the Table of Contents [Ctrl+T]"

    - title: "Performance improvement when renaming/deleting large numbers of items via the Manage Tags/Series/Publishers/etc dialogs"

    - title: "Kobo driver: Update to support soon to be released firmware update from Kobo"

  bug fixes:
    - title: "Amazon metadata download: Update the amazon metadata download plugin to handle changes to the amazon.com website."
      tickets: [1379305]

    - title: "AZW3 Output: Ignore invalid attribute names in the input document rather than aborting the conversion on them."

    - title: "Book details panel: Fix custom columns built from other columns with tag like values not clickable in the book details panel."
      tickets: [1381323]

    - title: "Edit Book: Fix changing the editor undo/redo keyboard shortcuts not preventing the old shortcuts from working."

    - title: "CSV Catalogs: Output all custom datetime columns in the local timezone to match the format for builtin columns"

    - title: "E-book viewer: When looking up words in the dictionary for a book that has no language set, use the current calibre interface language"

    - title: "Fix comments editor widget in the edit metadata dialog swallowing Tab key presses, preventing the use of the keyboard to move between widgets. You can use Ctrl+Tab to insert literal tabs"

    - title: "OS X: Workaround for regression in Qt 5 that causes pressing the Esc key to close the entire window instead of the current completion popup"

    - title: "Fix Advanced search dialog not being sized correctly if the user selects a larger than normal interface font."
      tickets: [1378045]

    - title: "E-book viewer: Fix page turning by clicking in the margins in full screen mode (when displaying more than one page per screen) not working because of a Qt 5 behavior change."

  improved recipes:
    - nrcnext
    - Wall Street Journal
    - Smithsonian Magazine
    - Sueddeutsche Zeitung mobil

- version: 2.5.0
  date: 2014-10-03

  new features:
    - title: "E-book viewer: Allow changing the website that is used as a dictionary for looking up words in the viewer. Click the Preferences button in the viewer and choose the dictionaries tab to customize the website."

    - title: "Edit book/Book polishing: When embedding fonts or subsetting embedded fonts, handle the :first-letter and :first-line pseudo-element style rules."
      tickets: [1373649]

    - title: "Windows driver for Trekstor Pyrus 2 LED."
      tickets: [1376018]

  bug fixes:
    - title: "Fix a typo preventing calibre from recognizing the new Kobo Aura H2O"

    - title: 'Edit Book: Spell Check: Fix replaced words coming back into the list when toggling the "Show only misspelled words" setting'

    - title: 'Edit Book: Spell Check: Fix replacing a word with multiple words causing the replacements to show up erroneously in the list of misspelled words'
      tickets: [1370294]

    - title: 'Edit Book: Fix leading or trailing hyphens on words being ignored when spell checking.'
      tickets: [1370288]

    - title: 'E-book viewer: Fix a regression, caused by a Qt 5 behavior change, that caused incorrect colors to be shown when viewing MOBI files that use CSS 3 color specifications internally.'

    - title: 'MOBI Output: Handle input documents that use CSS 3 syntax for colors by converting the color to the #RRGGBB format required for MOBI'

    - title: 'Tag Browser: Fix drag and drop of books onto a language not setting the language.'
      tickets: [1373504]

    - title: 'Tag Browser: When renaming an item that is currently being searched for, remove the search indicator, as the search will no longer match the renamed item.'
      tickets: [1374624]

    - title: 'Bulk metadata edit: Fix getting cover from EPUB files that have no cover image by rendering the first page as the cover not working.'
      tickets: [1374243]

    - title: 'Custom cover generation: Fix disabled color schemes not being saved'
      tickets: [1374337]

    - title: 'Wireless device driver: Fix a regression in 2.4 that caused book matching to run slowly when connecting to calibre companion'

  improved recipes:
    - Sueddeutsche Zeitung
    - The Hindu
    - Carta

- version: 2.4.0
  date: 2014-09-25

  new features:
    - title: "An all new random cover generation algorithm, which generates covers using many different color schemes and cover styles"
      description: "Now when you click the Generate cover button in the Edit Metadata dialog a cover based on the book metadata is generated using random colors and styles. You can customize the random cover generation by long clicking the Generate Cover button, which will popup a dialog where you can create new color schemes and customize other aspects of the generated cover as well."
      type: major

    - title: "Edit Book: Redesign the saved searches pop-up as a dockable window. Editing saved searches now happens inline and the global search/replace keyboard shortcuts work in the saved searches window"

    - title: "Edit book: Change the text of the 'Mark selected text' menu entry depending on whether it will mark or unmark the text"

    - title: 'Edit metadata dialog: Allow undoing a metadata download by long-clicking the Download metadata button and choosing "Undo last metadata download"'

    - title: "Edit metadata dialog: Allow undoing the changes to individual fields by right clicking on the field and selecting Undo after a metadata download."
      tickets: [1223367]

    - title: 'Download metadata dialog: Allow using Enter key to select cover and left/right keys to move between metadata results.'
      tickets: [1369178]

    - title: 'Fix the row numbers in the book list remaining wide when switching libraries if some books were marked before the switch.'
      tickets: [1369152]

    - title: 'Fix keyboard focus not going to cover grid after doing a search.'
      tickets: [1369160]

    - title: 'DOCX Input: Support for the keepNext paragraph property to keep successive paragraphs on the same page.'

    - title: 'Template language: New template functions: raw_list() to return the items in a list such as tags without any sorting/formatting applied to them; author_sorts() to return the author sort strings from the authors table for the authors in the book.'

  bug fixes:
    - title: "Fix a regression in 2.3 that broke creation of collections on the device when metadata management was set to manual."
      tickets: [1371976]

    - title: "E-book viewer: Fix displaying multiple pages per screen not working in calibre 2.x with some books, due to a change in Qt 5."
      tickets: [1372066]

    - title: "E-book viewer: Fix unintuitive behavior of back and forward buttons when going all the way back to the first item in the history."
      tickets: [1367992 ]

    - title: 'Conversion: Do not allow default (user-agent) style rules to ever override style rules defined in the input document, regardless of CSS selector specificity.'
      tickets: [1369753]

    - title: 'Workaround for Qt 5 regression that broke selecting multiple icons in Preferences->Column icon rules'

    - title: 'Fix tags with angle brackets not being displayed in the Book Details panel'

  improved recipes:
    - Today's Zaman
    - Wall Street Journal
    - High Country News

  new recipes:
    - title: Hurriyet Daily News and Al Monitor
      author: spswerling

    - title: VICE News
      author: Adrian Tennessee

    - title: Jagran Josh
      author: Krittika Goyal

- version: 2.3.0
  date: 2014-09-11

  new features:
    - title: "Cover Grid: Dynamically adjust the size of the in memory cover thumbnail cache based on the window size to ensure flicker free rendering even on very large screens."
      tickets: [1367211]

    - title: "Template tester: Remember last used template"

    - title: "Get Books: When downloading books show a popup message telling the user that the books will be added to the calibre library automatically, to help new users understand what is happening. The popup message can be disabled."
    - title: "E-book viewer: Try to detect when a chapter has a page break before the start of the chapter's text resulting in a leading blank page and override the page break."
      tickets: [1366074]

  bug fixes:
    - title: "Edit metadata dialog: Fix the author sort field not being marked red initially when the author sort does not match the author due to a Qt 5 behavior change."
      tickets: [1367943]

    - title: "OS X: Fix restarting of calibre not working if calibre.app is placed in a location with spaces in the path"

    - title: "Fix regression that caused calibre running in debug mode on OS X to not have a menubar or dock icon"

    - title: "Get Books: Fix downloading ebooks from Project Gutenberg via the builtin browser not working because of changes to the Project Gutenberg website."
      tickets: [1366240]

    - title: "Get Books: Update Gutenberg plugin for changes to the Project Gutenberg website."
      tickets: [1366245]

  improved recipes:
    - Strategy+Business
    - Dawn
    - American Thinker
    - Anchorage Daily News
    - Financial Times

- version: 2.2.0
  date: 2014-09-05

  new features:
    - title: "Kindle driver: Add option to not overwrite existing page number (apnx) files on the device when sending books to the device"

    - title: "Kindle driver: Add option to allow customization of the page number (apnx) generation algorithm based on values in a custom column"

    - title: "Metadata jacket: Allow customizing the jacket template to show the tags in alphabetical order"

    - title: "View specific format window: If a conversion finishes in the background making a new format available, update the window."
      tickets: [1363416]

    - title: "E-book viewer: Automatically hide the mouse cursor if the mouse has not been used for a few seconds. This prevents the mouse cursor from obscuring text underneath it. The cursor will reappear automatically when you move the mouse."

    - title: "Driver for SurfPad 3."
      tickets: [1363025]

  bug fixes:
    - title: "Conversion: Fix incorrect conversion of CSS when the input document uses the same CSS class name in both upper and lower case."
      tickets: [1328552]

    - title: "Workaround for Qt 5 behavior change on OS X which prevented error handling during startup on OS X to not work"

    - title: "DOCX Input: Fix non-breaking hyphens being ignored"

    - title: "Workaround for Qt 5 bug that causes text copied to the clipboard to be lost when quitting the viewer on windows."

    - title: "When detecting the encoding of HTML documents, if the document contains multiple charset declarations, prefer the HTML 5 syntax to the HTML 4 syntax."
      tickets: [1364961]

    - title: "E-book viewer: Fix text not being reflowed when resizing the viewer window and only the height changes."

    - title: "Fix merging of book records not working correctly for custom columns of type text with fixed set of permitted values. Null values were incorrectly overwriting non-null values."

    - title: "Creation of custom news sources failing on a computer on which no custom news sources have been previously created."
      tickets: [1363666]

    - title: "Workaround for Qt 5 on windows bug that makes the selected indication for items in any list/table disappear when the widget loses focus"
      tickets: [1363420]

    - title: "Fix regression in 2.1 that prevented the saved column layout from being applied."
      tickets: [1363470]

    - title: "Edit Book: Fix the Check Book tool leaking threads"

    - title: "Edit Book: Fix editor hanging when quitting during a background save operation and the save operation completes before the warning dialog is dismissed."
      tickets: [1363122]

    - title: "Fix a regression in calibre 2.0 that caused setting the value of a custom number column to zero via the book list to clear the field instead."
      tickets: [1363076]

    - title: "Check Book: Fix an error caused by empty style tags when auto-renaming mismatched font names."
      tickets: [1363028]

    - title: "When using the Embed Metadata or Polish Books tools to update metadata, fix custom columns values not being cleared in the book file even if they have been cleared in calibre"

  improved recipes:
    - Common Dreams
    - LA Times
    - Spektrum der Wissenschaft
    - cracked.com

  new recipes:
    - title: The Hollywood Reporter
      author: Darko Miletic

- version: 2.1.0
  date: 2014-08-29

  new features:
    - title: "Prevent calibre from installing or running on Windows XP as there have been many reports of Qt 5 crashing on Windows XP and Windows XP is now no longer supported by Microsoft. If you are on Windows XP, please stay with calibre 1.48 until you are ready to upgrade your windows. Apologies for the inconvenience."

    - title: "Kobo driver: Add support for new Kobo Aura H2O and firmware 3.8.0"

    - title: "Driver for HTC C."
      tickets: [1360678]

    - title: "Add a new tool to easily test templates. Go to Preferences->Toolbars to add the tool to one of the calibre toolbars."
      tickets: [1360550]

    - title: "EPUB and MOBI catalog generation: Allow using the full template language including all custom columns"

  bug fixes:
    - title: "E-book viewer: Fix soft-hyphens causing rendering artifacts with some fonts due to a bug in Qt 5"

    - title: "OS X: Workaround for Qt 5 bug that causes the popup menu on the author to author sort button in the edit metadata dialog to not respond if the mouse button if not released once before clicking menu entries."
      tickets: [1362338]

    - title: "Book list: Fix Ctrl+Home/End not selecting the first/last book"

    - title: "PDF Output: Fix header and footer templates not working in calibre 2.0"
      tickets: [1361483]

    - title: "OS X: Workaround for Qt 5 bug that caused many keyboard shortcuts to not work in OS X"

    - title: "Workaround for Qt 5 regression causing custom colors in color chooser dialogs to not be remembered between calibre sessions"

    - title: "Conversion: Fix error when converting EPUB/HTML files that contain invalid margin or padding declarations."
      tickets: [1360842]

    - title: "Fix for calibre 2.0 crashing on startup on some linux systems when used with --detach"

    - title: "E-book viewer: When right clicking on an image to view it in its own popup window, fix the rotate button not working correctly with the zoom buttons"

    - title: "Workaround for Qt 5 bug causing crash when running jobs (conversion to PDF or MOBI; reading metadata from an EPUB without a cover) that require Qt WebKit on Ubuntu."
      tickets: [1360693]

    - title: "OS X: Fix background jobs stealing input focus if they require the use of Qt WebKit"

    - title: "Preferences->Metadata plugboards: Show plugboards for disabled devices and formats whose metadata writer plugins have been disabled."
      tickets: [1360766]

    - title: "Fix calibre 2.0 not using system color scheme on windows and OS X"

    - title: "Fix regression in calibre 2.0 that caused crashes when using drag and drop to re-order virtual library tabs"

    - title: "Linux: Disable the optional system tray icon because of bugs in the system tray icon implementation in Qt 5 on linux."
      tickets: [1360652]

    - title: "E-book viewer: Fix navigating to a bookmark not updating the displayed page number."
      tickets: [1360621]

    - title: "Fix the 'unified title and toolbar on OS X' tweak causing calibre to fail to work because of a bug in PyQt5"

    - title: "E-book viewer: Fix a regression in 2.0 that changed the speed of scrolling with the mouse wheel in flow mode"

    - title: "Edit book: Workaround for regression in Qt 5 that causes typing the Cmd+some letter to generate text in the editor instead of being ignored."

    - title: "Book polishing: Fix EPUB files with corrupted ZIP central directories not working and leaving behind detritus in the current working directory."
      tickets: [1360385]

    - title: "Edit Book: Workaround for Qt 5 regression that caused the 'See what changed' tool to freeze the editor when closing the window showing the changes."

    - title: "Fix regression in 2.0 that broke viewing of LRF format ebooks."
      tickets: [1360332]

    - title: "Fix for a Qt 5 regression that caused the Copy to Library right click menu to be empty on OS X."
      tickets: [1360069]


- version: 2.0.0
  date: 2014-08-21

  new features:
    - title: "For a summary of the major changes in calibre between 1.0 and 2.0, see http://calibre-ebook.com/new-in/eleven"
      type: major

    - title: "Add support for MTP devices (Android phones/tablets) on OS X"

    - title: "Update the version of Qt used by calibre to Qt 5. This fixes various longstanding bugs in calibre that were caused by bugs in Qt 4."

    - title: "Edit Book: Make the edit saved search/add saved search popup window non-modal."
      tickets: [1354785]

    - title: "Tag Browser: Show format specific icons for the format entries in the Tag Browser"

    - title: "Library check: Add buttons to conveniently mark all fixable/deletable items."
      tickets: [1353954]

  bug fixes:
    - title: "E-book viewer: Reloading the book now re-opens it at the current position even if the option to remember position when quitting is turned off"

    - title: "E-book viewer: Remove extra spacing between document and scrollbars.  This is particularly noticeable when using a dark theme for the viewer."

    - title: "PDF Output: Fix balanced parentheses in the text of items in the Table of Contents not being rendered properly by some PDF viewers."
      tickets: [1358443]

    - title: "Edit book: Abort terminal save on save error instead of quitting editor"

    - title: "Get Books: Update the Project Gutenberg plugin for website changes"

    - title: "Plugin loading: When multiple plugin classes are present in the __init__.py namespace, use the one with the qualified name that has the least components"

    - title: "Edit Book: Prevent long saved searches from making the saved search dialog too wide"

    - title: "Comic Input: Sort pages placed in sub-folders correctly (as long as all pages have the same number of parent folders)."

    - title: "Conversion: Fix the word @page in a comment inside a stylesheet with no following {} causing the rest of the stylesheet to be ignored."

    - title: "Fix comparing AZW3 to ORIGINAL_AZW3 from the book details panel not working"
      tickets: [1354624]

  improved recipes:
    - TIME Magazine
    - The Atlantic
    - Down to Earth
    - Heraldo de Aragon
    - Radikal (Turkey)
    - Wired Daily Edition
    - Orange County Register

  new recipes:
    - title: General Knowledge Today
      author: Kanika G

    - title: BBC Arabic
      author: logophile777

- version: 1.48.0
  date: 2014-08-08

  new features:
    - title: "E-book viewer: Make the list of bookmarks a dockable window that can be kept open while reading the book"

    - title: "E-book viewer: Make the Table of Contents panel a dockable window so it can be moved around and even made into a separate floating window"

    - title: "E-book viewer: Allow reloading the current book by pressing F5 or Ctrl+R"
      tickets: [1354059]

    - title: "Edit Book: Allow changing the case of selected text by right clicking and choosing the appropriate change case action."
      tickets: [1353263]

    - title: "Driver for Kiano Booky Light."
      tickets: [1353893]

    - title: "calibredb list: Have --for-machine dump the output in JSON instead of using ASCII separators, as most scripting languages have JSON parsers builtin"

    - title: "zsh completion: Complete filenames inside epub files for ebook-edit"

    - title: "ebook-edit: Allow specifying multiple internal files to open and get rid of the no longer needed --edit-file option"

  bug fixes:
    - title: "Fix over-aggressive caching causing multiple cover grid emblem rules to not work."
      tickets: [1352005]

    - title: "Edit Book: Fix position syncing and Live CSS not working if the opening tag is split over multiple lines"

    - title: "EPUB metadata: When updating the language in an EPUB file, preserve the country code, if the new language is the same as the original language in the EPUB file."

    - title: "Edit Book: Fix choosing default dictionary based on language tag in the OPF ignoring the country code"

    - title: "Edit Book: Fix a regression that caused clicking on links in the preview panel that lead to destinations in the same HTML file popping up a spurious error message."

    - title: "Fix regression that caused tags to not be sorted when displayed in the book details panel."
      tickets: [1351622]

    - title: "Edit Book: More robust implementation of current tag detection for Live CSS. Now uses the same logic as matching tag highlighting."

    - title: "Edit Book: When highlighting the tag the cursor is currently inside, if the cursor is inside the definition of an opening tag, highlight that tag rather than its parent."

    - title: "Edit Book: Check Book: Do not run the rest of the checks if parsing errors are found, to prevent the checkers from raising unhandled errors"

  improved recipes:
    - Maximum PC
    - El Correo

- version: 1.47.0
  date: 2014-08-01

  new features:
    - title: "Cover Grid: Allow user defined emblems (icons) to be displayed next to covers"
      type: major
      description: "Now you can have your own custom icons displayed next to covers in the cover grid, based on simple rules you create. For example, you can display a heart icon next to books with a rating of more than four stars or a tick mark next to books you read and so on. To create these rules go to Preferences->Cover Grid and click the Emblems tab on the left."

    - title: "E-book Viewer: Use wiktionary.org and wordnik.com as dictionary providers instead of dict.org"
      description: "When looking up words, the word definition is now opened in a separate browser window.  The language of the dictionary to lookup is automatically selected based on the language of the current book. To lookup a word in the viewer simply select the word with your mouse and right click, then choose 'Lookup in dictionary'"
      tickets: [1349548]

    - title: "Edit Book: Allow customizing the templates used when creating new, blank HTML/CSS files via Preferences->Editor settings."
      tickets: [1348986]

    - title: "Comic Input: When sorting the pages inside a comic, recognize numbers, so that page2 sorts before page10"

    - title: "Conversion: When inserting a metadata jacket, format the series number using roman numerals. This behavior can be disabled by using a custom jacket template, as described here: https://manual.calibre-ebook.com/customize.html#overriding-icons-templates-et-cetera"

    - title: "Template language: New function author_links: for each author of a book returns the author link value entered in Manage Authors."

  bug fixes:
    - title: "Edit Book: Fix incorrect results when running replace all on marked text and more than one replacement is made."
      tickets: [1348941]

    - title: "Edit Book: Live CSS: Improve detection of which tag the cursor is inside when there are multiple tags on the same line."
      tickets: [1350495]

    - title: "Edit Book: Clear the Check Book panel when opening a new book"

    - title: "Edit Book: Allow the import files into book action to be added to the toolbar"

    - title: "Edit Book: Fix subsetting of fonts not working if the text contains non-BMP unicode characters."
      tickets: [1349856]

    - title: "News download: Fix HTML parser used in the news download subsystem not preserving whitespace inside <pre> tags"
      tickets: [1349536]

    - title: "Conversion: Do not strip underscores from classnames."
      tickets: [1349442]

    - title: "Edit Book: Fix cursor positioning not working when creating a new file from a template"

    - title: "Fix a rare error that could happen when using series columns inside a custom column template"
      tickets: [1348937]

    - title: "E-book viewer: Handle quoted URLs inside @font-face rules"

  improved recipes:
    - New Yorker

  new recipes:
    - title:

- version: 1.46.0
  date: 2014-07-25

  new features:
    - title: "Edit Book: Add support for third party plugins to extend the editors functionality."
      description: "The editor now supports plugins that can be used to extend its functionality. Documentation of the plugin API and an example plugin are at: https://manual.calibre-ebook.com/creating_plugins.html#edit-book-plugins"
      type: major

    - title: "calibredb list: Add a --for-machine option that causes the output to be made in a form more easily parsed programmatically (it uses ASCII field and record separators)"

    - title: "Book details panel: Automatically convert ISSN identifiers into links to the periodicals page on worldcat.org"

    - title: "Edit Book: When re-arranging the toolbars inside an individual file editor, save the new toolbar layout so that it is re-used in the future.  Also apply the changed layout to all open editors of the same type."
      tickets: [1346913]

    - title: "Edit Book: Make the undo/redo/cut/copy/paste buttons on the editor toolbar also configurable, so they can be removed via Preferences->Toolbars, if needed."
      tickets: [1346913]

    - title: "Edit Book: Allow editing xpgt (Adobe Page Template) files as XML."
      tickets: [1346543]

    - title: "Edit Book: Allow the action to launch the saved searches dialog to be added to the global toolbars"

    - title: "Book details panel: Add an option to make clicking on the author name search the calibre library for the author instead of opening the wikipedia page for the author. To use it got to Preferences->Look & Feel->Book Details."
      tickets: [1344799]

  bug fixes:
    - title: "Fix published date not being merged when merging book records"

    - title: "Embed metadata tool: Fix error when trying to embed metadata in corrupted MOBI files or files of other types that are marked as MOBI in the library"
      tickets: [1348054]

    - title: "Edit Book: Make the warning dialog that pops up when you try to quit while the editor is saving changes in the background a little more clear."
      tickets: [1347171]

    - title: "When generating covers, do not render soft-hyphens in the text as hyphens."
      tickets: [1344259]

    - title: "Conversion: Fix a bug processing the CSS font shorthand property when the line-height is specified in em or percentage units"
      tickets: [1348173]

    - title: "calibre-customize: When building plugins from a directory, exclude known version control subdirectories"

  improved recipes:
    - Grandes corresponsales
    - Times of India
    - Economic Times of India


- version: 1.45.0
  date: 2014-07-18

  new features:
    - title: "Edit Book: Add in-context help for HTML and CSS"
      description: "Now, you can right click on any HTML/OPF/NCX tag name or CSS property and the editor will open some help for that item in your browser."

    - title: "Book details panel: Make series and tags clickable. Clicking on them will search the calibre library for all books in the same series/ having the same tag"
      tickets: [1341297]

    - title: "Edit metadata dialog: Improve performance by only writing changed fields to the database when clicking OK or Next"

    - title: "AZW3 Input: When converting from AZW3 files, use the high quality version of the image if the source AZW3 file contains both low and high quality images. These dual azw3 files are produced by kindlegen 2.9"

    - title: "Edit Book: When right clicking on a link in the editor add a menu entry to open the link"

    - title: "Edit Book: Search and replace panel: Add arrows to open the list of recently used search and replace expressions"

    - title: "Driver for Motorola Milestone X2."
      tickets: [1343704]

  bug fixes:
    - title: "AZW3: Preserve the page-progression-direction property when converting/editing/polishing AZW3 files"

    - title: "AZW3 Input: Workaround broken AZW3 files produced by kindlegen that use uppercase attribute names."
      tickets: [1341306]

    - title: "PDF metadata: When updating the XMP metadata in PDF files, compress the XMP block written to the PDF. This is particularly useful when the PDF file has an existing XMP metadata block with very large amounts of data in it."
      tickets: [1341549]

    - title: "Fix searches on Yes/No columns using the terms ('blank', 'checked', 'unchecked') not working on non-English calibre installs"

    - title: "Edit metadata dialog: Do not auto change the title sort field when clicking OK if the title was changed. Instead the title sort field must be changed explicitly."

    - title: "Linux binary installer: Fix regression that caused ZSH completion to not be installed"
      tickets: [1341240]

    - title: "Edit Book: Spell check: When suggesting alternative for a hyphenated word, ensure the first suggestion is the word formed by removing the hyphen, if that is a valid word"

    - title: "Get Books: Update the Woblink plugin to handle changes to the woblink website"

    - title: "Edit Book: Fix replacement of hyphenated words in the spell checker not working"

    - title: "Edit Book: Fix live syntax highlighting of links not being updated correctly after renaming an open file"

    - title: "Edit Book: Fix regression that caused crash while syntax highlighting CSS stylesheets that contain url() tokens without enclosing quotes"

    - title: "Linux binary: Do not fail on system with invalid locale info. Instead default to using the UTF-8 encoding on these systems."
      tickets: [1343444]

  improved recipes:
    - The Economic Times India
    - EPW
    - Carta
    - The Hindu
    - F-Secure
    - NOAA Online

- version: 1.44.0
  date: 2014-07-11

  new features:
    - title: "Edit Book: Syntax highlight links, images, stylesheet includes, etc. Links that point to missing files are marked as errors. You can Ctrl + click on a highlighted link to jump to the file it points to directly."

    - title: "Edit Book: Check Book: Add a check for manifest items missing href attributes."
      tickets: [1339766]

    - title: "When clicking in the search box, select all existing text, for easy replacement."
      tickets: [1338862]

    - title: "Edit Book: Add buttons to change the text alignment of the current paragraph. If you do not see them, go to Preferences->Toolbars and add them to the Text formatting actions toolbar."

    - title: "Improve performance of rendering the book list when lots of column coloring rules are used"

    - title: "Kobo driver: Support for new firmware version 3.5"

  bug fixes:
    - title: "Edit Book/Book polishing: Do not auto-resolve @import rules in AZW3 files. Also do not add a @namespace rule to all stylesheets that contain tag selectors."

    - title: "Edit book/Book polishing: Preserve the class attribute on the <html> tag in AZW3 format files."
      tickets: [1339055]

    - title: "Edit Book: Fix inline spell check context menu not working when triggered by context menu key or a right clicking at the right edge of the word."

    - title: "Fix some font directories from fonts.conf being ignored on linux when scanning the system for installed fonts."
      tickets: [1339257]

    - title: "Edit book: Spell checker: Treat hyphenated words as single words for spell checking"

    - title: "Edit Book: When using the spell check dialog to change words, detect any changes made to open files outside the spell check dialog and automatically integrate them, to prevent those changes from being lost."

    - title: "Update driver for Tolino Shine to handle new firmware"
      tickets: [1338219]

    - title: "Book polishing: When changing the cover in an EPUB file, place the newly created cover image in the same folder as other images in the book, rather than the root"

    - title: "Linux installer: Use pkg-config to get the location for installing the calibre bash completion scripts. pkg-config is used only when installing to /usr."
      tickets: [1340023]

  improved recipes:
    - Science Daily

- version: 1.43.0
  date: 2014-07-04

  new features:
    - title: "Add a wizard for easily searching date fields in your library. To use it click the advanced search button to the left of the search field. Allows you to search for books whose date is older/newer than a specified date or less/more than a number of days from today and so on."

    - title: "Driver for Onyx T68."
      tickets: [1336868]

    - title: "When reading metadata from file names, allow setting the comments field as well, in addition to title/authros/publisher/series/etc."
      tickets: [1332582]

  bug fixes:
    - title: "Fix a regression in the previous release that broke changing Save to Disk preferences"

    - title: "Recognize leading articles for the Esperanto language when auto-generating title sorts. "
      tickets: [1336639]

    - title: "Edit Book: Fix a regression that caused syncing of the preview panel to the editor cursor position to not work when the cursor is positioned on a blank line in between two tag definitions"

    - title: "Metadata download: Round the downloaded ratings so that, for example, 3.6 stars becomes 4 stars instead of 3 stars."
      tickets: [1335696]

    - title: "Edit Book: Fix a crash when performing some image editing operations on 64 bit calibre builds"

    - title: "Recognize additional leading articles in the titles of Italian language books"
      tickets: [1332837]

    - title: "Edit Book: Fix an occasional spurious error message when using the Live CSS feature"

  new recipes:
    - title: Dark Reading
      author: Brandon Allberry

- version: 1.42.0
  date: 2014-06-27

  new features:
    - title: "Edit Book: new tool to easily add a cover to the book. It automatically generates the HTML wrapper and takes care of marking the covers files as covers in the OPF."

    - title: "Edit Book: Improve the performance of inline spell checking, especially noticeable when editing large HTML files (over 100KB in size)."

    - title: "Edit Book: Run syntax highlighting in the background, reducing user interface latency when editing large files"

    - title: "Template language: Add a new function (group_re) to use grouping regular expressions with groups, where you can replace the matched groups with result of another template."

    - title: "Edit Book: Check Book: Add a check for HTML files with non UTF-8 encoding declarations"

    - title: "Edit Book: Spell check dialog: Add an option to make filtering the word list case sensitive"

  bug fixes:
    - title: "Get Books: Fix integration with ebook.de broken by website changes"

    - title: "MOBI Input: Preserve the dc:rights metadata during conversion."
      tickets: [1333468]

    - title: "Edit Book: Fix non-BMP unicode characters causing matching tag highlighting to be slightly off on linux"

    - title: "Edit Book: When editing HTML files that have charset encoding declarations, automatically change the declared encoding (if any) to UTF-8 on save, since the editor always saves files in the UTF-8 encoding."

    - title: "Edit Book: Fix various problems when editing EPUB files with non-ascii internal filenames on OS X."
      tickets: [1317883]

    - title: "Edit Book: Remove unused CSS: Fix an error if an HTML file links to a missing stylesheet"

  improved recipes:
    - Deadspin

  new recipes:
    - title: Economic and Political Weekly
      author: Krittika Goyal

- version: 1.41.0
  date: 2014-06-21

  new features:
    - title: "New tool to set metadata in the actual book files in the calibre library from the updated metadata in the calibre database."
      description: "To use it go to Preferences->Toolbars and add the 'Embed metadata' tool to the main toolbar. Then simply select the books whose files you want to update and click the Embed metadata button. Normally, calibre updates metadata in the book files whenever a file is exported from calibre. This tool is useful for people who want the files in the calibre library to have updated metadata as well."
      type: major

    - title: "calibredb: Add a new 'embed_metadata' command to update metadata in the actual book files in the calibre library from the calibre database."

    - title: "Edit Book: Allow customization of toolbars"

    - title: "Add empty book: When adding empty book records to the library, add an option to also create empty EPUB files. Useful if you intend to subsequently edit these files with the calibre editor. You can access the add empty books feature by right clicking the Add Books button."

    - title: "Edit book: Remove unused CSS: Add an option to also remove unused class attributes from the HTML"

    - title: "Edit book: Check Book: Add checks for empty HTML/XML/CSS/image files in the book."
      tickets: [1329971]

    - title: "Edit Book: Check Book: Add checks for links whose fragment (the part after the #) points to a location that does not exist"

  bug fixes:
    - title: "RTF metadata: Add proper support for unicode characters when reading and writing metadata to RTF files"

    - title: "RTF metadata: Fix failure to write metadata to RTF files that do not already have an \\info block"

    - title: "Edit Book: Remove unused CSS: Handle @import rules when checking for unused CSS"

    - title: "Edit Book: Remove unused css: Prevent failure when book has invalid items marked as stylesheets"

    - title: "calibredb: Fix set_metadata not working for the series_index field."
      tickets: [1329724]


- version: 1.40.0
  date: 2014-06-12

  new features:
    - title: "Edit Book: Add a new tool to manage fonts. Allows easily changing/removing/embedding fonts in the entire book. To use it go to Tools->Manage Fonts"

    - title: "Edit Book: Allow the color of the links in the Live CSS panel to be themed."
      tickets: [1326897]

    - title: "E-book viewer: Add a keyboard shortcut to bookmark current location."
      tickets: [1326198]

  bug fixes:
    - title: "Edit Book: Check book: When auto-changing font name to match actual name in font file, also change the font name in shorthand font declarations"

    - title: "Edit Book/Book polishing: Fix embedding all referenced fonts not catching fonts that are only specified via style attributes and not in any stylesheets."

    - title: "Conversion: Fix normalization of CSS shorthand font property not working when multiple font families are specified in the same shorthand property"

    - title: "Edit Book: Live CSS: Fix clicking on link to go to style definition not working if the stylesheet contains CSS 3 @media queries or @font-face rules"

    - title: "Edit Book: When importing DOCX files, set the media type for html files correctly"

    - title: "Edit Book: Fix import of DOCX files that contain no Table of Contents not working."
      tickets: [1327522]

    - title: "Portable installer: Fix a crash if the user selects a destination for the portable install that does not have enough disk space."
      tickets: [1324575]

    - title: "Fix date column not showing date added when adding zip/rar files that contain an OPF with a calibre timestamp in its metadata"

    - title: "Sony driver: Fix SONY annotation app not working with files sent to the device by calibre"

    - title: "Linux build: Fix regression that caused opening PDF files (or any externally viewed files) preventing calibre from being restarted as long as the external viewer is not shutdown."
      tickets: [1326453]

    - title: "Edit book: Fix changing underline style to none when creating a custom color scheme causes error."

    - title: "Check Book: Fix empty (zero byte) XML files causing check book to fail."
      tickets: [1326073]

    - title: "Check Book: Fix combination of mismatching font family names and a font-family declaration with an invalid value (such as a dimension) causing auto fixing of errors to fail."
      tickets: [1325070]

  improved recipes:
    - Respekt
    - Newsweek
    - Jerusalem Post
    - Outlook India
    - PC Magazine
    - Instapaper

- version: 1.39.0
  date: 2014-05-29

  new features:
    - title: "Edit Book: Allow creation of custom color schemes for the editor (Preferences->Editor settings)"

    - title: "Check Book: When reporting unmanifested file warnings, allow auto fixing by adding the file to the manifest if it is referenced elsewhere or removing the file if it is not."
      tickets: [1323362]

    - title: "Edit book: Preview panel: Allow syncing of position more accurately when there are multiple tags on the same source code line"

    - title: "Edit book: Live CSS: Indicate which CSS properties are overridden by higher priority rules"

    - title: "Kindle driver: When generating page numbers automatically, add an additional method to detect page boundaries, using the presence of <mbp:pagebreak> tags in the source of the book. You can use this setting by right clicking on the Kindle icon in calibre when the kindle is connected and choosing customize this device."
      tickets: [1321761]

  bug fixes:
    - title: "Virtual Libraries: If the user selects a virtual library whose tab has been closed via the Virtual Library button, re-open the tab instead of displaying the virtual library in the All Books tab."
      tickets: [1322474]

    - title: "DOCX Input: Fix a regression that broke conversion of documents with an index that contains fields with special page text."
      tickets: [1322637]

    - title: "Edit Book: When editing a book in a language for which no dictionary is installed, consider all words to be correctly spelt, rather than misspelt."
      tickets: [1320829]

- version: 1.38.0
  date: 2014-05-23

  new features:
    - title: "Edit Book: A 'Live CSS' tool that shows all the style rules for the tag you are currently editing."
      description: "You can use it to easily jump to any style rules that affect the current tag. Enable it via View->Live CSS. See https://manual.calibre-ebook.com/edit.html#the-live-css-panel for details"
      type: major

    - title: "Add an option to hide the book rating in the cover browser (Preferences->Look & Feel->Cover Browser)."
      tickets: [1319476]

    - title: "DOCX Input: if no language is defined in the metadata, use the language specified in the document default style."
      tickets: [1321346]

  bug fixes:
    - title: "Edit book: Fix regression that sometimes caused incorrect syntax highlighting when non-breaking spaces/typographic hyphens are present in the text."
      tickets: [1321317]

    - title: "Fix a regression that broke the compare books tool when used outside the book editor."
      tickets: [1321975]

    - title: "Get Books: Update the Woblink plugin to handle changes to the Woblink website"

    - title: "DOCX Input: Workaround buggy version of Microsoft Word converting newlines in the document summary into _x000d_. They are now ignored when reading metadata from docx files."
      tickets: [1321343]

    - title: "Edit book: Fix Check Book failing if a binary file such as an image or font is mislabelled in the OPF as being a text file."
      tickets: [1320977]

    - title: "OS X Build: Fix a bug that was preventing multiple instances of calibre being used by different user accounts on the same computer."
      tickets: [1320347]

    - title: "Edit book: Dont show an error message when trying to use quick open with no book open"

    - title: "Content server: Add .ibooks (note the trailing s) as an allowed format as well."

    - title: "Edit Book: Fix an error when running the Check Book tool on files with empty <style> tags."
      tickets: [1320459]

    - title: "Edit Book: A more complete fix for non ascii usernames on windows when using the export file dialog."
      tickets: [1298071]

  improved recipes:
    - Ars Technica
    - Slate
    - Instapaper
    - The Independent

- version: 1.37.0
  date: 2014-05-16

  new features:
    - title: "Edit Book: Live spell checking in the code view. Now spelling errors are highlighted in the code view for convenient correction as you type. This can be turned off via Preferences->Editor."

    - title: "E-book viewer: When using the tap and hold gesture on a touchscreen, allow lookup  of the word currently under the finger in the dictionary or online."
      tickets: [1318242]

    - title: "Edit Book: Allow putting the editor into replace mode by pressing the Insert key"

    - title: "Content server: Add more descriptive titles to the OPDS feeds, where possible."

    - title: "Edit Book: Update the Table of Contents view automatically when the ncx file is edited."

    - title: "Edit book: Insert tag button: Allow entering attributes along with the tag name to make it easy to repeatedly insert, for example, <span class='special'></span>."

    - title: "Windows driver for Woxter Scriba 190."
      tickets: [1317892]

    - title: "Edit Book: Add an entry to the context menu of the preview panel to open external URLs when a link is right clicked on"

  bug fixes:
    - title: "Edit Book: Fix error in the Check Book tool when items in the opf have paths starting with a leading slash."
      tickets: [1319378]

    - title: "Book polishing: Fix publisher field in epub not being cleared when updating metadata."
      tickets: [1319732]

    - title: "Kobo driver: Update to handle changes to annotation processing in newer Kobo firmware."

    - title: "DOCX Input: Handle docx files with index fields that have their field names incorrectly lower cased."
      tickets: [1318670]

    - title: "Edit book: Fix incorrect syntax highlighting on linux if the text contains non-BMP unicode characters."

    - title: "Edit book: Fix regression that caused an error when trying to edit files with no defined syntax, such as plain .txt files."
      tickets: [1318139]

  improved recipes:
    - Wall Street Journal

- version: 1.36.0
  date: 2014-05-09

  new features:
    - title: "Edit Book: A new tool to filter style information (Tools->Filter style information). Useful to easily remove some CSS properties from the entire book."

    - title: "DOCX Input: Add support for cross references. Cross references that are used to insert hyperlinks are now converted into hyperlinks in the output document. Features to insert paragraph/page numbers are not supported."

    - title: "Add support for viewing kepub files in the calibre viewer, by treating them as plain epub files"

    - title: "Edit book: In the Insert Link tool show a few words of text alongside the location anchor name, to make it easier to know what a location is"

    - title: "Manage user dictionaries: Allow copying all selected words by right clicking them and choosing 'Copy to clipboard'."
      tickets: [1315340]

    - title: "Content server: Make .ibook format files available in OPDS feeds"

    - title: "Edit book: Allow copying the list of errors from the Check Book tool to the clipboard by right clicking on the list of errors"

    - title: "Book polishing: If the books being polished have an ORIGINAL_EPUB/AZW3 format, warn the user that polishing will use it as the source and ask for confirmation."
      tickets: [1316158]

  bug fixes:
    - title: "Fix metadata plugin to download metadata from OZON for website changes."
      tickets: [1300383]

    - title: "Subsetting embedded fonts: Fix an error when subsetting embedded fonts on windows if the username contains quotes or apostrophes."
      tickets: [1316533]

    - title: "Edit Book: Fix error when checking spelling if one of the files in the book declares an invalid (empty) language code."
      tickets: [1316170]

    - title: "Linux install: Have the calibre GUI programs redirect stdout and stderr to null when launched via .desktop files to workaround systems where the GUI launchers are broken."
      tickets: [1315458]

    - title: "Edit Book: Fix inserting a < in text that contains a colon causing a hang."

    - title: "DOCX Input: Fix error when converting document with nested frames."
      tickets: [1317543]

  improved recipes:
    - Various Japanese news sources
    - National Geographic

- version: 1.35.0
  date: 2014-05-02

  new features:
    - title: "Edit Book: Redesign the syntax highlighter to improve performance for large documents and extended editing sessions."
      tickets: [1314339]

    - title: "Edit book: Make cursor movement smooth by not highlighting matching tags while the cursor is moving. Only match highlighting tags if the cursor stays still for a time."

    - title: "Spellcheck dialog: Indicate whether a word is ignored in the Misspelled column"

    - title: "Spellcheck dialog: Pressing Ctrl+C on the words list copies only selected words, regardless of current cell"

    - title: "Add a copy to clipboard action to the context menu for the spell check dialog"

    - title: "Edit book: Fix save button incorrectly disabled after a failed save"
      tickets: [1313567]

  bug fixes:
    - title: "Edit Book: Fix an error when merging CSS stylesheets that contain @charset rules"

    - title: "Edit book: Fix extra invalid entries being generated in the manifest when editing an AZW3 file that has no images."

    - title: "Edit book: Fix a hang when editing an HTML or XML file with text of the form <abc: (i.e. a tag name with a trailing colon)."
      tickets: [1314009]

    - title: "Fix regression that prevented the ebook editor from starting on linux systems with locale set to 'C'"
      tickets: [1315064]

    - title: "DOCX Input: Fix formatting of the generated Index when the index is complex, i.e. with lots of references to the same item, multiple level of sub-items, etc."

    - title: "Smarten punctuation: Fix a double quote preceded by a hyphen at the end of a sentence (before the start of the next tag) being converted into an opening quote instead of closing quote."
      tickets: [1286477]

    - title: "News download: Fix very long URLs for links to pages causing errors on windows because of max path length restrictions."
      tickets: [1313982]

    - title: "Edit book: Fix saved search dialog causing high CPU usage"

    - title: "Edit book: Fix importing of Lithuanian dictionary from OpenOffice, that does not specify a country code."
      tickets: [1313315]

  improved recipes:
    - Ars Technica
    - Daily Mirror
    - Birmingham Evening Mail
    - NRC - Next
    - Private Eye
    - NZZ

- version: 1.34.0
  date: 2014-04-25

  new features:
    - title: "E-book viewer: When in flow mode, handle swiping on the touchscreen differently. Swiping now scrolls line by line in flow mode instead of page by page. If you wish to scroll page by page in flow mode, tap instead of swiping."

    - title: "Conversion: Preserve all guide entries that are of a type present in the EPUB 2.0 specification. These entries are used by newer Kindle readers to populate the Go To jump list"

    - title: "When adding MOBI files if the author name is in LN, FN format, auto change it to FN LN format, as the MOBI format has no author sort field. This behavior can be disabled by setting Preferences->Tweaks->Author sort name algorithm to copy."
      tickets: [1306748]

    - title: "Spellcheck: When checking French text list all words that have the same stem as a single word. So j'aime and aime are listed as a single word."

    - title: "Spell check: Add a context (right click) menu that allows for quick operations on all selected words"
      tickets: [1309559]

    - title: "Manage user dictionaries: Add a button to import a list of words in bulk into the user dictionary"

    - title: "Spell check dialog: Allow sorting words case sensitively"

  bug fixes:
    - title: "EPUB Input: Fix incorrect handling of obfuscated fonts using the IDPF obfuscation algorithm when the epub unique identifier starts with urn:uuid"
      tickets: [1311650]

    - title: "Edit book: Fix obfuscated fonts in EPUB files not being handled correctly when editing the book (obfuscated fonts would get corrupted when making changes)."
      tickets: [1311650]

    - title: "Edit book: Fix a bug that caused spell checking to fail when using the builtin spanish dictionary"

    - title: "Spell check: Fix replacing a word and then replacing the new word again not working without doing a refresh in between"

    - title: "Spell check: Fix language declarations not being respected for nested tags."
      tickets: [1310000]

    - title: "Spell check: Fix 'Show next occurrence' sometimes showing the word in an incorrect location, for example in an attribute where spell check is not performed."

    - title: "Allow import of dictionaries that deviate from the spec in minor ways"

    - title: "Edit Book: Fix the Show next occurrence button in the spell check dialog sometimes failing to show next occurrence"

    - title: "OS X: Detect the users default interface language correctly. Also fix parsing of ambiguous dates in mm/dd vs dd/mm formats, based on the users locale settings in OS X."

  improved recipes:
    - Hindustan Times

- version: 1.33.0
  date: 2014-04-18

  new features:
    - title: "Edit book: Add a tool to check spellings, access it via Tools->Check spelling"
      type: major
      description: "The calibre book editor now has builtin spellcheck. You can install new dictionaries via Preferences->Editor->Manage spelling dictionaries. It comes with builtin dictionaries for English and Spanish. You can add OpenOffice dictionaries (in .oxt format). The tool checks spellings in all HTML/OPF/NCX files in the book, taking into account any language declarations in the book, so that it will work correctly on multi-lingual books as well. The code is very new, so there may well be bugs. As you type spell checking is not yet implemented."

    - title: "Kobo driver: Support firmware version 3.3"

    - title: "Device driver for Tolino Vision on windows"

  bug fixes:
    - title: "Amazon metadata download: Fix Editorial Reviews not downloading into the comments section for some books"

    - title: "DOCX Input: Fix some text highlighting colors in the DOCX file not being correctly translated during conversion."
      ticket: [1308181]

    - title: "Wireless device driver: Fix incorrect syncing behavior when book matching is run for a second time while connected. This happens when the user changes the library or selects 'Update cached metadata on device'."

    - title: "Searching: Fix searching by date not using the system locale to interpret dd/mm vs mm/dd dates on windows"

  improved recipes:
    - Barrons
    - Creative Blog

  new recipes:
    - title: "Various new and updated Spanish news sources"
      author: Marc Busque

- version: 1.32.0
  date: 2014-04-11

  new features:
    - title: "Fetch news: Allow automatically creating custom news sources by importing OPML files. Many RSS news reader programs can export their list of RSS feeds in the OPML format."

    - title: "Conversion: When inserting metadata as a jacket page, alter the font sizes in the jacket so that the sizes match the sizes used in the rest of the book. Also pretty print the generated jacket HTML."

    - title: "Allow searching for books by id and uuid using the id: and uuid: prefixes"

    - title: "Allow specifying arbitrary colors for column coloring rules"

  bug fixes:
    - title: "Update the version of openssl shipped in the binary builds (the version in the windows 64bit build was vulnerable to the Heartbleed bug)"

    - title: "Edit Book: Fix book being marked as modified even when no actual changes were done by various automated tools such as Smarten Punctuation, Subset Fonts, etc."

    - title: "Fix ebook-device cp -f failing when destination file already exists"
      tickets: [1303181]

    - title: "Ensure that the rendered dates in the book list and edit metadata dialogs are always in the same language as the calibre interface, regardless of system language setting"

    - title: "Edit metadata dialog: Remember window size for the cover download window"

    - title: "DOCX Input: Dont fail on DOCX files that contain pages with zero effective width."
      tickets: [1303022]

    - title: "Content server: Fix page not found error when clicking on a category that has only a single item in it"

    - title: "Send books to the Books folder for the Tolino Vision, as it cannot find books placed outside this folder"

    - title: "Edit book: Fix error when beautifying HTML files that contain un-indented <script> or <style> tags"

  improved recipes:
    - Ekantipur
    - NRC Handelsblad
    - Frontline

- version: 1.31.0
  date: 2014-04-04

  new features:
    - title: "DOCX Input: Support for converting indexes created using the Word Index tool. The entries in the index are automatically converted into links pointing to the indexed locations."

    - title: "AZW3 Output: Add support for converting documents with very large table of contents (with more than 2000 entries)."
      tickets: [1250475]

    - title: "Edit Book: Add a button to easily insert HTML tags. Useful if you want to quickly surround selected text with an arbitrary tag. You can right click the button to get a list of recently used tags."

    - title: "Driver for Tolino Vision (OS X/Linux only)."
      tickets: [1301875]

    - title: "Edit book: Allow editing SVG files as raw XML"

  bug fixes:
    - title: "DOCX Input: Fix incorrect numbering being generated for numbered lists in some circumstances."
      tickets: [1301044]

    - title: "calibredb check_library: Do not create empty library if user specifies incorrect path"

    - title: "DOCX Input: Fix handling of hyperlinks in documents where the hyperlink is specified as a field internally (Microsoft Word does not use fields for hyperlinks)"

    - title: "Get Books: Update WH Smiths plugin for website changes and remove Diesel eBooks, as they are shutting down"

    - title: "AZW3 Output: Fix a bug that caused popup footnotes in some AZW3 files to not work properly. The popup would show all remaining footnotes instead of only the current footnote."
      tickets: [1293290]

    - title: "AZW3 Output: Various tweaks to the internal structure and headers of the output file to make it closer to what kindlegen 2.9 generates"

    - title: "Edit Book: When user is editing files belonging to another user account on linux/os x rather than erroring out when saving, change the ownership of the file to the editing user."
      tickets: [1299097]

    - title: "Edit Book: Fix insert Inline ToC creating non-linear jumps in class names"

    - title: "Fix regression that broke ebook-device cp"

  improved recipes:
    - CNET
    - El Pais Impreso
    - CNet News
    - Antyweb

  new recipes:
    - title:

- version: 1.30.0
  date: 2014-03-28

  new features:
    - title: "Cover Browser: Add an option to show covers with their original aspect ratio instead of resizing them all to have the same width and height.  Option is in Preferences->Look & Feel->Cover Browser."
      tickets: [1295902]

    - title: "PDF Output: Enable using javascript inside header and footer templates"

    - title: "Edit Book: When generating an inline ToC add a class attribute to all <ul> tags to make it easy to style a particular level of the ToC"

    - title: "Use abstract named sockets on linux for IPC, to avoid use of temp files for sockets"

    - title: "Drivers for the N800 and N950 Nokia MeeGo tablets"

    - title: "Edit Book Saved searches: Allow saving normal mode searches as well"

    - title: "Edit Book Saved searches: Add import/export functionality"

    - title: "calibredb add: Add option to specify language when adding books"
      tickets: [1295200]

  bug fixes:
    - title: "AZW3 Input: Handle files with garbage bytes in their table of contents."
      tickets: [1297713]

    - title: "DOCX Input: Fix text from some paragraphs not being converted if the paragraph contains an inline forced page break and no formatted text or line breaks."
      tickets: [1296817]

    - title: "calibre-customize: Do not error out if one of the installed plugins has no customization help when listing all plugins"

    - title: "Edit book: Fix error when exporting files on some windows systems with non UTF-8 filename encodings"
      tickets: [1298071]

    - title: "Edit Book: When beautifying treat <img> tags as block tags"
      tickets: [1297532]

    - title: "Linux binary build: Fix worker processes not working on linux systems with bash >= 4.3"

    - title: "PDF Output: Fix using __SECTION__ in header and footer templates resolving to the inscorrect section if a page with no sections follows a page with multiple sections."
      tickets: [1295236]

    - title: "Cover Browser: Fix visual 'pop' when scrolling the first time"

    - title: "Grid View: Allow the left and right arrow keys to traverse over rows."
      tickets: [1295901]

  improved recipes:
    - The Atlantic
    - Courrier International
    - Der Tagesspiegel

- version: 1.29.0
  date: 2014-03-21

  new features:
    - title: "Edit Book: Add support for saved searches. Click Search->Saved Searches to bring up a dialog where you can create and manage saved searches"

    - title: "Edit Book: New tool to specify semantics in EPUB books (semantics are items in the guide such as preface, title-page, dedication, etc.). To use it, go to Tools->Set Semantics"
      tickets: [1287025]

    - title: "Edit Book: Preview panel: Add a copy selected text action to the context menu"

    - title: "Edit Book: When inserting hyperlinks, allow specifying the text for the hyperlink in the insert hyperlink dialog"

  bug fixes:
    - title: "Fix a regression in the previous release that broke downloading metadata for authors with a double initial such as R. A. Salvatore."
      tickets: [1294529]

    - title: "Edit book: When generating inline Table of Contents, mark it as such in the guide section of the OPF."
      tickets: [1287018]

    - title: "E-book viewer: Fix right margin for last page in a chapter sometimes disappearing when changing font size."
      tickets: [1292822]

    - title: "Edit Book: Fix saving of empty files not working"

    - title: "Edit book: Fix a regression in the previous release that broke saving a copy of the current book on linux and OS X"

    - title: "Edit book: Fix syntax highlighting in HTML files breaks if the closing of a comment or processing instruction is at the start of a new line."

    - title: "Edit book: Fix check book failing in the presence of empty <style/> tags."
      tickets: [1292841]

    - title: "Catalogs: Fix handling of tristate boolean custom columns when creating EPUB/MOBI catalogs."
      tickets: [1294983]

    - title: "Linux build: Workaround for systems that have broken libc implementations that change the behavior of truncate() on file descriptors with O_APPEND set."
      tickets: [1295366]

  improved recipes:
    - TIME
    - Wired Daily Edition

  new recipes:
    - title: Applefobia
      author: koliberek

- version: 1.28.0
  date: 2014-03-14

  new features:
    - title: "Edit Book: Add a tool to easily insert hyperlinks (click the insert hyperlink button on the toolbar)"

    - title: "Edit book: Add a tool to easily open a file inside the book for editing by just typing a few characters from the file name. To use it press Ctrl+T in the editor or go to Edit->Quick open a file to edit'"

    - title: "Edit book: Allow disabling the completion popups for the search and replace fields. Right click on the search/replace field to enable/disable the completion popup"

    - title: "E-book viewer: Add an option to control the maximum text height in full screen. Note that it only works if the viewer is in paged mode (which is the default mode)."

    - title: "Show the search expression for the virtual library in a tooltip when hovering over the tab for the virtual library."
      tickets: [1291691]

    - title: "Book details panel: Show author URL in a tooltip when hovering over author names"

    - title: "Kobo driver: Update to handle updated Kobo firmware"

  bug fixes:
    - title: "Library backup: Avoid infinite retries if converting metadata to backup OPF for a book fails. Simply fail to backup the metadata for that book."
      tickets: [1291142]

    - title: "Edit book: Fix file permissions for the edited book being changed on Linux and OS X"

    - title: "Fix text entry cursor becoming invisible when completion popup is opened"

    - title: "Possible fix for crash on OS X Mavericks when adding duplicates"

    - title: "E-book viewer: Fix pressing the Esc key to leave full screen mode not changing the state of the full screen button"

    - title: "When reading metadata from filenames, do not apply the fallback regexp to read metadata if the user specified regexp puts the entire filename into the title. The fallback is only used if the user specified expression does not match the filename at all."

    - title: "Linux binary install script: Fix error on linux systems where the system python has an encoding of None set on stdout. Assume encoding is utf-8 in this case."

    - title: "Content server: Fix (maybe) an error on some windows computers with a non-standard default encoding"

  improved recipes:
    - Fleshbot

- version: 1.27.0
  date: 2014-03-07

  new features:
    - title: "An option to add multiple books from inside a ZIP or RAR file. Right click the Add Books button and choose 'Add multiple books from archive'."

    - title: "Database backend: Make the database backend more robust when the calibre library is placed on flaky filesystems. Now when an I/O error occurs while writing to the database, the connection to the database is closed and re-opened and the operation is retried."
      tickets: [1286522]

    - title: "DJVU Input: Speedup extraction of text from DJVU files by implementing the BZZ decoder algorithm in C"

  bug fixes:
    - title: "MOBI Input: Fix empty <a> tags not being handled correctly in rare cases when the markup is bad enough to be parsed only using the fallback HTML parser."
      tickets: [1288430]

    - title: "Edit book: Fix column number of cursor shown in the bottom right being one less than it should be."

    - title: "Edit book: Fix names for non-BMP unicode character (Such as emoticons) not being displayed in the lower right corner. Also allow these characters to be searched for by name in the Insert special character tool."

    - title: "Do not show system tray notification popups while analyzing books on device, as they can be slow on systems that display multiple messages serially instead of replacing the last message"

    - title: "Linux installer script: Do not use the filesystem to pass the downloaded tarball to tar as it is possible for malicious code running on the users computer to alter the download file between signature verification and calling tar to extract the files."

    - title: "DJVU Input: When extracting embedded txt from TXTz sections in DJVU files, fix incorrect extraction of txt when the djvutxt external program is not present."
      tickets: [1286771]

    - title: "Edit Book: Fix import HTML file as new book not working on OS X"

    - title: "Wireless device driver: Fix a regression that prevented it form working with the Calibre Sync Android app."

    - title: "Fix a regression in 1.26 that caused width and height attributes on <img> tags to generate CSS width and height properties without a 'px' suffix"

    - title: "Linux binary installer: Fix an error when using proxies and python 3 with the new installer script"
      tickets: [1286274]

    - title: "Edit book: When exporting files, fill the choose filename popup with the name of the file being exported as the default name"

    - title: "Make the new Linux installer script compatible with python 2.6."
      tickets: [1286011]

  improved recipes:
    - American Thinker
    - HNA
    - Heise
    - Arguments and Facts
    - Financial Times

- version: 1.26.0
  date: 2014-02-28

  new features:
    - title: "Edit Book: Allow direct importing of HTML or DOCX files as new books without doing a full conversion. Use File->Import HTML or DOCX to import a file as a new EPUB book with minimal changes from the original."

    - title: "Linux binary installer: Various improvements to the binary installer. It now creates an un-installer (calibre-uninstall) that will remove all files created by the installer. It also no longer asks for the installation directory. If you wish to change that, you need to specify it in the installation command itself. Also the installer is now downloaded securely via HTTPS from github and verifies the signature of the installed files. Finally, it can be used to create an isolated install, that only makes changes to files in the installation directory and does not require root privileges."
      tickets: [1283154]

    - title: "Metadata download: Add an option to merge the downloaded comments into existing comments, instead of overwriting (Preferences->Metadata download)."
      tickets: [1285319]

    - title: "Edit book: Add an option to automatically beautify individual files whenever they are opened for editing. Look under 'Editor Settings' in the Edit Book Preferences."

    - title: "Bulk metadata download: When reviewing downloaded metadata allow hiding the controls on the comments box by right clicking in the comments area. Useful on smaller screens."
      tickets: [1283251]

    - title: "E-book viewer: When displaying metadata for the book, also display custom column metadata"

  bug fixes:
    - title: "Smarten punctuation: Correct handling for decade abbreviations like '60s and measurements in feet and inches like 1' 2\"."
      tickets: [1285351]

    - title: "EPUB Output: If the output profile is set to one of the Nook profiles, do not use shorthand CSS properties as the Nook cannot handle them."

    - title: "Conversion: Fix incorrect CSS being generated when converting files that have <img> tags with width or height attributes that contain fractional numbers."
      tickets: [1283108]

    - title: "Edit Book: When editing EPUB files, and a file is added in META-INF/ do not automatically add it to the manifest. Also do not warn about unmanifested files inside META-INF/ since a few vendors (Apple) require non standard files in that location."
      tickets: [1283015]

    - title: "Fix Book details popup window not being updated when editing metadata in the main window"

    - title: "Edit book: Fix editor not marking the book as modified when doing a Replace All that does not affect any currently open files."

    - title: "Windows: Use a separate worker process to move files to the recycle bin. Fixes the problem of the recycle bin icon not being updated when deleting books into an empty recycle bin. Also avoids the overhead of launching a new, short-lived worker process for every delete."

    - title: "calibredb: When deleting books/formats wait for deleted files to be moved to recycle bin, before quitting"

    - title: "RTF Output: Fix invalid RTF being produced when the text contains a double backslash."
      tickets: [1268118]

    - title: "Edit book: Fix option to disable showing the character before cursor not working"

    - title: "Get Books: Update various store plugins to account for changes to the store websites"

    - title: "Fix virtual library names with ampersands in them not being displayed correctly in the virtual library menu and tab bar"

  improved recipes:
    - AnandTech
    - Zeit Online
    - Spektrum
    - Le Temps

  new recipes:
    - title: Various Russian news sources
      author: bug_me_not

- version: 1.25.0
  date: 2014-02-21

  new features:
    - title: "PDF: Add support for reading and writing extended (XMP) metadata"
      description: "calibre can now read and write XMP metadata from PDF files. This means that all metadata that you can create in calibre, including custom columns, can be stored in the PDF files. It is also useful when importing PDF files created by some academic publishers, that sometimes have good XMP metadata, such as DOI identifiers, tags and so on."
      type: major

    - title: "Updated Quick Start guide. Available from: https://github.com/kovidgoyal/calibre/raw/master/resources/quick_start.epub"

    - title: "Edit Book: Allow typing arbitrary unicode characters with the keyboard in the editor To use this feature, just type the unicode code number and press Alt+X.  For example, to get the character  type ff and press Alt+X"
      tickets: [1280868]

    - title: "Edit book: Some performance improvements for the syntax highlighter that should make the editor noticeably more responsive while typing inside large HTML files."

  bug fixes:
    - title: "Edit book: Fix an error that occurs if more than 100 checkpoints are created."
      tickets: [1282583]

    - title: "Edit book: Fix splitting of HTML file occurring at the wrong location if the HTML contains invalid constructs like nested <p> tags"

    - title: "Edit book: If the book being edited is deleted outside the editor, instead of showing an error message on save, ask the user to choose a new file location before saving."

    - title: "Bulk metadata edit search and replace: Do not allow the user to perform the search and replace until she enters a search expression."
      tickets: [1282357]

    - title: "Conversion: When converting SVG images for formats that do not support SVG and the SVG has an invalid viewBox, ignore the viewBox instead of aborting conversion"

    - title: "Conversion: Fix parsing of HTML 5 documents that are also valid XML but use non-namespaced inline svg"

    - title: "Catalogs: Fix multiple exclusion rules causing entries to be duplicated."
      tickets: [1281296]

    - title: "HTML Input: Fix incorrect parsing of file names in href/src attributes that contain percent encoded non-ascii characters."
      tickets: [1281099]

    - title: "Edit book: Workaround bug in Qt causing crash on deleting bottom most file in the Files Browser on linux"

    - title: "Edit book: Workaround for bug in Qt that caused extra null bytes to be appended to the end of the file when saving if the file contains non-BMP unicode characters."

    - title: "Edit book: When autofixing file extensions <-> mimetype mismatch, if the file in question is in the spine, change the file extension rather than the mimetype, as that is more likely to be the correct fix."

    - title: "Fix the Similar Books menu items failing to find similar books if the target book has a quote in its metadata"
      tickets: [1280606]

    - title: "Edit book: Fix regression that caused program to stop responding when quitting via File->Quit"

  improved recipes:
    - Various Polish news sources
    - Mac World UK

  new recipes:
    - title:

- version: 1.24.0
  date: 2014-02-14

  new features:
    - title: "E-book viewer: Add support for touchscreens when running on Windows tablets."
      type: major
      description: "The builtin viewer in calibre now supports touch screens on Windows tablets. You can tap or swipe to turn pages. Swipe up or down to jump between sections. Swipe and hold to flip through pages rapidly and pinch to zoom in and out."

    - title: "Sending by email: Add an option to insert the comments from the book metadata as text into the email. Useful to allow the recipient to see a summary of the book before opening it. The option is in Preferences->Sharing by email"

    - title: "Edit book: new tool to automatically generate an inline (HTML) Table of Contents based on the current NCX Table of Contents. Accessed via Tools->Table of Contents->Insert inline Table of Contents."

    - title: "Edit Book: Add a check for internal links in the book that do not point to HTML documents"

    - title: "Kobo driver: Add support for the soon to be released firmware version 3.2"

    - title: "Completion popups: Allow pressing Tab (in addition to Enter) to accept the current completion"

    - title: "Edit book: When auto-fixing named entities, fix in all files not just current file."

  bug fixes:
    - title: "EPUB Output: Do not override any declared text-decoration CSS for <u> tags when auto-converting them to <span> (auto-conversion is needed to comply with the epub spec)."
      tickets: [1278670]

    - title: "Windows: Improve handling of non-ascii characters when the command line utilities are outputting to the windows console"

    - title: "PDF Output: Fix incorrect rendering of html files with only a single large image and very little text. In some rare circumstances, the full html file would not be rendered."
      ticket: [1278877]

    - title: "Add a copy to clipboard button for the duplicates message when copying to another library."
      tickets: [1278305]

    - title: "Catalogs: Fix an error when generating catalogs via calibredb from the command line on non-English installs"

    - title: "Catalogs: Fix an error creating catalogs in ebook format when one of the books contains HTML entities in its title"

    - title: "Preferences: When using the Restore to defaults button for the Tweaks, remove all plugin tweaks as well. This allows the user to recover the tweaks file if one of the plugins insert invalid code into the plugin tweaks"

    - title: "Edit book: Fix previously used locations for file open dialogs not being remembered when edit book is launched from within the main calibre program"

    - title: "Edit book: Fix a couple of temporary files occasionally not being cleaned up on program exit in windows"
      tickets: [1280040]

  improved recipes:
    - Associated Press
    - NRC Handelsblad
    - Cumhuriyet Yazarlar
    - ABC (es)

- version: 1.23.0
  date: 2014-02-07

  new features:
    - title: "Edit Book: Highlight the closest surrounding tag when editing HTML/XML"

    - title: "Edit Book: Add a tool to easily change the current paragraph (the paragraph containing the cursor) to a heading. Simply click the button with 'H1' on it and choose the heading level you want the current paragraph changed to."

    - title: "Edit Book: When running Replace All add a button to the replaced message to show exactly what changes were done and allow them to be undone"

    - title: "Edit book: When checking book, detect case mismatches between links and the filenames of the files they point to and offer to auto-correct the links"

    - title: "Adding books: Implement a copy to clipboard button for when duplicates are found during the adding process. Useful if you wish to review the list of duplicates later."
      tickets: [1276918]

    - title: "Linux installer: Install appdata files for integration with software stores."
      tickets: [1271974]

    - title: "Edit book: Auto add a checkpoint when the book is first opened for editing"

  bug fixes:
    - title: "Edit Book: Fix a bug in AZW3 support that could cause images/fonts to get mixed up when saving and re-opening the book multiple times."
      tickets: [1276726]

    - title: "Edit Book: Fix individual find and replace not working in regex mode if the search expression uses lookbehind/lookahead operators"

    - title: "Compare books: Fix unchanged lines at the start of a change block being sometimes marked with a blue background, even though they contain no changes"

    - title: "Compare books: Fix incorrect scrolling when viewing all text and a large amount of text is present after the final change."

    - title: "PDF Output: Fix a zero division error when the transformation matrix has a zero diagonal"
      tickets: [1277102]

    - title: "calibredb add_custom_column: Fix a spurious error message when adding custom columns caused by the new db backend"

    - title: "calibredb list: Fix error if one of the requested fields is empty for all requested books"

    - title: "calibredb set_metadata: Fix setting series_index with the -f argument not working"

    - title: "Markdown input: Fix handling of very large files."
      tickets: [1212330]

    - title: "Edit book: Do not create savepoints when no changes are performed by automated tools such as smarten punctuation, remove unused css etc."

    - title: "Edit Book: Fix a bug that would cause an error when a global operation like find/replace or polishing fails."
      tickets: [1275366]

    - title: "Metadata download: Workaround edelweiss.com no longer being able to search by author name.  Search only by titles and filter the results returned by edelweiss to only include matching authors."

    - title: "HTML 5 parser: Preserve non-core namespace declarations on the <html> tag"

    - title: "Workaround broken file chooser dialog on Ubuntu that does not auto-insert the specified extension."
      tickets: [1275125]

    - title: "Compare books: Fix error when previously different files become identical after beautifying"

    - title: "Edit Book: Fix subsetting embedded fonts not processing fonts included in a stylesheet that is itself referenced only by an @import rule"

    - title: "Edit Book: Fix the remove unused css tool changing the namespace prefix used for the XHTML namespace in the CSS sheet, if any"

    - title: "Conversion: Fix CSS selectors using the epub namespace being ignored"

    - title: "Compare books: Fix double clicking in the right panel not opening the correct file in the editor"

  improved recipes:
    - Kathimerini
    - Cosmopolitan UK
    - wired.it
    - Gosc Niedzielny
    - New York Times Book Review

  new recipes:
    - title: Disinformatico
      author: isspro

    - title: Les Echos
      author: Krittika Goyal

- version: 1.22.0
  date: 2014-01-31

  new features:
    - title: "A new tool to compare ebook files, showing the differences in their underlying text, styles and images side by side"
      type: major
      description: "The new compare tool is very useful in combination with the book editor. It allows you to see what changes have been made between checkpoints and what changes were made by automated tools. You can also compare different versions of the same ebook file. How to use each of these features is described below. Screenshots and help for using the new compare tool are at https://manual.calibre-ebook.com/diff.html"

    - title: "Edit book: Add a tool to view the list of checkpoints and compare the current state of the book to the state at the specified checkpoint. To use it click View->Checkpoints"

    - title: "Edit book: Add a tool to compare the book being currently edited with another file. To use it go to File->Compare to other book"

    - title: "Allow comparing the ORIGINAL_EPUB version of a book to the EPUB version by right clicking on the ORIGINAL_EPUB format in the book details panel. And the same for ORIGINAL_AZW3 and AZW3 formats."

    - title: "Edit Book: Add a button to show the changes after various automated tools are run such as: remove unused CSS, subset embedded fonts, smarten punctuation, etc."

    - title: "Edit Book: Add check for spine items with incorrect media-type specified in the manifest"

    - title: "Edit Book: Enable editing of page map XML files"

    - title: "DOCX Input: Improve handling of text boxes. Text boxes are still not supported, but they no longer cause errors or duplicate content when embedded inside paragraphs."
      tickets: [1273130]

    - title: "Edit Book: Add check for links that point to directories in the book instead of files."
      tickets: [1272769]

    - title: "Edit Book: Show the filename of the currently edited file in the title bar."
      tickets: [1272543]

  bug fixes:
    - title: "Edit Book: Fix unused CSS removal tool inserting namespace declaration at the top of the stylesheet"

    - title: "Edit book: Fix cover not being updated from the current cover in the calibre library when using Edit Book. Note that you can turn off metadata updating via Preferences->calibre Integration in the Edit Book Preferences."
      tickets: [1272730]

    - title: "Conversion: Add support for <style> and <link> tags outside the <head> tag."
      tickets: [1274339]

    - title: "Edit book: Fix undo not working for subsetting fonts"

    - title: "CHM Input: Handle CHM files with broken markup where all the content is placed inside the <head> tag."
      tickets: [1273512]

    - title: "DOCX Input: Fix padding-left of <ul>, <ol> being defaulted to 0 if no padding specified in the docx style, which breaks rendering for lists at the left margin of the document."

    - title: "MOBI Output: Handle the value attribute on <li> tags."
      tickets: [1273559]

    - title: "EPUB Output: Fix splitting of HTML files not updating links in the <pageList> section of the NCX file"

    - title: "EPUB Input: Handle EPUB files with incorrect media types for the spine items when converting."
      tickets: [1273471]

    - title: "RTF Output: Fix failure to convert documents that contain comments with the -- string inside the comment."
      tickets: [1272588]

    - title: "Edit Book: Fix extra 1x1 unused GIF image being created when saving and re-opening AZW3 files."
      tickets: [1272410]

    - title: "Fix editing of narrow yes/no columns in the book list not very convenient"
      tickets: [1272089]

  new recipes:
    - title: Various Russian News sources
      author: bug_me_not

- version: 1.21.0
  date: 2014-01-24

  new features:
    - title: "Edit book: Add a tool to automatically remove all unused CSS rules.  Useful for books created from templates that can have large numbers of CSS rules that dont match any actual content. Available via Tools->Remove unused CSS."

    - title: "Edit book: Add a tool to split HTML files at multiple locations automatically.  To use it, right click in the file and choose 'Split at multiple locations'.  Useful if you want to split at all heading tags or all tags having a certain class and so on."

    - title: "Book polishing: Add an option to automatically remove all unused CSS rules, works the same as the tool for Edit book, above."

    - title: "Driver for ImCoSys imcoV6L"
      tickets: [1266079]

    - title: "Edit book: Allow editing of .plist files as XML"

  bug fixes:
    - title: "Metadata download: Fix downloading of metadata from Edelweiss not working because of website changes"

    - title: "Ebook viewer: Do not override the background color specified in the book if the user has not set a background color in the viewer preferences"

    - title: "Edit book: Handle EPUB files that erroneously list the OPF itself in the OPF manifest with an incorrect mime type"

    - title: "Edit book: Prevent arrange into folders tool from moving files inside the META-INF folder"

  improved recipes:
    - Indian Express
    - Daily Express
    - Business Week Magazine
    - New York Review of Books

  new recipes:
    - title: Various Turkish news sources
      author: asalet_r

- version: 1.20.0
  date: 2014-01-17

  new features:
    - title: "Edit book: Add a new tool to automatically arrange all files in the book into folders based on their type. Access it via Tools->Arrange into folders."

    - title: "Edit book: Add various validity checks for OPF files when running the Check Book tool."
      description: "Check for incorrect idrefs, missing required sections, non-linear items in the spine, incorrect meta cover tags, duplicated items in the manifest or spine and so on."

    - title: "Edit book: Add checks for duplicate ids in HTML/OPF/NCX files"

    - title: "Edit book: Add checks for filenames containing URL unsafe characters to the Check Book tool"

    - title: "Conversion: Allow getting text for entries in the Table of Contents from tag attributes."
      tickets: [1267837]

  bug fixes:
    - title: "AZW3 Output: When converting EPUB files that include an HTML titlepage and no external cover is specified, ensure that the Go to cover action on the Kindle goes to the cover image and not the HTML titlepage."
      tickets: [1268657]

    - title: "Prevent setting an incorrect value for compression quality in the wireless driver causing an error"

    - title: "Show a busy cursor while calibre is working on matching books on the device to books in the library, which can take a while if the user has a lot of books on the device."

    - title: "iTunes driver: Retry automatically a few times when failing to send multiple book to iTunes."
      tickets: [1268058]

    - title: "HTML Input: Fix UTF-16/32 encoded files that are linked to from the parent file not being properly processed."
      tickets: [1268262]

    - title: "EPUB Output: Fix splitting of large HTML files removing all child tags from inside <pre> tags."
      tickets: [1267327]

    - title: "Edit book: Fix tab characters not being identified in the lower right corner."
      tickets: [1267980]

  improved recipes:
    - Various Polish news sources
    - Dilema Veche

- version: 1.19.0
  date: 2014-01-10

  new features:
    - title: "Edit book: A new tool to insert special characters into the text, available via Edit->Insert special character. Supports all unicode characters (over 60,000 of them). See https://manual.calibre-ebook.com/edit.html#inserting-special-characters"

    - title: "Edit book: When searching for text in the editor, center the found text on screen"

    - title: "Driver for teXet TB-146SE."
      tickets: [1266030]

    - title: "Edit book: Show tooltips in the File Browser for 'special' files, such as the cover, opf, ncx, etc."

    - title: "Edit book: When checking book, check for entries in the OPF whose mimetype does not match the file extension."

  bug fixes:
    - title: "Edit book: Fix marking a file as titlepage not working if the opf does not contain a <guide> section."
      tickets: [1267643]

    - title: "Edit book: Fix errors when working on HTML files that parse as valid XML, but do not have the correct XHTML namespace."

    - title: "Fix typing non-English characters using an input method (key composing) in the author/tags/etc fields in the metadata dialog not working."
      tickets: [1266795]

    - title: "Edit book: Fix error when merging html files that include a currently opened file and a non-html file is also open"

    - title: "Fix unnecessary error popup during shutdown if the wireless device driver is running and mdns de-registration fails."
      tickets: [1262819]

    - title: "Add L and D as recognized articles when automatically computing sort strings for French."
      tickets: [1264172]

    - title: "Edit book: Fix changing mimetypes in the opf file not being detected when closing the opf file or running any automated tool like Check Book"

  improved recipes:
    - New York Times
    - Zeit Online
    - Faz.net
    - OGlobo
    - Inc Magazine
    - New York Review of Books
    - Brand Eins

- version: 1.18.0
  date: 2014-01-03

  new features:
    - title: "Add an option to control how completion works when editing authors/tags/series/etc."
      description: "By default, when completing items, calibre will show you all the candidates that start with the text you have already typed. You can instead have it show all candidates that contain the text you have already typed. To do this, go to Preferences->Tweaks->Completion mode.  For example, if you type asi it will now match both Asimov and Quasimodo, whereas the default behavior would match only Asimov."
      tickets: [1264304]

    - title: "Edit book: Add a check for too large HTML files when running the check book tool."
      tickets: [1264680]

    - title: "Conversion: Sort the CSS rules in the output stylesheet using a 'natural' sort algorithm, so that calibre2 sorts before calibre10."
      tickets: [1265175]

    - title: "Cybook Orizon driver: Upload cover thumbnails in the correct format and add an option to control what directory books are sent to on the SD card"
      tickets: [1265225]

    - title: "Portable installer: Do not ask the user for confirmation when upgrading an existing installation during an automated install"

    - title: "Linux/OS X driver for Trekstor Pyrus LED"

    - title: "Driver for Tagus Lux"
      tickets: [1264355 ]

  bug fixes:
    - title: "MOBI Output: When text indent is specified as a percentage in the input document, prevent the generated MOBI from having too large an indent if the user chooses a large output profile like tablet."
      tickets: [1265226]

    - title: "Edit book: Fix live replacement of entities not working on some non-US keyboard layouts."
      tickets: [1265147]

    - title: "Fix titlecasing of words not capitalizing the first letter, if the first letter is not an English character."
      tickets: [1265202]

    - title: "Edit book: Ensure that multiple edit book windows are grouped in a separate group from viewer windows in the Windows 7 taskbar. Also change the icon color to blue to more easily distinguish it from the viewer icon"

    - title: "Edit book: Fix a bug in the regex engine that calibre uses that could cause various incorrect results in some special circumstances."
      tickets: [1263461]

    - title: "Edit book: Replace buggy Qt supplied actions in the context menu for the editor widget with properly implemented ones"

    - title: "Book list: Fix sorting on fields that are not viewable as columns not being restored on calibre restart. Also fix sorting on the Title field via the right click menu not being restored."

    - title: "Windows 64bit build: Fix corrupted images in MOBI files causing crash."
      tickets: [1264534]

    - title: "Edit book: Prettify html in newly created books."
      tickets: [1264390]

    - title: "AZW3 Input: Handle azw3 files that contain some empty individual HTML files"

    - title: "Comic Input: Fix a regression to comic input in 1.15 that could cause some comics to be rendered as black or white pages."
      tickets: [1264133]

  improved recipes:
    - Chicago Tribune
    - Caijing
    - HBR
    - poche
    - Neue Osnabrucker Zeitung

  new recipes:
    - title: Nan Feng Chuang
      author: Chen Wei

- version: 1.17.0
  date: 2013-12-25

  new features:
    - title: "Merry Christmas everyone! Early release this week, as I will be travelling."

    - title: "Edit book: Allow drag and drop of images onto the image editor"

    - title: "Edit book: Allow import of multiple files at once, via File->Import files into book"

    - title: "Edit book: Show the name of the current character to the left of the cursor in the status bar. Can be turned off via Preferences."

    - title: "Edit book: Automatically replace HTML entities as they are typed. This can be turned off in the Preferences."

    - title: "ToC Editor: Allow bulk renaming of items. Simply select the items you want to rename, right click and choose bulk rename. Useful if, for instance, you want to rename all the items to be Chapter 1, Chapter 2 and so on."

    - title: "Edit book: Allow linking of stylesheets into HTML files automatically.  Right click on the selected HTML files in the File browser and choose 'Link stylesheets' to have the <link> tags for the sheets automatically inserted."

    - title: "Edit book: When deleting files, automatically remove all entries that refer to them from the ToC"

  bug fixes:
    - title: "ToC Editor: When auto-generating the table of contents from headings or XPath, if an element is at the top of the file, link only to the file instead of to the element."
      tickets: [1261099]

    - title: "Edit book: When splitting files, name the newly created file with a _split suffix."

    - title: "Edit book: Fix position syncing incorrect when in HTML files that contain <meta> tags with charset encoding declarations over more than a single line"

    - title: "Edit book: Automatic correction of font family names not quoting family names with spaces in them if the original, incorrect family name did not have a space."
      tickets: [1263448]

    - title: "Title casing: Fix presence of some non-English characters or smart punctuation causing all-caps text to not be properly titlecased"

    - title: "Edit book: Fix a bug preventing marking an image as cover in a book that previously had no cover"

    - title: "Edit book: Fix a typo causing the preferences for which windows occupy which corners to not work"

    - title: "Edit book: Fix crash that happens sometimes when deleting multiple files."
      tickets: [1263179]

    - title: "Edit book: Handle EPUB files which contain opf files with no <metadata> tags"

    - title: "Edit book: Fix deleting a file that is currently open in an editor, not auto-closing the editor"

    - title: "DOCX Input: Fix error when converting DOCX file that contains only image based links and no text based links."
      tickets: [1263021]

  new recipes:
    - title: Birmingham Evening Mail
      author: Dave Asbury

- version: 1.16.0
  date: 2013-12-20

  new features:
    - title: "Edit book: Add a tool to browse all images in the book with their thumbnails. Useful for visually locating an image. To launch it, use View->Browse images in book."

    - title: "Edit book: Allow creation of new, empty books via File->Create new book"

    - title: "Edit book: Add buttons to easily create formatting such as bold/italic/colors/etc. when editing HTML files"

    - title: "Edit book: Add button to easily insert <img> tag while editing HTML"

    - title: "Edit book: Add options to change the default font families/sizes for the preview panel"

    - title: "Edit book: Allow customizing which dockable windows occupy the four dock corners via Edit->Preferences. You can now also choose to have more than one row of windows in a given dock area."

  bug fixes:
    - title: "Edit book: When editing AZW3 files with no images in them, do not incorrectly display a number of binary records from the AZW3 file as 'unknown' miscellaneous files"

    - title: "Edit book: Fix marking image as cover not working for AZW3 files if the file did not previously have a cover"

    - title: "AZW3 Output: Do not refuse to create the ToC if it has only a single entry"

    - title: "Edit book: Fix crashes when processing some books that contain malformed markup on OS X and windows 64bit machines"

    - title: "Edit book: Fix error when renaming the html file currently displayed in the preview panel and that file is not the file being currently edited"

    - title: "Edit book: Fix crash when editing books that have links to absolute paths."
      tickets: [1261337]

    - title: "Edit book: Fix book not being marked as modified after editing the ToC"

    - title: "Edit book: When syncing the position of the preview panel to the cursor in the editor and the cursor is at or before the <body> tag set the position of the preview panel to the top of the file, so that the top margin of the body tag is seen easily."

    - title: "Edit book: Fix trying to import an html file/css file via the add new file button always resulting in a blank file"

    - title: "Edit book: Fix replacing a file with another file with exactly the same filename causing an error."
      tickets: [1260822]

    - title: "Edit book: Have the ToC view refresh itself after any major operation on the book"

    - title: "Edit book: Fix pasting in the image editor not working"

  improved recipes:
    - NZZ
    - Spiegel Online
    - Daily Mail
    - FAZ.net

- version: 1.15.0
  date: 2013-12-13

  new features:
    - title: "A new book editor, capable of editing files in the EPUB and AZW3 (Kindle) formats"
      type: major
      description: "Right click on any book in calibre and choose 'Edit Book', to edit e-books in the EPUB and AZW3 formats. The new editor allows you to edit the HTML/CSS and images inside the ebooks in a seamless fashion, with live preview of your changes and many helpful automated tools for checking the book for errors, editing the table of contents, merging, splitting, bulk renaming and so on. See https://manual.calibre-ebook.com/edit.html for more details and help using the new editor. Note that the editor is a completely new codebase and is still being actively developed, so expect a few bugs and many new features in the near future. However, the editor as it stands is extremely useable and useful today. Note that it replaces the old 'Tweak Book' feature in calibre. If you want the old Tweak Book back, it has been renamed to 'Unpack Book', you can go to Preferences->Toolbars and add it back. Happy holidays!"

    - title: "Edit metadata dialog: In the tag editor, allow easy filtering of the lists of available and applied tags."

    - title: "Driver for Onyx Boox C65."
      tickets: [1259914]

  bug fixes:
    - title: "Kobo driver: Fix book covers not showing for sideloaded kepubs on the book details screen, with newer Kobo firmware."
      tickets: [1260279]

    - title: "Content server: Popup a more useful error when clicking on the cover of a book that has no formats to view."
      tickets: [1260216]

    - title: "Cover grid: Fix text showing 'None' for rating fields for books with no rating"

    - title: "Cover grid: Set text color based on the background color/image being used."
      tickets: [1258754]

    - title: "Metadata editor: Fix removing formatting for comments not removing background colors."
      tickets: [1258975]

    - title: "EPUB Output: Remove name attribute from <a> tags (replacing with id) to keep the asinine epubcheck happy"

- version: 1.14.0
  date: 2013-12-06

  new features:
    - title: "Edit metadata dialog: Add the ability to trim covers manually, if automatic trimming is not satisfactory."
      tickets: [1256054]

    - title: "You can now show any metadata field below the covers in the cover grid view, not just title. To change the displayed field go to Preferences->Look & Feel->Cover Grid."

    - title: "Allow searching for plugins by name in the install new plugins dialog"

    - title: "Kobo driver: Allow sending kepubs to older kobo devices as well, also add support for firmware 3.1"
      tickets: [1257972, 1257143]

    - title: "Allow viewer plugins to customize the viewer's user interface"

  bug fixes:
    - title: "Table of Contents Editor: Handle generating ToC from headings if the first heading level in the document is not h1 or the document skips some intermediate heading levels"

    - title: "Update the metadata download and Get Books plugins for ozon.ru"

    - title: "Fix sending by email not working on computers with non-ascii hostnames."
      tickets: [1256549]

    - title: "Wireless driver: Fix launching programs from within calibre causing the wireless driver port to remain in use even after calibre is shutdown."
      tickets: [1256198]

  improved recipes:
    - Kommersant
    - Pocket
    - Heraldo de Aragon
    - National Geographic Magazine
    - Los Angeles Times
    - Boerse Online
    - Reuters

- version: 1.13.0
  date: 2013-11-29

  new features:
    - title: "Edit metadata dialog: Facilitate editing the authors for books that have a large number of authors, by using a dedicated 'Edit authors' tool, which you can launch by right clicking the authors in the edit metadata dialog
and selecting 'Edit authors'."
      tickets: [1255288]

    - title: "Conversion: Fix specifying shorthand properties in filter css not working. Now all shorthand properties automatically filter out all the properties they are shorthand for."

    - title: "Kobo driver: support new firmware version 3.0.1"

    - title: "Wireless device driver: Cache metadata on a per device basis."
      description: "Allows for using different cover thumbnail sizes on different devices. Will force device to resend all metadata the first time it is connected after this upgrade."

  bug fixes:
    - title: "Metadata download: Update code to get covers via google image search to handle changes to the google website."
      tickets: [1254973]

    - title: "Searching: When searching for identifiers, fix searching for values that contain colons not working. Also fix escaped parentheses not being parsed correctly."

    - title: "Match books on device: Fix parentheses in book titles not being escaped when searching for matches."
      tickets: [1255671]

    - title: "Match books on device: Fix thumbnail in device metadata cache not being updated when matching books."
      tickets: [1255676]

    - title: "File open dialogs; If the previously used initial directory, no longer exists, use a directory one level up."
      tickets: [1255216]

    - title: "EPUB Output: Strip -- from inside comments, as some ebook reading apps cannot handle them."
      tickets: [1256059]

    - title: "Fix a regression in the previous release that broke the Kobo third party plugins"

    - title: "Fix QuickView windows not staying on top on some linux systems"
      tickets: [1253922]

    - title: "Fixes for website changes for various Get Books Polish language stores"

    - title: "Metadata download dialog: Fix current cover not copyable to clipboard"

    - title: "Fix an incorrect translation of the language 'Polish'"
      tickets: [1254161]

  improved recipes:
    - Economist
    - Various PostMedia news sources

- version: 1.12.0
  date: 2013-11-22

  new features:
    - title: "Auto adding: Option to add files of all types, not just ebooks. You can now tell calibre to auto add all file types, instead of just known ebooks via Preferences->Adding books->Automatic adding."
      tickets: [1252814]

    - title: "Quick view: Show the title/author/series columns in the same order as in the main book list."
      tickets: [1253022]

    - title: "Update Kobo driver to allow sending kepubs"
      tickets: [1252688]

    - title: "Allow right clicking on covers to copy them in the metadata cover download dialog."
      tickets: [1251793]

  bug fixes:
    - title: "Titlecase: Fix incorrect title casing for some non-English words."
      tickets: [1253692]

    - title: "Kobo driver: Fix errors when using rating or numerical custom columns to create shelves."
      tickets: [1253637]

    - title: "E-book viewer: Allow searching to work with hyphenation enabled, provided you are searching for whole words. Searching for partial words may still not work. For robust searching, turn off hyphenation in the viewer preferences."

    - title: "Get books: Update the B&N UK store plugin to handle changes to the B&N UK website"

    - title: "Apply changes being edited when clicking apply in the email preferences list."
      tickets: [1252758]

    - title: "Fix crash on linux systems whose fontconfig configuration includes paths to in an undecodable encoding."

    - title: "Fix editing custom column values in the book list not allowing change of case."
      tickets: [1251768]

    - title: "Kobo driver: Fix latest firmware update for Kobo Wifi causing calibre to not recognize it."
      tickets: [1251536]

    - title: "Content server: Fix virtual libraries with an ampersand in their names not working"

  improved recipes:
    - Le Monde (free version)
    - Pecat
    - Daily Express

  new recipes:
    - title: Loksatta and Maharashtra Times
      author: Krittika Goyal

- version: 1.11.0
  date: 2013-11-15

  new features:
    - title: "Kobo driver: Support the new firmware version 3.0.0 for Kobo devices"

    - title: "Content server: Show the name of the virtual library at the top when browsing books in a virtual library."
      tickets: [1251278]

    - title: "Add a keyboard shortcut (Ctrl+*) to convert the current search into a temporary virtual library."
      tickets: [1249773]

    - title: "Template language: Add a transliterate function, useful to convert metadata in other languages into its phonetic English representation, when exporting books from calibre."
      tickets: [1249562]

    - title: "Remove the button to toggle search result highlighting from next to the search bar, as too many people click it accidentally and then do not realize what they have done, despite the confirmation message that pops up. The button can be restored via Preferences->Searching"

    - title: "Wireless driver: Remove old non-streaming networking code. Apps that still use it must be updated. A message will popup notifying the user of the need to update if such an app is encountered."

    - title: "Linux: Add an option to cause calibre to detach from its controlling terminal (--detach)"

  bug fixes:
    - title: "DOCX Input: Fix page-breaks created as a page break inside an otherwise empty paragraph not being rendered on conversion to PDF."
      tickets: [1249502]

    - title: "Windows: When viewing books with an external viewer, check if windows will open the file with calibre itself, and if so, popup an error message telling the user to install some software capable of viewing the file."
      tickets: [1249698]

    - title: "Wireless driver: Fix a bug that could cause the wrong path information to be sent to the device in some circumstances."

    - title: "Linux binary build: Return proper exit codes when raising SystemExit"

    - title: "Transliterate the Arabic Alef into 'a'"
      tickets: [1249469]

  improved recipes:
    - Radikal (tr)
    - Spiegel Online
    - El Mundo

  new recipes:
    - title: ARG Noticias
      author: Darko Miletic

- version: 1.10.0
  date: 2013-11-08

  new features:
    - title: "Conversion: Treat .docm the same as .docx files, ignoring any macros in the file."
      tickets: [1247565]

    - title: "EPUB Output: Auto convert CMYK images to RGB. Works around the inability of Adobe Digital Editions to display CMYK images."
      tickets: [1246710]

    - title: "Quickview: Add a checkbox to lock the quickview window so that it does not change while moving around in the main book list"

  bug fixes:
    - title: "Fix number of marked books shown in the drop down menu of the Mark Books action not being updated when marked books are deleted (as opposed to being unmarked)."
      tickets: [1248506]

    - title: "Book list: Preserve the current column when using Ctrl+Home or Ctrl+End shortcuts"

    - title: "Booklist: Fix using Page Up/Down keys moving book list by one row too many."
      tickets: [1248109]

    - title: "Metadata download: Do not auto trim downloaded covers as trimming can sometimes have undesirable effects."

    - title: "Template language: Fix zero valued series indices not formatting correctly"
      tickets: [1247348]

    - title: "Fix a regression in 1.9 that broke bibtex catalog creation"

    - title: "Quickview: Auto-close the quickview window when changing libraries. You have to open it again in the new library."

    - title: "Linux binary build: Update the bundled version of zlib to fix library compatibility on some newer linux distros that have libpng16 compiled to require newer zlib versions"
      tickets: [1247315]

  improved recipes:
    - New York Review of Books
    - Various Polish news sources


- version: 1.9.0
  date: 2013-11-01

  new features:
    - title: "Drivers for the new Nook Glowlight, Lenovo IdeaPad and Kindle Fire HDX (linux)"
      tickets: [1244857, 1246775]

    - title: "Add an option to check for duplicates (books with the same title/author) when copying between libraries. Option is under Preferences->Adding books."
      tickets: [1245089]

    - title: "Content server: Display book title on details page. Also put the most important fields (authors/series/tags) at the top."
      tickets: [1246523]

    - title: "When developing recipes using the command line, allow specifying the number of feeds and articles when using the --test parameter."
      tickets: [1246061]

    - title: "PDF Output: Option to control title of generated Table of Contents"
      tickets: [1245076]

    - title: "PDF metadata: If one of the keywords in the PDF is a valid ISBN, use it as the ISBN for the book"

  bug fixes:
    - title: "Amazon metadata download: Fix spurious ratings being returned for unrated books."
      tickets: [1245449]

    - title: "Bulk metadata edit: Only clear series if the clear series checkbox is checked. Also add a clear checkbox for publishers, so that publishers can be removed."
      tickets: [1245058]

    - title: "Use <h2> for the inserted Table of Contents title for the MOBI and PDF formats as well as the EPUB and AZW3 formats."
      tickets: [1245076]

    - title: "Fix comments editor in review metadata becoming too small on small screens."
      tickets: [1245275]

    - title: "DOCX Input: Fix hyperlink showing as underlined even if the hyperlink style in word is set to not show underlines."

    - title: "E-book viewer: Remember the size of the 'Inspect' window used to examine the book's code."
      tickets: [1245068]

    - title: "Wireless driver: Fix bug that prevented different formats of the same book on the device from being recognized"

    - title: "Bulk metadata download: When downloading only covers and some covers fail, do not show the failed books while reviewing downloaded metadata."
      tickets: [1238271]

    - title: "BibTeX catalogs: Strip unmatched braces to prevent generation of invalid .bib file."
      tickets: [1228905]

  improved recipes:
    - Reuters (Japan)
    - MIT Technology Review
    - dotNet Magazine
    - Science Based News

- version: 1.8.0
  date: 2013-10-25

  new features:
    - title: "DOCX Input: Support linked (as opposed to embedded) images, if the linked image is found on the local computer."
      tickets: [1243597]

    - title: 'FB2 Input: Add support for note and cite back references. Link pairs of type="note" and type="cite" now automatically generate the correct back reference.'
      tickets: [1243714]

    - title: "When automerging books during during an add, include the author as well as the title in the report of merged books."

    - title: "OS X Mavericks (10.9) breaks connecting to iTunes and iBooks on iOS devices. For more details see: http://www.mobileread.com/forums/showthread.php?t=215624"

  bug fixes:
    - title: "OS X: Fix system tray notifications causing crashes on some OS X 10.9 (Mavericks) systems (those that had Growl installed at some point)."
      tickets: [1224491]

    - title: "OSX: Fix font size in completion popups too small on Mavericks (I hope)"
      tickets: [1243761]

    - title: "PDF Output: Fix rendering of some semi-transparent images. All semi-transparent images are now rendered using soft masks."
      tickets: [1243829]

    - title: "MOBI Output: Fix text marked with white-space:pre-wrap causing the Kindle to break lines at arbitrary points inside words."
      tickets: [1240235]

    - title: "FB2 Input: Fix a regression that broke conversion of FB2 files with paragraphs having both a style and an id attribute."
      tickets: [1243709]

    - title: "TXT Input: Ensure that <title> in the generated HTML has a meaningful value."
      tickets: [1236923]

    - title: "Book details panel: Fix HTML in author names and identifiers not being escaped"
      tickets: [1243976]

    - title: "HTML 5 parsing: Fix handling of xml:lang attributes on all elements xml:lang is now mapped to a plain lang on all elements, not just <html>"

    - title: "Update HTML 5 parser used in calibre (html5lib-python) to fix a few corner cases"

    - title: "When bulk deleting formats, use a single temporary directory for the deleted files. This makes restoring them from the recycle bin a little cleaner. Also might fix the reported issue with the windows recycle bin choking on creating a large number of folders."

    - title: "DOCX Input: Add support for hyperlink fields that have only anchors and not URLs"

    - title: "DOCX Input: Fix handling of multiple block level bookmarks at the same location."
      tickets: [1241451]

    - title: "HTMLZ Output: Fix Htmlz does not apply inline css from <body>."
      tickets: [1242261]

    - title: "Fix the restore database operation failing on windows installs with long usernames (this would cause the path to the temporary folder used to restore the database to become too long)."

    - title: "ODT Input: Various workarounds for broken ODT files generated my mk4ht"

    - title: "Fix a bug with non-ascii text in the create catalog dialog"
      ticket: [1241515]

  improved recipes:
    - A List Apart

- version: 1.7.0
  date: 2013-10-18

  new features:
    - title: "Cover grid: Allow using images as the background for the cover grid. To choose an image, go to Preferences->Look & Feel->Cover Grid."
      tickets: [1239194]

    - title: "An option to mark newly added books with a temporary mark. Option is in Preferences->Adding books."
      tickets: [1238609]

    - title: "Edit metadata dialog: Allow turning off the cover size displayed in the bottom right corner of the cover by right clicking the cover and choosing 'Hide cover size'. It can be restored the same way."

  bug fixes:
    - title: "Conversion: If both embed font family and the filter css option to remove fonts are set, do not remove the font specified by the embed font family option."

    - title: "Fix a few remaining situations that could cause formats column to show an error message about SHLock"

    - title: "Make deleting books to recycle bin more robust. Ensure that the temporary directory created during the move to recycle bin process is not left behind in case of errors."

    - title: "Windows: Check if the books' files are in use before deleting"

    - title: "Fix custom device driver swap main and card option not working. Also fix swapping not happening for a few devices on linux"
      tickets: [1240504]

    - title: "Edit metadata dialog: The Edit metadata dialog currently limits its max size based on the geometry of the smallest attached screen. Change that to use the geometry of the screen on which it will be shown."
      tickets: [1239597]

    - title: "HTMLZ Output: Fix <style> tag placed inside <body> instead of <head>."
      tickets: [1239530]

    - title: "HTMLZ Output: Fix inline styles not escaping quotes properly."
      tickets: [1239527]

    - title: "HTMLZ Output: Fix incorrect handling of some self closing tags like <br>."
      tickets: [1239555]

    - title: "Content server: Fix single item categories not working with reverse proxy setup."
      tickets: [1238987]

    - title: "Fix a bug that could cause calibre to crash when switching from a large library to a smaller library with marked books."
      tickets: [1239210]

    - title: "Get Books: Fix downloading of some books in formats that do not have metadata yielding nonsense titles"

    - title: "Allow marked book button to be added to main toolbar when device is connected"
      tickets: [1239163]

    - title: "Fix error if a marked book is deleted/merged."
      tickets: [1239161]

    - title: "Template language: Fix formatter function days_between to compute the right value when the answer is negative."

    - title: "Windows: Fix spurious file in use by other process error if the book's folder contained multiple hard links pointing to the same file"
      tickets: [1240788, 1240194]

    - title: "Windows: Fix duplicate files being created in very special circumstances when changing title and/or author. (the title or author had to be between 31 and 35 characters long and the book entry had to have been created by a pre 1.x version of calibre). You can check if your library has any such duplicates and remove them, by using the Check Library tool (Right click the calibre button on the toolbar and select Library Maintenance->Check Library)."

  improved recipes:
    - Wall Street Journal
    - Newsweek Polska
    - Wired Magazine
    - cracked.com
    - Television Without Pity
    - Carta
    - Diagonales


- version: 1.6.0
  date: 2013-10-11

  new features:
    - title: "Temporary marking of books in the library"
      description: "This allows you to select books from your calibre library manually and mark them. This 'mark' will remain until you restart calibre, or clear the marks. You can easily work with only the marked subset of books by right clicking the Mark Books button. To use this feature, go to Preferences->Toolbars and add the 'Mark Books' tool to the main toolbar."
      type: major

    - title: "Get Books: Add Wolne Lektury and Amazon (Canada) ebook stores"

    - title: "DOCX Input: Handle hyperlinks in footnotes and endnotes"
      tickets: [1232790]

    - title: "Driver for Sunstech reader"
      tickets: [1231590]

    - title: "Allow using both uri: and url: identifiers to create two different arbitrary links instead of just one in the Book details panel"

    - title: "E-book viewer: Make all keyboard shortcuts configurable"
      tickets: [1232019]

    - title: "Conversion: Add an option to not condense CSS rules for margin, padding, border, etc. Option is under the Look & Feel section of the conversion dialog."
      tickets: [1233220]

    - title: "calibredb: Allow setting of title sort field"
      tickets: [1233711]

    - title: "ebook-meta: Add an --identifier option to set identifiers."

  bug fixes:
    - title: "Fix a locking error when composite columns containing formats are used and formats are added/deleted."
      tickets: [1233330]

    - title: "EPUB Output: Do not strip <object> tags with type application/svg+xml in addition to those that use image/svg+xml."
      tickets: [1236845]

    - title: "Cover grid: Fix selecting all books with Ctrl+A causing subsequent deselects to not fully work."
      tickets: [1236348]

    - title: "HTMLZ Output: Fix long titles causing error when converting on windows."
      tickets: [1235815]

    - title: "Content server: Fix OPDS category links to composite columns"

    - title: "E-book viewer: Fix regression that broke import/export of bookmarks"
      tickets: [1231980]

    - title: "E-book viewer: Use the default font size setting for the dictionary view as well."
      tickets: [1232025]

    - title: "DOCX Input: Avoid using the value attribute for simple numbered lists, to silence the asinine epubcheck"

    - title: "HTML Input: Images linked by the poster attribute of the <video> tag are now recognized and processed."

    - title: "DOCX Input: Fix erorr when converting docx files that have numbering defined with no associated character style."
      tickets: [1232100]

    - title: "EPUB Metadata: Implementing updating identifiers other than isbn in the epub file from calibre when polishing or exporting the epub"

    - title: "Amazon metadata download: Fix parsing of some dates on amazon.de"
      tickets: [1238125]

  improved recipes:
    - National Geographic Magazine
    - New York Review of Books
    - Focus (PL)
    - Carta Capital
    - AM 730
    - Ming Pao (HK)
    - Neu Osnabrucker Zeitung

  new recipes:
    - title: Various Uruguayan news sources
      author: Carlos Alves

- version: 1.5.0
  date: 2013-09-26

  new features:
    - title: "Driver for Woxter Scriba"
      tickets: [1228690]

    - title: "Bulk metadata edit: Allow setting the comments for all selected books and also allow cloning the covers. Cloning covers means that the cover of the first selected book will be set for all other selected books."
      tickets: [1230040]

  bug fixes:
    - title: "Windows: Improved device ejection code. Eject individual drives before trying to eject the device. This fixes incomplete ejection with the Nook devices."

    - title: "Catalogs: fix exclude tags rules not working in non-English locales when creating catalogs in EPUB/MOBI formats."
      tickets: [1228949]

    - title: "Kobo driver: Fix reading status being cleared when connecting to a Kobo with older firmware and metadata management set to automatic."
      tickets: [1230018]

    - title: "Content server: Sort virtual libraries by name"
      tickets: [1229459]

    - title: "DOCX Input: Convert tabs in the docx file into non-breaking spaces in the output document. Note that custom tab stops are not supported."
      tickets: [1228893]

    - title: "Conversion: Handle the style attribute on the <html> tag"

    - title: "Handle databases with invalid ratings link tables"
      tickets: [1228517]

    - title: "DOCX Input: Handle DOCX files with missing referenced styles"
      tickets: [1228669]

    - title: "Update amazon metadata download plugin for changes to the Amazon website"

  improved recipes:
    - Slate
    - El Universal (VE)
    - GoComics

  new recipes:
    - title:

- version: 1.4.0
  date: 2013-09-20

  new features:
    - title: "Column icons: Allow the use of multiple icons with column icon rules."
      description: "You can now have column icon rules display multiple icons in a single column, side by side. There are two ways to do this, either specify multiple icons when creating the rule, or create multiple rules that match the same book and specify the icon type to be 'composed' for every rule. See Preferences->Look & Feel->Column icons for details."

    - title: "Kobo driver: Add support for new cover handling in Kobo Aura with updated firmware"

    - title: "Driver for Icarus Essence"
      tickets: [1226304]

    - title: "Show a warning when attempting to copy books between libraries that do not have the same set of custom columns."
      tickets: [1225484]

    - title: "EPUB/AZW3 Output: Use shorthand forms for margin, padding and border CSS properties, where possible"

    - title: "Allow colons in identifier values, needed for using URIs as identifiers"
      tickets: [1224885]

    - title: "Comments editor: Allow treating arbitrary URLs as images"

    - title: "Show full path of library under mouse in status bar when switching/renaming/deleting libraries via the calibre library button."
      tickets: [1224925]

    - title: "DOCX Input: Add support for embedded EMF images that are just wrappers around an actual raster image."
      tickets: [1224849]

  bug fixes:
    - title: "Conversion: Fix font subsetting not working for large fonts with more than 4000 glyphs, such as CJK fonts"

    - title: "HTML Input: Fix a regression that broke processing of HTML files that contain meta tags with dc: namespaced attribute values."

    - title: "Fix switching to an empty virtual library not blanking the book details panel"

    - title: "Keep position when deleting tags in the tag editor"
      tickets: [1226093]

    - title: "Book details panel: Render custom comments fields the same as the builtin comments field. In particular this fixes problems caused by wide text and images in custom comments fields."
      tickets: [1226350]

    - title: "Metadata jackets: Do not error out when using a custom template with some custom fields that are not present."
      tickets: [1225357]

    - title: "AZW3 Output: Dont choke on invalid (undecodable) links in the input document"

    - title: "Cover grid: Respect the double click on library view tweak"

    - title: "Fix covers set by drag and drop or pasting in the edit metadata dialog showing compression artifacts due to aggressive jpeg compression"

    - title: "Conversion: Fix a bug that could cause incorrect border values to be used when cascading, shorthand border CSS is present."

    - title: "Fix regression in 1.3 that caused the book list to not track the current book when using Next/Previous in the edit metadata dialog."

  improved recipes:
    - Liberation
    - Politika

  new recipes:
    - title: Sage News
      author: Brian Hahn

    - title: Il Cambiamento
      author: ghib9

- version: 1.3.0
  date: 2013-09-13

  new features:
    - title: "When doing searches or switching between virtual libraries in the main book list, preserve the current book. The currently selected book will remain visible if it is present in the results of the search or the selected virtual library."
      tickets: [1216713]

    - title: "Drivers for Oppo Find 5 and PocketBook Mini 515"
      tickets: [1223853]

  bug fixes:
    - title: "DOCX Input: Handle numbered paragraphs where the numbering is specified in the paragraph style, instead of on the paragraph directly. Also support the use of arbitrary, styled text for bullets."

    - title: "DOCX Input: Fix a single line break at the end of a paragraph not being rendered as a blank line."

    - title: "DOCX Input: Fix extra top/bottom margins around headings when the heading style in word does not specify any top/bottom margins."

    - title: "DOCX Input: Handle images in footnotes and endnotes."
      tickets: [1221686]

    - title: "ODT Input: Only treat the first image as a cover if it is of suitable size, instead of any image in the document."
      tickets: [1224157]

    - title: "Book polishing: Do not leave behind the old comments when updating metadata if the comments have been deleted in calibre."

    - title: "PDF Output: Fix non-breaking space characters incorrectly rendered in PDF outline."
      tickets: [1223862]

    - title: "Content server: Fix error in opds feed after using virtual libraries in the main server."
      tickets: [1222108]

    - title: "Do not scroll the book list horizontally after editing metadata."
      tickets: [1221552]

    - title: "New database backend: Handle databases that contain multiple tags/series/publishers/etc. that differ only in case."
      tickets: [1221545]

  improved recipes:
    - Harvard Business Review
    - Jakarta Post
    - Jakarta Globe
    - Dilema Veche
    - Daily Express
    - Anandtech
    - High Country News

  new recipes:
    - title: Caravan Magazine
      author: Kovid Goyal

    - title: Phys Org
      author: Krittika Goyal

- version: 1.2.0
  date: 2013-09-06

  new features:
    - title: "Conversion: Add support for the CSS3 rem font size unit"

    - title: "MTP devices, such as Android tablets/phones: Allow ignoring any folder on the device, not just top level folders. For newly connected devices, also scan /Android/data/com.amazon.kindle for books by default (newer versions of the Kindle app place downloaded files there)."

    - title: "Speed up sorting when the book list is showing a restricted set of books, such as when the results of a search are displayed or a virtual library is used."
      tickets: [1217622]

    - title: "Edit metadata dialog: Add an undo option for the Trim cover button."
      tickets: [1219227]

  bug fixes:
    - title: "Amazon metadata download: Update to handle website changes at amazon.com"

    - title: "PDF Output: Workaround a bug in the library calibre uses to render HTML to PDF that caused text in some documents that used small-caps fonts to not render correctly."
      tickets: [1216354]

    - title: "Kobo driver: When a sideloaded kepub is added from a Kobo device to the calibre library, it is added as an epub, but the file copied is corrupt."
      tickets: [1221035]

    - title: "Fix changing the user interface language in the welcome wizard causing some parts of the interface to remain in the old language until calibre is restarted."
      tickets: [1220767]

    - title: "Fix regression in 1.0 that broke setting author names with the | character in them."
      tickets: [1220348]

    - title: "Content server: When running from inside the main calibre program, do not restrict the books shown based on the current virtual library in the main program. If you wish to restrict the books shown in the content server, use Preferences->Sharing over the net."

    - title: "Output dates in the local timezone instead of UTC when generating CSV catalogs"

    - title: "Library maintenance: When doing a check library instead of dumping the database to SQL and restoring it, run a VACUUM. This works around various bugs in the dump and restore capabilities of apsw."
      tickets: [1217988]

    - title: "Edit metadata dialog: Fix adding an image to an empty comments block not working"

    - title: "Conversion: Fix font declarations with invalid font-family values causing conversion to abort when subsetting is enabled."

    - title: "MOBI Output: Fix conversion of some super/sub scripts failling if they are the first or last element in a paragraph."
      tickets: [1218858]

    - title: "New database backend: Various improvements to make the backend more robust against databases with invalid/corrupt data in them."
      tickets: [1218465, 1218783]

  improved recipes:
    - Countryfile

- version: 1.1.0
  date: 2013-08-30

  new features:
    - title: "Rewrite the HTML metadata parser to make it faster and more robust."
      tickets: [1217751]

    - title: "Book list: When sorting on a currently unsorted column, use the last applied sort for that column, instead of always sorting in ascending order."
      tickets: [1216714]

    - title: "PocketBook driver: Scan for books files in the entire device not just in the 'books' folder"

  bug fixes:
    - title: "Fix a regression in 1.0 that could cause the dates in custom date-type columns to change in some timezones when using the edit metadata dialog to make unrelated changes."
      tickets: [1217096]

    - title: "When replacing formats in a book with a very long title+authors on windows, calibre could leave behind the old format file, because the filename shortening algorithm has changed. Handle that case."

    - title: "Fix content server giving an error if you return to the top level page after using the virtual libraries."
      tickets: [1216838]

    - title: "Fix calibredb not updating the running calibre instance properly in 1.0"
      tickets: [1218177]

    - title: "Fix a regression in 1.0 that broke splitting of multiple valued field like tags into many items during a rename."
      tickets: [1216699]

    - title: "Fix a regression in 1.0 that caused an error when trying to set values for tags with the same item repeated, with different case."
      tickets: [1216398]

    - title: "Fix a regression that broke downloading news when output format is set to PDF"

    - title: "Creating a catalog with an already existing catalog in the library would cause a temporary duplicate entry in the book list. Also fix the author sort for catalogs generated in the AZW3 format not being correct."

    - title: "EPUB metadata: When changing the title in an EPUB 2.0 file that has multiple titles, remove the extra titles."
      tickets: [1211949]

    - title: "Fix a regression in 1.0 that caused Search and Replace in the bulk metadata edit dialog to be much slower than before"

    - title: "Fix a regression in 1.0 that caused incorrect sorting and searching on some composite columns (columns built from other columns)."

    - title: "Fix a regression in 1.0 that prevented the moving of libraries inside calibre"
      tickets: [1216401]

    - title: "Virtual Library tabs: If the user activates a hidden tab via the Virtual Library button, change the name of the All Books tab to reflect the hidden virtual library."
      tickets: [1216174]

    - title: "Ignore text records in the database that are damaged, instead of erroring out. Lets the rest of the data be used."
      tickets: [1215981]

    - title: "Fix regression that broke calibredb catalog when sorting on the id field."
      tickets: [1216090]

    - title: "HTML Input: Handle malformed OPF files when converting. "
      tickets: [1215924]

    - title: "Ensure that the Formats custom column (if present) is updated when a new format is created as a result of a conversion."
      tickets: [1215885]

    - title: "Fix a bug in 1.0 that broke the Check Library function on computers with non-English locales."
      tickets: [1215819]

    - title: "Content server: Fix blank username causing error on startup."
      tickets: [1215893]

    - title: "Fix sorting of book list by multi-valued fields like tags not correct in the new backend."
      tickets: [1215820]

  improved recipes:
    - Daily Mirror

  new recipes:
    - title: VFR Magazine
      author: Krittika Goyal

- version: 1.0.0
  date: 2013-08-23

  new features:
    - title: "A new 'cover grid' view of the books in your calibre library"
      description: "Excellent for judging your books by their covers :) To use click the button with the icon of a grid in the bottom right corner of the main window. It can be configured via Preferences->Look & Feel->Cover Grid"
      type: major

    - title: "A new, faster database backend"
      description: "The database backend in calibre has been re-written from scratch. The new code is smaller, more robust and much faster than the old code. The exact speedup will depend on the number of books and number and type of custom columns in your library. Users have reported calibre startup times decreasing by a factor of 2-3 times."
      type: major

    - title: "For a summary of the major changes in calibre between 0.9 and 1.0, see http://calibre-ebook.com/new-in/ten"
      type: major

    - title: "RTF Input: Add option to ignore WMF images iinstead of replacing them with a placeholder."
      tickets: [1213599]

    - title: "Content server: Make virtual libraries available as searches from the start page. They work just like saved searches, clicking on a virtual library will show you all the books in that virtual library."

  bug fixes:
    - title: "Remove extra, useless 'language' entry in metadata download configuration dialog"

    - title: "Kobo driver: Display device collections even if the driver is configured to not manage shelves on the device."
      tickets: [1214233]

    - title: "Fix typo in calibre.desktop file on linux"
      tickets: [1213664]

    - title: "Edit metadata dialog: Disable OK button while results are being downloaded."
      tickets: [1213397]

    - title: "In OS X 10.8 Apple stopped redirecting stdout/stderr to Console.app for applications launched by launch services. Re-enable the redirection, useful for debugging."

    - title: "Fix virtual library tabs not being updated when using VL button"

  improved recipes:
    - Consumerist
    - jeuxvideo
    - Metro UK
    - El Tribuno
    - High Country News
    - Daily Express
    - Providence Journal
    - mediapart

  new recipes:
    - title: News24 and Nuus24
      author: Nicki de Wet

