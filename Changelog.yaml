# vim:fileencoding=utf-8:ts=2:sw=2:sta:et:sts=2:ai
# Each release can have new features and bug fixes. Each of which
# must have a title and can optionally have linked tickets and a description.
# In addition they can have a type field which defaults to minor, but should be major
# for important features/bug fixes.
# Also, each release can have new and improved recipes.

# - version: 3.?.?
#   date: 2018-??-??
#
#   new features:
#     - title:
#
#   bug fixes:
#     - title:
#
#   improved recipes:
#     -
#
#   new recipes:
#     - title:

- version: 3.24.1
  date: 2018-05-25

  new features:
    - title: "Conversion: EPUB Output: Add an option to output EPUB 3 files."
      type: major

    - title: "PDF Output: Add an option to break long words at the ends of lines."
      tickets: [1773111]

    - title: "PDF Output: Allow using images in the header/footer templates"

    - title: "Add an option to use two lines for the text under the toolbar button in Preferences->Look & feel"

    - title: "Edit book: Spell check: Update the number of misspelled words/total words displayed when correcting/ignoring words."
      tickets: [1772276]

    - title: "Edit book: Fix HTML: Automatically resolve private entities"
      tickets: [1772157]

    - title: "Improve formatting of help in Preferences->Tweaks"

    - title: "ToC Editor: Allow undo for renaming single items as well."
      tickets: [1769442]

  bug fixes:
    - title: "Version 3.24.1 fixes a regression in the 3.24 in the editor that caused syncing between the editor and the Preview panel/Live CSS panel to not work correctly"

    - title: "PDF Output: Strip zero-width space characters from the text as their presence prevents searching from working"

    - title: "DOCX Output: Fix <pre> tags not being converted correctly."
      tickets: [1772219]

    - title: "DOCX Input: Fix incorrect conversion of a framed block that contains a list."
      tickets: [1771279]

    - title: "Conversion: Fix private entities that use the same name as an HTML entity not being handled correctly"
      tickets: [1772157]

    - title: "Viewer: Fix HTML files with private entities displaying an artifact at the top"
      tickets: [1772157]

    - title: "Edit book: Check book: Show an error for HTML files with private entities"
      tickets: [1772157]

    - title: "EPUB3 Input: Fix titlepage being referred to in the nav causing two titlepage entries in the final book."

    - title: "Fix throbber buttons not being perfectly aligned inside toolbars"

    - title: "Quickview: Fix sizes not being displayed."
      tickets: [1772151]

    - title: "Edit book: Compress images tool: Do not mark the book as changed if no images could be further compressed."

    - title: "Book list split-view: Fix horizontal scroll position of split view can change when changing the current column in one view."

    - title: "Fix Bookeen Saga not being recognized on macOS/Linux."
      tickets: [1769681]

    - title: "Edit metadata dialog: Fix undo last trim not working for automatic trims."
      tickets: [1769606]

    - title: "Content server: Fix series field blank in Italian translation"

    - title: "BeautifulSoup: Port fix from upstream for outputting bare ampersands in strings."
      tickets: [1769481]

    - title: "calibredb add: Run the input plugins before reading metadata instead of after."

  improved recipes:
    - The New York Times Book Review
    - New York Times
    - Le Devoir

  new recipes:
    - title: The Federalist
      author: Kovid Goyal

- version: 3.23.0
  date: 2018-05-04

  new features:
    - title: "Kobo driver: Add support for new firmware"
      tickets: [1767589]

    - title: "Book polishing: Add an option to upgrade EPUB 2 to EPUB 3"

    - title: "DOCX Input: Convert text written with dingbat fonts such as Wingding or Symbol correctly."

    - title: "When choosing the page to use as a cover from a PDF file, add a button to render more pages, if needed"

    - title: "TXT Input: Add support for embedded images that use relative URLs when converting markdown or textile. Note that this will only work if you are converting using the ebook-convert command line tool as the main calibre program moves files around, so relative references will not be valid."

    - title: "Edit book: Insert special character: Add an option to select if searching should match all words or any of the words"

    - title: 'Edit book: Insert special character: When searching by name match prefixes in addition to whole words. So you can now type "horiz" to match "horizontal".'

    - title: "Linux installer: Simplify the command used to install calibre and add support for Ubuntu 18.04 which is missing a default python executable"

    - title: "When upgrading EPUB 2 to EPUB 3 add the 'epub' namespace to all HTML files, for convenience."
      tickets: [1765944]

    - title: "Kobo driver: Add an option to not maintain bookmarks/read status/etc. when resending a book already on the device."

  bug fixes:
    - title: "Edit Book: Fix an error caused by a landmark entry in EPUB 3 files that has an <a> tag without an href attribute."

    - title: "Edit Book: Fix names for some control characters not being displayed in the status bar"

    - title: "Searching: Fix A (B) not being treated as A AND (B)"

    - title: "DOCX Input: Ignore complex script font styles. Fixes conversion of documents that specify only complex script styles and no simple script styles."
      tickets: [1766650]

    - title: "When updating EPUB 2 to EPUB 3 ensure only a single dc:date element is present in the OPF"


- version: 3.22.1
  date: 2018-04-19

  new features:
    - title: "Edit book: Add a tool to upgrade books from EPUB 2 to EPUB 3 (Tools->Upgrade book internals)"
      description: "Automatically upgrades metadata, converts the NCX table of contents and adds required manifest annotations"
      type: major

    - title: "Add support for the FBZ format (zipped FB2)"
      tickets: [1762634]

    - title: "Kindle driver: Change the height of generated thumbnails to 500px, needed for the Oasis 2017"

    - title: "Edit book: When bulk renaming files add an option to rename by the order in which the files appear in the book."

    - title: "Polishing: Recognize titlepages that are marked as covers in the EPUB 3 landmarks section"

    - title: "Edit Book: Automatically updated the modified timestamp in the OPF when saving EPUB 3 books."

    - title: "Remove the ISBNDB metadata plugin as ISBNDB no longer allows free lookups."
      tickets: [1761906]

  bug fixes:
    - title: "EPUB 3 metadata: If the book defines more than one author sort value for an author use the first instead of the last"

    - title: "Check Book: Dont warn for nav document not in spine in EPUB 3 books"

    - title: "Linux installer: Fix umask question not working with the recommended install command because stdin is a pipe"

    - title: "Browser viewer: Show an error message when trying to use the Sync function without being logged in"

    - title: "When setting cover from a PDF file and the user clicks cancel, do not delete the existing cover"

  improved recipes:
    - Globe & Mail
    - National Geographic
    - Slate
    - GoComics
    - Oregonian

  new recipes:
    - title: "Le Monde: subscriber paper edition"
      author: Remi Vanicat

- version: 3.21.0
  date: 2018-04-06

  new features:
    - title: "Browser viewer: Allow showing the time left in the current chapter/book in the header and footer areas of the book."
      description: "To use go to the preferences of the browser viewer and customize the headers and footers to display the time left. Note that time left in chapter only works correctly if chapters are in separate HTML files in the book."

    - title: "Manage tags dialog: Searching now shows all matching tags and there is an undo button to undo changes."
      tickets: [1743896]

    - title: "Add an output profile for the Kindle Oasis 2017"
      tickets: [1759434]

  bug fixes:
    - title: "Content server: Fix adding/deleting books and editing metadata not updating the main calibre book list automatically."
      tickets: [1761017]

    - title: "Viewer: When doing a dictionary lookup, remove soft hyphens from the word, if any are present."
      tickets: [1760292]

    - title: "Edit metadata dialog: Fix tab order for buttons to the left of the title and author"

    - title: "Trim cover dialog: Remove the redundant Trim & OK button, instead have the OK button trim automatically if there is a selection."
      tickets: [1759671]

    - title: "Update Amazon metadata plugin for a website change"

    - title: "Content server: Fix translations not being updated without clearing the browser cache"

    - title: "Content server: Fix switching from translations to no translations not working"

    - title: "Content server: When updating interface data do not transmit translations if they have not been changed. Saves ~30-60KB bandwidth when using non-English interface language."

  improved recipes:
    - The Atlantic
    - Fortune Magazine
    - Telegraph UK
    - Hot Air
    - Reader's Digest
    - The Economist


- version: 3.20.0
  date: 2018-03-23

  new features:
    - title: "Content server: Allow editing the metadata of books from the book details page"
      type: major
      description: "On the book details page, you can now edit any metadata and change covers by clicking the edit metadata icon in the right area of the top bar. Note that only users that have write permissions for the library can edit metadata."

    - title: "Kobo driver: Recognize Kobo Aura 2 with new firmware (4.6.10188)"

  bug fixes:
    - title: 'When reading metadata from HTML also recognize <meta name="dc.description"> as being comments'

  improved recipes:
    - Danas
    - Al monitor
    - Folha de Sao Paolo
    - New York Times
    - Wirtschaft's Woche


- version: 3.19.0
  date: 2018-03-09

  new features:
    - title: "Driver for the new PocketBook 740"

    - title: "Allow using relative URLs in comments type metadata. The relative URLs are interpreted relative to the book folder in the calibre library"

    - title: "Edit book: Reports: Do not show characters from the HTML markup in the characters report."
      tickets: [1753788]

    - title: "Allow adding the Virtual library button to any toolbar/menu via Preferences->Toolbars & menus"

  bug fixes:
    - title: "Server: Fix server becoming unresponsive if a client sends invalid SSL data at exactly the right moment"

    - title: "Conversion heuristics: Make unwrapping recognize Georgian letters as well."
      tickets: [1753533]

    - title: "Make de-serialization of stored conversion options safe against maliciously crafted input"
      tickets: [1753870]

    - title: "E-book viewer: Change the file format used to import/export bookmarks to use JSON. This prevents malicious bookmarks files from causing code execution."
      tickets: [1753870]

    - title: "Make the history completion for the search and replace edit box case-sensitive."
      tickets: [1752447]

    - title: "PDF Output: When the input document contains multiple anchors with the same value, use the first anchor rather than the last. This follows browser behavior."
      tickets: [1752825]

    - title: "FB2 Input: Add <div> to <blockquote> content to silence the useless epubcheck"
      tickets: [1752141]

  improved recipes:
    - WirtschaftsWoche Online
    - Spektrum der Wissenschaft

  new recipes:
    - title: Granta
      author: Gary Arnold

- version: 3.18.0
  date: 2018-02-23

  new features:
    - title: "Browser viewer: Allow long tapping a word to look it up in a dictionary or search the internet for it."
      tickets: [1738995]

  bug fixes:
    - title: "Conversion: Handle the deprecated type attribute on <ol> tags."
      tickets: [1751148]

    - title: "Fix metadata download from amazon stopped working because of a website change"

    - title: "Fix re-ordering of columns causing split book splitter state not being restored on restart"

    - title: "Fix errors when using strftime with unicode strings on non-utf-8 windows systems."
      tickets: [1749219]

    - title: "Split book view: Fix vertical scroll position of the two views getting out of sync after doing some searches."
      tickets: [1748739]

    - title: "Fix some edit widget appearing in the wrong place when editing in the right hand panel of the new split book list."
      tickets: [1748713]

    - title: "Portable build: Fix cache directory not always being auto-created"
      tickets: [1747887]

    - title: "Workaround for Qt 5.10 on Linux resetting the global font, preventing custom interface font settings from working"

  improved recipes:
    - New York Times
    - The Economist
    - Gosc
    - Various Uruguayan recipes


- version: 3.17.0
  date: 2018-02-09

  new features:
    - title: "Allow splitting the book list, by right clicking on the column headers and choosing 'Split the book list'"
      type: major
      description: "This is useful to 'lock' one or more columns in place so that they are always visible even when scrolling through other columns. Also, the split list has a separate right click menu which you can configure via Preferences->Toolbars and menus"

    - title: "Store temporary files used by the editor and viewer in the cache directory to try to prevent errors caused by 'file cleaner' programs deleting temporary files still in use"

  bug fixes:
    - title: "EPUB3 Input: Fix HTML covers and titlepages that are marked using the deprecated <guide> element not being recognized."
      tickets: [1746794]

    - title: "Bulk metadata edit: Fix regression in 3.13 that made it impossible to use the Force numbering checkbox for custom series"

    - title: "Conversion: Fix the valign attribute on <td> tags not being honored"

    - title: "E-book viewer: Fix the 'Copy' keyboard shortcut/context menu action not working on some Windows systems"
      tickets: [1477696]

    - title: "E-book viewer: Make the semi-transparent background for viewing metadata a little more opaque."
      tickets: [1745812]

  improved recipes:
    - New York Times
    - Le Devoir
    - New Statesman
    - London Review of Books
    - New York Post
    - LWN Weekly
    - Associated Press

  new recipes:
    - title: Computing
      author: Darko Miletic

- version: 3.16.0
  date: 2018-01-26

  new features:
    - title: "Content server: Allow adding and deleting of books using the web interface"
      type: major
      description: "Use the + icon in the top bar of the book list to add new books and the trash icon in the top bar of the book details page to a delete a book. Note that only authenticated users are allowed to perform these actions, so you have to setup user accounts for the server to use these features."

    - title: "Allow removing the close button from tabs in the Virtual library tab bar. Right click the tab bar and choose 'Lock tabs' to do that."

    - title: "calibredb export: Add --progress option"

    - title: "Bulk metadata editing: Show progress bars to track progress of the operation"

    - title: "Content server: When downloading books from the server send both the ASCII and full Unicode file names. Browsers that support RFC 6266 can make use of the unicode file name."

    - title: "Content server: Show a warning popup on Apple devices when the user tries to search with an expression containing smart quotes, since Apple devices now automatically replace quotes with smart quotes when typing."

  bug fixes:
    - title: "DOCX Output: Fix links without anchors in the input document not being converted correctly."
      tickets: [1741098]

    - title: "calibredb: Fix a regression that broke reading of passwords from stdin"

    - title: "Edit book: Fix an error when saving files with filenames that cannot be encoded using the system codepage on Windows"

    - title: "Pasting metadata: Fix excluding title and authors not working"

  improved recipes:
    - The Galaxy's Edge
    - Orange County Register
    - Danas

  new recipes:
    - title: Revista Veintitres
      author: Darko Miletic

    - title: Cronica
      author: Darko Miletic

- version: 3.15.0
  date: 2018-01-05

  new features:
    - title: "Browser viewer: Allow customizing what information is displayed in the header and footer areas. Access Preferences from the viewer controls to change."

    - title: "Add support for MTP devices on FreeBSD"

    - title: "ToC editor: Add more case changing operations to the right click menu"

    - title: "Content server: Redirect pre 2.x book URLs to new 3.x URLs via a JavaScript redirect"

    - title: "Content server: Allow opening entries in the book list in a new tab via middle click/right click"

    - title: "Add a tweak in Preferences->Tweaks to exclude some fields when using the Edit metadata->Copy/paste actions"

    - title: "Linux: Allow using calibre-tray.png in the calibre resources folder to override the system tray icon."
      tickets: [1738518]

  bug fixes:
    - title: "Browser viewer: Fix goto next/previous section actions not working when the sections are in different individual HTML files."
      tickets: [1740333]

    - title: "Edit book/Book polishing: When compressing images and the compressed image is larger thant he original, use the original image."
      tickets: [1741063]

    - title: "PDF input: Fix conversion of multi-level PDF Outline causing duplicate entries in the Table of Contents."
      tickets: [1738385]

    - title: "Edit book: Fix incorrect EPUB 3 declarations being added to the OPF file when adding covers to an EPUB 2 book"

    - title: "Edit book: Fix backspace key un-indenting instead of deleting even when text is selected if the cursor is at the start of the line"

    - title: "Tag browser: Fix position not being preserved when deleting books."
      tickets: [1740387]

    - title: "Edit Book: Use the cache directory rather than the temp directory to store working files. Hopefully prevents temp file cleaners from destroying books."
      tickets: [1740460]

    - title: "EPUB input: Handle books that erroneously set the mimetype for font files to text/plain"

    - title: "AZW3 input: Do not fail to process files with invalid internal flow references."
      tickets: [1740140]

    - title: "When updating plugins, do not show the dialog asking which toolbar to put the plugin, even if the user has removed the plugin for all toolbars."

    - title: "Content server: Fix using the Clear logs button preventing the server from restarting until calibre itself is restarted."
      tickets: [1738433]

  improved recipes:
    - LA Times
    - Popular Science
    - Nikkei News


- version: 3.14.0
  date: 2017-12-15

  new features:
    - title: "User manual: A new quick reference primer for regular expression syntax https://manual.calibre-ebook.com/regexp_quick_reference.html"

    - title: "Content server: Allow viewing the book metadata while reading a book. In the viewer controls, tap Goto and then Metadata to see the metadata."
      tickets: [1736312]

    - title: "Kobo driver: Add support for new firmware"

    - title: "Bulk metadata edit: Allow choosing the algorithm used for changing the case of titles"

    - title: "Get books: The koobe.pl store plugin has now become the Swiat Ebookow store plugin"

    - title: "Allow Copy/paste of book metadata from the main book list. Right click the Edit metadata button to access these actions."

    - title: "Allow disabling the confirmation popup when opening the containing folder of many books at once."
      tickets: [1735862]

  bug fixes:
    - title: "Nook driver: Fix books sent via calibre not appearing under My Files on the Glowlight 3 Plus"

    - title: "Get Books: Update Mills & Boon, publio, empik, legimi, woblink and beam-ebooks.de plugins for website changes"

    - title: "Book polishing: Do not scan book for font usage when subsetting if no embedded fonts are available."
      tickets: [1737400]

    - title: "Content server: Open links in the comments section from the book details page in new windows."
      tickets: [1737644]

    - title: "Choose English as the User interface language when a locale related environment variable is set to the C locale"

    - title: "Linux installer: A nicer error message if the user tries to run the installer on an ARM machine"

  improved recipes:
    - Boston Globe
    - The Times
    - Economist

  new recipes:
    - title: El Cohete a la luna
      author: Darko Miletic

- version: 3.13.0
  date: 2017-12-01

  new features:
    - title: "Driver for the new Bq Cervantes 4"

    - title: "Edit book: Auto-generate links to existing stylesheets when adding a new HTML file."
      tickets: [1733845]

    - title: "Add a button to easily clear server logs in Preferences->Sharing over the net->Show server logs."
      tickets: [1730046]

    - title: "Catalog generation: Store the list of fields to be used in generating CSV/XML catalogs per library."
      tickets: [1730500]

    - title: "Bulk metadata edit: Make the custom series controls similar to the builtin series ones, with the same set of features"

    - title: "Edit book: Pre-select existing cover image (if any) in add cover dialog"

    - title: "Make the Manage saved searches dialog a little easier for new users."
      tickets: [1733163]

    - title: "Add a tweak to control behavior of Enter on the book list"

    - title: "Content server: Fix random book button on book details page multiplying."
      tickets: [1732493]

    - title: "Edit Book: Bulk file rename dialog: Remember last used prefix for renaming files"

  bug fixes:
    - title: "Tag browser: Fix use of the tweak to control order of items in the Tag browser causing unexpected expansion of items after editing metadata."
      tickets: [1730245]

    - title: "Content server: Improve rendering of tags/categories with long words on small screens."
      tickets: [1734119]

    - title: "Fix first added saved search not appearing in Tag browser until calibre restart."
      tickets: [1733151]

    - title: "When checking added books for duplicates, also check on the language field. So books with the same title/authors but different languages are not considered duplicates."

    - title: "Edit Book: Spell check should not fail if there are non-HTML files in the spine"

    - title: "Conversion: Fix an error when using the embed_all_fonts option with certain books"

    - title: "Save to disk: Dont error out if the user deletes all formats to be saved."

    - title: "Linux binary: Fix calibre not starting on systems where QT_QPA_PLATFORM is set to use wayland"

  improved recipes:
    - The Economist
    - The Walrun Magazine
    - China Daily
    - Telepolis

  new recipes:
    - title: Various Russian news source
      author: bugmen00t


- version: 3.12.0
  date: 2017-11-09

  new features:
    - title: "Driver for the new Nook Glowlight 3"
      tickets: [1731024]

    - title: "Allow configuring the metadata fields displayed in the pop-up Book details window. To configure, simply click the 'Configure' link at the bottom of the window."

    - title: "Wireless driver: Allow specifying extra file formats (unknown to calibre) to send"

  bug fixes:
    - title: "Fix a regression that caused clicking the clear button in the main search bar to not unapply the current search until enter is pressed."

    - title: "Linux: Fix a regression causing calibre to fail to start on systems with no DBUS session bus"

    - title: "Browser viewer: Fix body font being forced to sans-serif, overriding in book and user stylesheet settings"

    - title: "Fix sending email failing of the computer's FQDN is set to a single period."
      tickets: [1730166]

  improved recipes:
    - New Yorker
    - Geopolityka


- version: 3.11.1
  date: 2017-11-02

  new features:
    - title: "Kindle driver: Add support for the new Kindle Oasis"

    - title: "Browser viewer: Allow the user to specify a CSS style sheet to control the look and feel of the text"

    - title: "Edit book spell check: In the list of suggestions show the original word in italics."
      tickets: [1727827]

    - title: "Edit Book: When adding a new HTML file, add it after the file being currently edited instead of at the end."
      tickets: [1728601]

    - title: "Column coloring: Add a contains rule type."
      tickets: [1728464]

    - title: "Book details panel: Allow saving the displayed cover to disk via the right click context menu."
      tickets: [1728251]

  bug fixes:
    - title: "Browser viewer: Fix font size and color scheme settings not being respected in the footnote popup"

    - title: "DOCX Output: Fix comments/XML processing instructions in the middle of text causing text to be skipped."
      tickets: [1727599]

    - title: "Book details panel: Fix metadata field titles not being top aligned"

    - title: "Linux: Fix long startup delay on systems that do not have a desktop notification service running"

    - title: "3.11.1 fixes a couple of regression in 3.11.0 that broke configuring Get books and creating catalogs"

  improved recipes:
    - Financial Times
    - computerworld.pl
    - Tulsa World
    - Science Daily
    - El Mundo

- version: 3.10.0
  date: 2017-10-20

  new features:
    - title: "Browser viewer: Show footnotes in a popup window. Similar to the popup footnote functionality in the calibre viewer."
      type: major

    - title: "Content server: Add an option to control the timeout for making AJAX queries to the server."
      tickets: [1722016]

  bug fixes:
    - title: "Fix regression that broke Preferences->Conversion->Common options in version 3.9"

    - title: "Server: Fix adding expressions to the search always using AND instead of respecting the setting to use OR or AND."
      tickets: [1724405]

    - title: "Browser viewer: Fix a regression that caused loading more than one book in the same session or using the back/forward browser buttons to require refreshing the browser."

    - title: "Jobs list: Fix killing of job killing the wrong job if other jobs are completed while waiting for kill confirmation."

    - title: "DOCX Output: Fix preserve cover aspect ratio option still distorting the aspect ratio slightly."
      tickets: [1721864]

  improved recipes:
    - Lomza
    - Go Comics
    - Various Polish news sources

- version: 3.9.0
  date: 2017-10-06

  new features:
    - title: "Remove the Connect to iTunes function since Apple has removed that functionality from iTunes"
      description: "Now you have to use one of the wireless connection methods to connect to an iPad/iPhone, as described at: https://manual.calibre-ebook.com/faq.html#how-do-i-use-calibre-with-my-ipad-iphone-ipod-touch"

    - title: "Kobo driver: Support for new firmware"

    - title: "Allow changing the icons in yes/no columns via column icon rules."
      tickets: [1721374]

    - title: 'Quickview panel: Add a context menu with a "View" action to the book table.'

    - title: "Make the elapsed time display in the jobs dialog more human friendly."
      tickets: [1719059]

  bug fixes:
    - title: "EPUB Input: Fix styles in existing titlepage not being flattened when the titlepage is preserved during conversion."
      tickets: [1720715]

    - title: "Fix conversion of grayscale JPEG-XR images not working"
      tickets: [1720638]

    - title: "Update the douban metadata download plugin to match changes to the website"

    - title: "DOCX Output: Fix the preserve cover aspect ratio option not visible"
      tickets: [1719026]

  improved recipes:
    - Respekt Magazine
    - Associated Press
    - Heraldo de Aragon
    - El Correo
    - El Periodico de Aragon
    - A List Apart

- version: 3.8.0
  date: 2017-09-22

  new features:
    - title: "Bulk metadata edit dialog: Add an action to set metadata from e-book files."
      tickets: [1717755]

    - title: "Server: Add an option to control the number of books displayed per page in the browser (Preferences->Sharing over the net->Advanced)."
      tickets: [1715283]

    - title: "DOCX Output: Add an option to preserve the cover aspect ratio in the output document."
      tickets: [1715800]

    - title: "Book details panel: An option to control the layout of the panel in 'Narrow' mode (Preferences->Look & feel->Book details)"
      tickets: [1714613]

    - title: "If the --start-in-tray option is specified, create a tray icon even if the configuration option to enable tray icons is off."

  bug fixes:
    - title: "Possible fix for issue with pinning calibre to taskbar on windows. Note that as an unfortunate side-effect, you will have to unpin and re-pin calibre to the taskbar after updating."

    - title: "DOCX Output: Fix text immediately after a hidden tag not being included."
      tickets: [1717403]

    - title: "Fix a regression that broke fetching of metadata from Douban"

    - title: "Cover grid: Fix Shift+arrow keys to manipulate selection not working."
      tickets: [1717828]

    - title: "Editor snippets: Dont lose the last selected word when the user triggers a non-existent snippet."
      tickets: [1713244]

    - title: "Book details popup window: Show the cover size in the bottom right corner if the option to show cover size in the Book details panel is set."
      tickets: [1716520]

    - title: "Linux: Fix regression that broke using calibre on some older VNC servers"

    - title: "Browser viewer: Do not fail if the book contains javascript that has errors."
      tickets: [1715781]

    - title: "Linux: Fix file open dialog on older KDE desktops not working correctly."
      tickets: [1715648]

    - title: "Update Ozon.ru metadata plugin for website changes."
      tickets: [1715347]

    - title: "LIT Input: Fix a buffer overflow caused by malformed LIT files."
      tickets: [1713716]

    - title: "Conversion: Expand -epub-writing-mode to -webkit-writing-mode and writing-mode properties for maximum compatibility."
      tickets: [1713509]

    - title: "Linux: Fix SONY PRS-650 not being detected"

  improved recipes:
    - The Hindu
    - Le Monde
    - Wired Monthly
    - Cracked.com
    - Carta
    - FAZ.NET
    - Newsweek
    - Financial Times

  new recipes:
    - title: Dunya Halleri
      author: Sukru Alatas

- version: 3.7.0
  date: 2017-08-25

  new features:
    - title: "Allow searching for books in a virtual library using a new 'vl:' prefix"

    - title: "Server: Show file sizes in the tooltips for the download buttons."
      tickets: [1708762]

    - title: "Server: Reduce the grid view minimum cover thumbnail size from 150px to 105px"

    - title: "Narrow layout: Fix wasted space to the left of the comments in the Book details panel"

  bug fixes:
    - title: "Server: Fix downloading files via the list of formats not working when launching calibre from the home screen on iOS"

    - title: "Browser viewer: Fix controls help overlay not being displayed the first time the viewer is used"

    - title: "MOBI Output: Fix a regression causing a crash for some input documents that specify text-transform or font-variant CSS properties."
      tickets: [1711776]

    - title: "DOCX Input: Fix framed lists being rendered with the frame inside the bullets instead of outside it."
      tickets: [1709569]

    - title: "Fix a regression that could cause conversion to crash when using the first-letter CSS pseudo selector and outputting to MOBI or DOCX."
      tickets: [1711224]

    - title: "Conversion: Fix remove first image option not working for comic input with the disable comic processing option."
      tickets: [1709150]

    - title: "Server: Fix tooltip not working in the cover grid view."
      tickets: [1708760]

    - title: "Workaround for Qt bug that prevented using the shift and ctrl keys with the touchscreen"

    - title: "Linux: fix native KDE file dialog not working on older systems"

    - title: "Linux: Fix KDE dialogs not supporting multiple file name filter groups"

    - title: "Fix libraries being sorted alphabetically by full path rather than just library name"

    - title: "Server: Allow hyphens in user names"

    - title: "calibredb.exe: Fix misleading error message when connecting to a server with incorrect username or password"

  improved recipes:
    - Asian review of Books
    - Financial Times
    - National Post
    - Go Comics

  new recipes:
    - title: Paris Review and Public Domain Review by fenuks
      author: fenuks

    - title: IDPixel and The Insider
      author: bugmen00t

- version: 3.6.0
  date: 2017-08-04

  new features:
    - title: "Linux: Use native file dialogs via zenity or kdialog, if available"

    - title: "Copy to library: Add an action to show a dialog that allows for easy selection of libraries for copy/move. Useful when there are a large number of libraries to choose from."
      tickets: [1706198]

    - title: 'Server: Allow deleting a downloaded book from the "Browse all downloaded books" screen'

  bug fixes:
    - title: "Hopefully fix an issue with the book list jumping around when using the mouse on some computers"

    - title: "E-book viewer: Change the default fonts on windows to the Liberation font family. This matches the other platforms and avoids rendering issues with Times New Roman."
      tickets: [1706491]

    - title: "DOCX Output: Convert images placed by themselves inside block tags as block images rather than inline images."
      tickets: [1707430]

    - title: "Fix a typo that broke the download of a few news sources"

    - title: "ebook-viewer.exe: Fix --continue-reading not working"

    - title: "Fix non XML safe characters in feed descriptions causing news download to fail."
      tickets: [1707545]

    - title: "Browser viewer: Fix books that contain broken links with unicode characters in their paths not working."
      tickets: [1704498]

    - title: "Quickview: Fix regression in previous release that broke the 'Lock quickview' control"

  improved recipes:
    - Navy Times

  new recipes:
    - title: Various Sardinian news
      author: tzium

- version: 3.5.0
  date: 2017-07-28

  new features:
    - title: "Server: Add a new 'custom' mode for the book list, where you can specify exactly what metadata fields are displayed, via a template (see Preferences->Sharing over the net->Book list template)"

    - title: "Speed up HTML parsing by an order of magnitude, by switching from html5lib to html5-parser"

    - title: "Add support for touch screens to the main calibre book list. You can now flick to scroll, tap to select and double-tap to view books."

    - title: "Server: Add an option to ban IP addresses if there are too many failed login attempts"

    - title: "calibre-debug: Change the --explode-book action to only create the exploded directory and not rebuild the file. Add a new --implode-book action to rebuild the file, separately."

    - title: "Book details panel: Add Manage authors/series/tags/etc. to the menu when right clicking on the item"

    - title: "Kobo driver: Update for new firmware"

  bug fixes:
    - title: "PDF Output: Fix a regression in 2.82 that caused conversion of comics to PDF files to have successive images become smaller and smaller in some circumstances."
      tickets: [1706814]

    - title: "PDF Output: Fix a regression in 2.83 that caused occasional blank pages at the end of chapters when using headers/footers."
      tickets: [1706484]

    - title: "Get books: Update store plugins for ebook.nl and the various amazon websites"

    - title: "Edit book: Hide editor toolbars if they are empty."
      tickets: [1706343]

    - title: "Server: Fix failed login attempts using digest auth not being logged to the main log"

    - title: "Quickview: for non-text fields, sort on native values instead of text."

    - title: "Fix hidden search bar state not being restored on calibre restart."
      tickets: [1705916]

    - title: "Fix option to not save cover separately when using Save to disk not working."
      tickets: [1704925]

    - title: "Server: Fix an error on browsers that do not support blob storage in IndexedDB."
      tickets: [1704912]

    - title: "Comic input: Fix a bug in the normalize image filter that caused a crash when converting comics that contain a page with only a single color."
      tickets: [1704778]

    - title: "Edit Book: Handle non-normalized unicode characters in file names better"
      tickets: [1704225]

  improved recipes:
    - Mediapart
    - New Yorker
    - Boston Globe
    - Private Eye

- version: 3.4.0
  date: 2017-07-14

  new features:
    - title: "Edit book: Allow exporting all selected files to the computer from the 'File browser' by right clicking and choosing 'Export selected files'"

    - title: "Server: When returning to the search page, remember the last used state of the Tag browser"

    - title: "Template language: Allow the in_list() functions to return different values depending on what is found"

    - title: "Add a configurable shortcut to move the focus from Quickview to the book list"

  bug fixes:
    - title: "Conversion: When inserting the publication year in the metadata jacket, do so in the local time zone, so it matches what is displayed in the main calibre program."
      tickets: [1703439]

    - title: "Server OPDS feeds: Fix incorrect counts in letter categories when there are lowercase names."
      tickets: [1703251]

    - title: "Edit book: Fix 'Show details' button not visible when doing 'Replace all' rather than 'Count all'"

    - title: "Nook driver: Remove the % character from filenames sent to the Nook."
      tickets: [1703284]

    - title: "Fix calibre startup crash caused by Quickview when the applied virtual library is empty (has no books)."

  improved recipes:
    - FOX News
    - Private Eye


- version: 3.3.0
  date: 2017-07-07

  new features:
    - title: "Quickview panel: Allow opening and closing the panel via the Layout button in the bottom right corner."
      details: "Also make various improvements to the panel's operation, see https://manual.calibre-ebook.com/gui.html#quickview"
      tickets: [1701833]

    - title: "Book details panel: Allow right clicking on author names to search for books by the author on Amazon."
      tickets: [1702446]

    - title: "Edit book: When doing a Replace/Count all with multiple searches add a 'Show details' button on the result dialog that shows the individual counts for each search."

    - title: "Comments editor: Add a button to easily insert separators (i.e. <hr> tags) when editing comments"

  bug fixes:
    - title: "Browser viewer: Fix back/forward buttons not working correctly when clicking on links that lead to different internal files in the book."
      tickets: [1700004]

    - title: "Server: Fix using 'Show more books' button and then changing list mode setting causing resulting book list to be incomplete"

    - title: "Server: Fix changing sort/search in the /mobile view only working with the default library."
      tickets: [1701704]

    - title: "DOCX Input: Fix alt and title attributes for some images not being preserved"

    - title: "Amazon metadata download: Change the default source from Bing to Google as the Bing cache seems to be having trouble at the moment"

    - title: "ISBNDB metadata download: Ignore SSL errors when contacting isbndb.com as they seem to have no intention of fixing their broken SSL certificate"

    - title: "Conversion: Fix heuristics processing incorrectly removing some <br> tags."
      tickets: [1205637]

    - title: "Handle non-ASCII binary strings in the author_name_prefix/suffix tweaks."
      tickets: [1701138]

  improved recipes:
    - Politico
    - The Times
    - The Sunday Times Magazine

- version: 3.2.1
  date: 2017-06-29

  new features:
    - title: "Server: Allow logged in users to change their passwords by clicking the user icon in the top right corner of the home screen."
      tickets: [1700631]

    - title: "macOS: Add headless support: calibre command-line utilities can now run on macOS machines without a screen"

  bug fixes:
    - title: "3.2.1 has a fix for an issue that broke mouse wheel scrolling in the cover grid view"

    - title: "Viewer: Fix incorrect display of pages in paged mode for books that override the box-sizing CSS property on the <body> element."
      tickets: [1700109]

    - title: "Server: Fix timeout errors when using SSL (particularly common when running the server on windows)"

    - title: "Linux: Fix slow mouse wheel scrolling in Cover grid because of Qt bug"

    - title: "Blacklist the iOS Reader applications and Marvin XD plugins as they were preventing calibre from starting up and they have not worked in a long time anyway, since Apple restricted USB access to their iOS devices"

    - title: "Fix for in-program restart not working on some Windows 10 Home machines"

    - title: "EPUB3 metadata: Fix handling of <dc:creator> elements with multiple roles."
      tickets: [1699918]

    - title: "Server: Disallow client initiated SSL renegotiation"

    - title: "Windows: Try to prevent windows from showing the annoying 'no disk in drive' error messages at calibre startup if one of the calibre libraries is on a removable disk that is missing from the system"
      tickets: [1701399]

  improved recipes:
    - The Australian
    - Wired Daily

  new recipes:
    - title: Kitekinto
      author: pofa

- version: 3.1.0
  date: 2017-06-23

  new features:
    - title: "Edit metadata dialog: Allow right clicking the Paste ISBN button to instead paste an identifier with a different prefix."
      tickets: [1698543]

    - title: "Tag browser: Add an option to control the spacing between items"

    - title: "Add an option in Preferences->Look & feel to show individual layout buttons in the status bar, as was the case in calibre 2.x"

    - title: "Edit metadata dialog: Add buttons to easily set/clear Yes/no columns"
      tickets: [1698331]

    - title: "Support for RAR 5.0 format RAR and CBR files"

  bug fixes:
    - title: "Version 3.1.1 fixes a regression in 3.1.0 that prevented the standalone calibre-server.exe from working on Windows and macOS"

    - title: "Content server: Fix various bugs in the SSL implementation causing aborted transfers when enabling SSL in the server"

    - title: "Content server: Fix connections not being closed after errors/timeouts on the server side"

    - title: "Fix an error during startup on Windows systems where the home directory is in a character encoding different from the system encoding"
      tickets: [1699435]

    - title: "Edit book: Fix escaping of text for regular expression searches unnecessarily escaping spaces"

    - title: "Get Books: Search the entire catalog, including restricted books"
      tickets: [1698943]

    - title: "Fix regression in previous release that caused the Tag browser view to jump around when renaming items"

    - title: "Splash screen: Fix text vertical overlap for some systems/font sizes"

    - title: "Server: --daemonize option should not be present on Windows and macOS as it does not work on those platforms"

    - title: "macOS: Fix some keyboard shortcuts not working in calibre 3.0"
      tickets: [1698545]

    - title: "Server interface: Fix error in the Browse all downloaded page when the book list mode is set to detailed list"

    - title: "Get books: Update amazon.fr and ebooks.com plugins for website changes"

    - title: "Content server: Fix for home screen being empty if the path to the calibre library has a trailing slash."
      tickets: [1698489]

    - title: "Content server: Fix the new server interface not working with the --url-prefix option when the trailing slash is omitted on the URL used in the browser."
      tickets: [1698406]

    - title: "Google images metadata download plugin: Fix for change in website causing no covers to be downloaded"

  improved recipes:
    - The Times
    - Wall Street Journal
    - New Yorker
    - BBC News

- version: 3.0.0
  date: 2017-06-16

  new features:
    - title: "For details on the major changes in calibre between 2.0 and 3.0, see https://calibre-ebook.com/new-in/twelve"
      type: major

    - title: "A completely re-written Content server with support for reading books in-browser on your phone/tablet. Also works in offline mode."
      type: major

    - title: "Support for high resolution (Retina screens)"
      type: major

    - title: "A new splash screen to celebrate the release of calibre 3"

    - title: "Minor tweaking of the main user interface to emphasize the core features"

  bug fixes:
    - title: "Kobo driver: Fix for detection of some devices, with SD card not working on macOS"

    - title: "Tag browser: Fix preservation of state when recounting and the visible categories have changed."
      tickets: [1696596]

    - title: "CHM Input: Handle CHM files that have missing or empty root files."
      tickets: [1697764]

    - title: "Fix Page flips options box in viewer preferences bot being laid out properly"

    - title: "Fix initial down arrow in search box jumping two places"

    - title: "Fix editing the authors via the book list not respecting the tweak to control author name splitting"

    - title: "E-book viewer: Fix external links not working in the footnote popup panel"

    - title: "Fix a regression that broke command line completion in bash"

  improved recipes:
    - Economist
    - New York Times
    - Private Eye
    - The Hindu
    - Harper's Magazine
    - Lifehacker
    - The Daily Mail

  new recipes:
    - title: RussiaFeed
      author: Darko Miletic

- version: 2.85.1
  date: 2017-05-12

  new features:
    - title: "Book details panel: Allow right click to search the internet for the current book"

    - title: "Book details panel: Allow right clicking on an author name to search the internet for works by that author"

    - title: "Book details panel: Clicking an author name now searches Goodreads by default instead of Wikipedia. Can be changed in Preferences->Interface->Look & feel->Book details"

    - title: "Kobo driver: Add support for the Kobo Aura H2O Edition 2"

  bug fixes:
    - title: "PDF output: Fix a regression in the previous release that broke conversion to PDF for some files"
      tickets: [1689192]

    - title: "DOCX output: Fix lengths specified in percentage of page size not being converted correctly"
      tickets: [1688690]

    - title: "DOCX output: Fix some hyperlinks not working in word because the bookmark name is longer than forty characters"
      tickets: [1688690]

    - title: "DOCX output: Prevent images from being larger than the page size"
      tickets: [1688690]

    - title: "Comic input: Fix the number of colors control not allowing values less than 8"

    - title: "Kobo driver: Fix main memory and Card A being swapped on some systems"

    - title: "Kobo driver: Fix the ignore collections option being accidentally case-insensitive"

    - title: "Preferences->Toolbars: Show an error message when the user tries to remove either the Preferences or Location Manager buttons instead of just silently adding them back"
      tickets: [1689022]

    - title: "version 2.85.1 contains a fix for a regression that cause the Open with action to go missing from the right click menu of the Book details panel"

  improved recipes:
    - Private Eye

  new recipes:
    - title: Balkanist
      author: Darko Miletic

- version: 2.84.0
  date: 2017-05-05

  new features:
    - title: "Kindle driver: Also delete book thumbnails from the system directory when deleting books"

    - title: "Conversion: Use the same regular expression engine as is used by the Edit book tool. The new engine has much better support for Unicode characters/character classes"

    - title: "Edit book: Add keyboard shortcuts to jump to opening and closing tags (Ctrl+{ and Ctrl+})"

    - title: "Add API to pre-process image data in recipes easily"

    - title: "fetch-ebook-metadata.exe: add option to use only a single metadata plugin"

  bug fixes:
    - title: "E-book viewer: Fix a regression in the previous release that broke printing from inside the viewer"

    - title: "DOCX output: When the input document contains paragraphs inside a block with a background color preserve the background color in the resulting paragraphs in the DOCX document"
      tickets: [1683188]

    - title: "DOCX output: Fix links to empty inline tags not working"
      tickets: [1683188]

    - title: "DOCX input: Fix links that point to anchors placed in empty paragraphs not working"
      tickets: [1683017]

    - title: "PDF output: Do not crash when unable to find page for link destination, instead use previous page"
      tickets: [1687914]

    - title: "Edit book: Fix sorting by language in Report->Words not working"

    - title: "Edit book: Fix drag and drop of multiple items in the File Browser causing item order to be reversed"

    - title: "Get books: Update Baen store plugin for website changes"

    - title: "Linux: When adding books from directories ignore files that have undecodable names"
      tickets: [1685819]

    - title: "AZW3: Preserve the primary-writing-mode EXTH header field when round-tripping AZW3 files. Should fix editing/conversion of RTL AZW3 files causing page turning to become left-to-right on the Kindle"

    - title: "AZW3 output: Set the primary-writing-mode EXTH header when the input document has page-progression-direction set to RTL as this is apparently required on newer Kindle firmware for right-to-left page turning"

    - title: "Fix a misbehaving wireless device connection can cause calibre to hang when opening the Connect/share menu"
      tickets: [1676522]

  improved recipes:
    - Private Eye
    - Die Zeit
    - NYTimes Tech Beat

  new recipes:
    - title: First Things
      author: John Hutson

- version: 2.83.0
  date: 2017-04-15

  new features:
    - title: "PDF output: Default to generating PDFs with a page size of letter instead of taking the page size from the output profile"
      description: 'This avoids user confusion/bug reports about PDF output having "too large fonts". There is a new option "Use profile size" to have the conversion use the output profile page size instead'

    - title: "PDF/DOCX output: Add separate, PDF/DOCX specific, page margin settings that override the common settings"
      description: "Useful because page margin settings for page oriented formats, such as PDF and DOCX are usually different than those for reflowable formats such as EPUB"

    - title: "Table of Contents tool: Add an undo button"

    - title: "Metadata jacket: Show custom rating columns using stars"

    - title: "Metadata jacket: Change formatting of series to match that used by the book details panel. Also allow access to the raw series name and number when customizing the jacket template"

    - title: "calibredb check_library: Vacuum database when running the check"

    - title: "Check Book: Add a check for empty identifier elements"

  bug fixes:
    - title: "Edit book/Book polishing: When adding a cover to an EPUB 3.0 file set the SVG property if a SVG cover wrapper is used"

    - title: "Refresh the book list when a User category is added/edited"
      tickets: [1675535]

    - title: "EPUB metadata: Fix deleting ISBN from EPUB file could result in an EPUB file without a package identifier if the ISBN was used as the package identifier"
      tickets: [1677383]

    - title: "Amazon metadata download: Fix title and author names being bold in the downloaded comments when using bing to get Amazon metadata"
      tickets: [1674088]

    - title: "PDF output: Fix a regression that broke PDF output for documents containing mathematics"
      tickets: [1673983]

    - title: 'E-book viewer: Fix a regression that broke the "Clear recently read books" action in the viewer'

  improved recipes:
    - Go Comics
    - Die Zeit (subscription)
    - Pagina12
    - New York Magazine

  new recipes:
    - title: Jacobin magazine
      author: Darko Miletic


- version: 2.82.0
  date: 2017-03-18

  new features:
    - title: "Edit book: Saved searches: Add keyboard shortcut (Alt+Up/Down Arrow) to move selected searches"

  bug fixes:
    - title: "Fix a typo in the previous release that caused dynamically updated metadata source plugins to stop working"
      tickets: [1673884]

    - title: "Catalog generation: Ignore tags with commas in them when generating genres"

    - title: "News download: Do not use Microsoft user agents as more and more websites are serving JPEG XR images to these browsers"

    - title: "Amazon metadata download: Fix spurious results when searching for books that are not present on Amazon using a search engine"

    - title: "Get books: Fix free samples being detected as independent books when searching OPDS based stores such as Feedbooks"
      tickets: [1672500]

    - title: "Edit book: Saved searches: Preserve selection when using arrows to move multiple items"

    - title: "Fix template formatter functions not being reloaded after a check library operation"

    - title: "Fix an error during shutdown caused by some library closed plugins"

  improved recipes:
    - The Economist
    - Telegraph UK

  new recipes:
    - title: The Morning Paper
      author: Darko Miletic

- version: 2.81.0
  date: 2017-03-10

  new features:
    - title: "Amazon metadata download: Allow downloading Amazon metadata from multiple sources. You can now configure the Amazon plugin via Preferences->Metadata download to use either the Amazon servers, or various search engine caches to get the metadata. Should help with the recent CAPTCHA problems when downloading metadata from Amazon"

    - title: "Kobo driver: Add support for new firmware"

    - title: "Edit book: Spell check dialog: Always add the original word as one of the spelling corrections, so that small edits to the word can be made easily"
      tickets: [1667914]

    - title: "Edit book: Saved searched Dialog: Allow re-arranging the Saved searches using drag and drop"
      tickets: [1669514]

    - title: "Implement auto update of built-in metadata download plugins, just as for recipes and Get books plugins. Needed as the websites they get data from often change"

    - title: "Edit book: When inserting full screen images, use the actual image dimensions in the generated SVG code, when available"

    - title: "Linux installer: Check that the umask is suitable before running the installer. Should fix breakage on systems where users have changed the user umask but neglected to also alter it for sudo"

    - title: "Bulk metadata edit: Remove the control to delete specific formats as it is redundant. This functionality is already present by right clicking the Remove books button"

  bug fixes:
    - title: "TXT input: When detecting the encoding of txt files only use the first four kilobytes of text. Fixes excessively slow conversion of very large text files"
      tickets: [1668246]

    - title: "Get books: Fix price not being displayed for books from Amazon dues to website changes"

    - title: "Get books: Update Google Books plugin for website changes"

    - title: "E-book viewer: Fix slow startup when recently opened files are on a slow/malfunctioning networked filesystem"
      tickets: [1669497]

    - title: "Google metadata download: Fix metadata not being found when the title of the book includes a sub-title"

    - title: "Improve downloading of covers from the Google Books metadata source"

    - title: "News download: Fix a bug that could cause a crash when downloading an SVG image"
      tickets: [1669530]

    - title: "Edit book: Fix a regression that caused pasting copied text from programs that generate both HTML and plain text when copying to paste the HTML in preference to the plain text"

  improved recipes:
    - tyzden
    - The Economist
    - Kansas City Star
    - NYTimes
    - The Spectator

- version: 2.80.0
  date: 2017-02-24

  new features:
    - title: "Add support for sideloading of KFX files created with the third-party KFX calibre plugin"
      tickets: [1666040]

    - title: "Edit book: Allow drag and drop of image files, stylesheets and HTML files into the editor to insert the appropriate <img> and <link> tags and add the files to the book automatically"

    - title: "Kobo driver: Add support for updated firmware"

    - title: "Edit book: Spell check: If there are no suggestions fill the suggested word box with the original word"
      tickets: [1664284]

    - title: "Viewer: add a shortcut (Ctrl+F11) to show/hide toolbars"
      tickets: [1664077]

  bug fixes:
    - title: "PDF output: Fix courier font not being rendered when converting on Windows"
      tickets: [1665835]

    - title: "E-mail delivery: Add a Message-ID header when sending emails. Reduces probability of mails sent from calibre being marked as spam"

    - title: "Save to disk: Fix path shortening being applied to entire save template even when saving to singe directory"
      tickets: [1665964]

    - title: "Get books: Update the Virualo and Publi store plugins for website changes"

    - title: "Viewer: Fix regression that caused slow opening of some books with missing font/CSS/image files"

    - title: "Viewer: Pressing Ctrl+F in fullscreen mode should show the controls"
      tickets: [1664076]

    - title: "Edit book: Do not allow creating multiple new files whose names differ only by case"
      tickets: [1664027]

    - title: "Viewer: Use heuristics to try to detect comics encoded as fixed layout EPUBs to ensure they are displayed as intended"
      tickets: [1667357]

  improved recipes:
    - The Atlantic
    - The Financial Times

  new recipes:
    - title: Various new and improved Belgian news sources
      author: erkfuizfeuadjfjzefzfuzeff

- version: 2.79.1
  date: 2017-02-10

  new features:
    - title: "Windows: Make recently opened books show up in the jump lists for the standalone viewer and editor programs"

    - title: "macOS/Linux: Show an informational popup message when an Android device is plugged in that needs the user to tap Allow for the connection to work"

    - title: "Conversion: Log options that are different from the defaults separately, for easy reference"

  bug fixes:
    - title: "2.79.1 fixes a regression in 2.79.0 that broke the file open dialogs on Windows Vista"

    - title: "Conversion: Fix regression that broke conversion of some EPUB files when using the 'Remove first image' option"
      tickets: [1660699]

    - title: "Get books: Update Kobo plugin for website changes"

    - title: "Windows MTP driver: Fix error when enumerating device storage not being reported during debug device detection"

    - title: "Tag browser: When dragging and dropping a book onto a series increment the series number"
      tickets: [1661588]

    - title: "Fix crash when generating covers with Qt 5.8 on Linux"

    - title: "Fix Get books result list and jobs list not being populated on Qt 5.8"

    - title: "Fix importing rules in the coloring/icon rules dialog not enabling the Apply button"

  improved recipes:
    - Strange Horizons
    - Wall Street Journal
    - Bangkok Post
    - The Atlantic
    - NYTimes
    - LA Times
    - New Yorker
    - The Straits Times

- version: 2.78.0
  date: 2017-01-27

  new features:
    - title: "View button: Add an action to the right click menu that always opens the book with the calibre viewer, regardless of the preferences"

    - title: "Kobo driver: Update to support the newest firmware from Kobo"

    - title: "E-book viewer: Allow opening a specific item from the Table of Contents via the --open-at command line parameter"
      tickets: [1656573]

    - title: "Amazon metadata download: Add support for downloading from Amazon.ca"

  bug fixes:
    - title: "Edit book: Do not condense CSS rules when saving AZW3 files regardless of the value of Preferences->Common options->Look & feel->Expand CSS"

    - title: "EPUB output: Fix a duplicate id created in rare circumstances when splitting on page breaks"
      tickets: [1658744]

    - title: "DOCX input: Fix error when converting documents that have images pointing to web resources"
      tickets: [1659142]

    - title: "E-book viewer: Fix a regression that caused an increase in load times when loading the individual HTML files inside an EPUB book"
      tickets: [1658578]

    - title: "Fix setting a similar books search to use the formats field in Preferences->Searching resulting in an error"
      tickets: [1658386]

    - title: "Kobo driver: Fix incorrect cover size being uploaded to the Glo HD"

    - title: "E-book viewer: Fix 'View image' right click menu action not available for SVG files included via <img> tags"
      tickets: [1657717]

    - title: "HTML input: Remove the # character from input filenames, for maximum compatibility"
      tickets: [1656833 ]

    - title: "Edit book: Fix Spell check treating the unicode hyphen (U+2010) differently from the normal hyphen (U+002d)"
      tickets: [1656319]

  improved recipes:
    - FOX News
    - Oriental Daily
    - AM730
    - The Times
    - NYTimes
    - Mediapart
    - Echo Online
    - kath.net
    - GoComics
    - The Hindu

  new recipes:
    - title: The Sunday Times Magazine
      author: Bobby Steel

- version: 2.77.0
  date: 2017-01-13

  bug fixes:
    - title: "Conversion: Fix changing the cover image not updating references to the old cover image inside SVG wrappers"
      tickets: [1655309]

    - title: "E-book viewer: Fix a regression that caused clicking links in the footnote popup window to stop working"

    - title: "Edit book: Fix importing DOCX file as new book not setting the version attribute in the OPF"

    - title: "Kindle driver: Fix some newer KFX books not being recognized on e-ink Kindle devices, because of a change in how metadata is stored in the KFX format"

    - title: "DOCX output: Fix missing <td> tag causing conversion to fail"
      tickets: [1654463]

    - title: "Edit book: Fix group references causing errors when used in replace string in the normal mode search and replace"

    - title: "Edit book: Fix Check Book reporting a spurious mime/type mismatch error after replacing a file with a file having a different mime type"
      tickets: [1653977]

    - title: "Amazon metadata download: Fix detection of series not working for some books due to changes in the Amazon website"

    - title: "Fix Nook HD+ not being detected on Windows"

    - title: "Edit book: Ensure keyboard focus stays with Files Browser when renaming files"
      tickets: [1653311]

  improved recipes:
    - kath.net
    - publico.pt
    - Telepolis
    - The Times
    - Helsingin Sanomat


- version: 2.76.0
  date: 2016-12-30

  bug fixes:
    - title: "E-book viewer: Fix a regression in the previous release that broke the viewer on systems where the temporary directory is a symlink (common on macOS)"

    - title: "EPUB input: Fix EPUB2 files that specify a cover image via a <meta> tag but not in the <guide> not getting a cover when converted to PDF"

    - title: "PDF output: Fix conversion failure when input document contains first page with no renderable content"
      tickets: [1652825]

    - title: "Editor: Fix incorrect handling of some regular expressions in the Search tool"
      tickets: [1652621]

    - title: "macOS: Fix dynamically generated context menus, such as the sort by menu not working"
      tickets: [1652694]

    - title: "Fix a crash when running with assertions turned on in Qt"
      tickets: [1652685]

    - title: "Edit book: Reports tool: Fix an error when right clicking on items in the Links view"
      tickets: [1652960]

  improved recipes:
    - Clarin
    - La Prensa
    - Telam
    - iProfesional
    - Buenos Aires Economico


- version: 2.75.1
  date: 2016-12-23

  new features:
    - title: "Happy Holidays everyone!"

    - title: "Add support for new Kobo firmware version 4.2"

    - title: "Allow using amazon_in, amazon_au, amazon_com identifiers in the Book details panel"
      tickets: [1649371]

  bug fixes:
    - title: "Version 2.75.1 has fixes for a regression in 2.75.0 that broke the Live CSS feature in the editor and caused some minor problems in the viewer"

    - title: "Kobo driver: Fix incorrectly sized covers being sent to some Kobo devices"

    - title: "E-book viewer: Prevent javascript in the book from accessing files on the computer using XMLHttpRequest"
      tickets: [1651728]

    - title: "Edit book: Fix the 'Search ignoring markup tool' not ignoring comments/processing instructions, etc"
      tickets: [1651160]

    - title: "CSS Transforms: Fix 'is'/'is not' rules not matching 'currentColor'"
      tickets: [1650930]

    - title: "E-book viewer: Make the swipe up gesture move to next section instead of previous section"
      tickets: [1651034]

    - title: "Edit book: Allow the Spell check dialog and the search panel to be made much narrower than before"
      tickets: [1650932]

    - title: "Edit book: Fix customize template window not freely resizable on Windows"
      tickets: [1650924]

    - title: "Edit book: Fix newlines not being matched by the 'Search ignoring markup' tool"
      tickets: [1649383]

    - title: "EPUB input: Fix incorrect handling of HTML files that are in a folder above the OPF file"
      tickets: [1649357]

  improved recipes:
    - Ambito Financiero
    - Die Zeit (subscription)
    - Irish Times
    - Guardian
    - Independent
    - Ambito.com


- version: 2.74.0
  date: 2016-12-09

  new features:
    - title: "Amazon metadata download: Allow downloading from Amazon.cn as well. To use go to Preferences->Metadata download and customize the Amazon plugin to download from Amazon.cn"

    - title: "Edit book: Allow disabling the 'Files already arranged into folders' message popup"

  bug fixes:
    - title: "Edit book: Fix selected text not being fully highlighted when using the solarized color schemes"
      tickets: [1647448]

    - title: "calibredb: Fix CSV output for the check_library command not being properly escaped"

    - title: "Fix subsetting of fonts whose names start with 'and' not working"

    - title: "Fix a regression in 2.72 that broke the --start-in-tray command line option"
      tickets: [1644876]

    - title: "Fix third party plugins that create dynamic context menus not working in Linux"

    - title: "DOCX input: Fix images wider than 50% of the page width being incorrectly right aligned even when anchored to the center of the page"
      tickets: [1646086]

    - title: "Catalog generation: Ensure all citation keys in BiBTeX catalogs have only ASCII characters"
      tickets: [1646239]

    - title: "Get books: Update ebookpoint and legimi plugins for website changes"

    - title: "EPUB3 metadata: Ensure updating metadata never produces empty dc:contributor elements"
      tickets: [1644702]

    - title: "DOCX output: Fix an error when converting tables with spanning cells"
      tickets: [1644912]

    - title: "Nicer error message if the user tries to import data while the Content server is running"

  improved recipes:
    - Frontline
    - Korea Herald
    - Pagina 12
    - Edge Conversations
    - Kitsapun
    - Mobile Nations
    - NME
    - Security Watch
    - Sign on SD
    - Star Advertiser
    - tyzden


- version: 2.73.0
  date: 2016-11-25

  new features:
    - title: "Add a preference in Preferences->Look & feel to hide the row numbers in the main book list"
      tickets: [1643313]

    - title: "Allow Export/import of column coloring and icon rules"
      tickets: [1643314]

    - title: "Edit book: Allow bulk changing of file extension for selected files by right clicking on the selected files in the file browser"
      tickets: [1643232]

    - title: "Edit book: Check Book: Add a check for new documents that contain no ToC in EPUB 3 books"

    - title:  "Edit book: Check Book: Add a test to check if the embedded fonts in the book have their embedding permissions enabled"

  bug fixes:
    - title: "Pressing the up arrow in an date edit with undefined value should jump to the current date rather than Feb 101"

    - title: "EPUB input: When an invalid nav based ToC is used in an EPUB 3.0 document that also has a fallback NCX ToC, use the fallback ToC"
      tickets: [1643247]

    - title: "Fix a regression that broke the icon theme creation tool in the previous release"
      tickets: [1643228]

    - title: "Fix insert character dialog not reflowing characters on resize. Also only allow the Search bar in the dialog to get input focus"

  improved recipes:
    - Dilbert
    - The Hindu


- version: 2.72.0
  date: 2016-11-18

  new features:
    - title: "Font embedding: Implement automatic embedding for fonts with non-normal stretch and weight values such as Condensed/Light/Extra Bold fonts"

    - title: "Allow aborting an in-progress Copy-to-library action"
      tickets: [1641458]

    - title: "Edit book: When adding a font file via File->New automatically generate the appropriate @font-face rule and copy it to the clipboard so that it can be easily inserted into the appropriate CSS files"

    - title: "Edit book: Check Book: Add a warning for links with the : character in them on Windows"

    - title: "Conversion: When converting Markdown documents recognize basic metadata in the Markdown document formatted as per the Markdown metadata extension"

    - title: "Edit book: Spell check dialog: Various small usability enhancements -- preserve position in word list on refresh, ensure that new current word is highlighted after changing a word, etc"

    - title: "Edit book: Flash the taskbar icon after beautify all files completes"
      tickets: [1639024]

  bug fixes:
    - title: "Fix creating an empty library with the same structure as current library not creating custom columns on the first restart after creating the new custom columns"
      tickets: [1641278]

    - title: "Edit book: Don't fail to rename files on Windows if there is a link containing the colon character"
      tickets: [1641202]

    - title: "PDF output: Don't fail if one of the embedded fonts has no names"

    - title: "Edit book: When downloading external resources, ensure the generated filenames are valid"
      tickets: [1639448]

    - title: "Windows: Fix file extension not being added automatically when missing in save dialogs"
      tickets: [1637353]

    - title: "Fix calibre not opening full-screen on Windows tablet mode"
      tickets: [1638158]

    - title: "Edit book: Fix check external links tool not detecting changes that have not yet been saved"

    - title: "Generate covers: Fix & in the series causing incorrect formatting of series number"
      tickets: [1638759]

    - title: "Edit book: Fix a regression in the last release that broke the Arrange into folders tool when arranging into sub-folders of a folder that does not exist"

  improved recipes:
    - Mediapart

- version: 2.71.0
  date: 2016-10-31

  new features:
    - title: "calibre's tenth birthday edition!"
      description: "calibre was first released (as libprs500) ten years ago today. A big thank you to the entire calibre community -- users, contributors and developers -- for keeping it humming for so long"
      type: major

    - title: "A new set of icons for calibre"
      description: "To celebrate calibre turning ten, calibre now has a brand new set of icons designed from scratch. Note that you can choose between many different icon sets for calibre, including the original icons, from Preferences->Interface->Look & feel->Choose icon theme"
      type: major

    - title: "A short video commemorating the occasion: https://youtu.be/Q95NfFKc0v8"

    - title: "Book details panel: Add a copy all action to the right click menu"
      tickets: [1633477]

  bug fixes:
    - title: "Get books: Update e-bookpoint and woblink store plugins for website changes"

    - title: "Edit book: When un-marking text auto-change the 'search where' location to what it was before text was marked rather than 'current file'"

    - title: "Automatic adding: Show an error if the user specifies a folder whose name starts with a dot or underscore"
      tickets: [1637021]

    - title: "macOS: Fix a regression that caused incorrect display of the icon in pop-up message boxes when using a retina display"
      tickets: [1635999]

    - title: "Kobo driver: Fix an error when migrating very old settings"
      tickets: [1635909]

    - title: "Kobo driver: Fix a regression that broke handling of reading status for devices running old 1.9x versions of the Kobo firmware"

    - title: "Edit book: When using the arrange into folders tool do not change the case of already existing folders in the book"
      tickets: [1633875]

  improved recipes:
    - LWN Weekly
    - Financial Times
    - MIT Technology Review
    - The Hindu


- version: 2.70.0
  date: 2016-10-14

  new features:
    - title: "Edit book: Add a tool to download external resources (images/stylesheets/etc.) that are not included in the book"
      tickets: [1620058]

    - title: "Make custom columns available in the Alter Tag browser->Manage categories sub menu"

  bug fixes:
    - title: "Conversion: Fix incorrect resolution of references to resources in HTML files that exist in a folder level above the OPF file. This could lead to styles being incorrectly processed in such HTML files"

    - title: "Get books: Update the Amazon store plugins for website changes"

    - title: "Update Ozon.ru metadata download plugin to fix searching for books by ISBN"

    - title: "Edit book: Fix a regression in the previous release that broke the preferences dialog for changing color schemes"
      tickets: [1629294]

    - title: "Edit book: Better error message when user tries to open a Check Book item that refers to a file that has been deleted since the last time Check Book was run"
      tickets: [1632897]

  improved recipes:
    - Wired
    - Ambito
    - InfoWorld
    - Instapaper
    - San Jose Mercury News
    - South China Morning Post
    - Journal Gazette
    - JPost
    - Las Vegas Review
    - Marietta Daily Journal
    - DziennikBaltycki
    - biweekly
    - dwutygodnik
    - GRY Online
    - ESO
    - TVN24
    - And many more, see commit logs for details

  new recipes:
    - title: Various Danish news sources
      author: Allan Simonsen

- version: 2.69.0
  date: 2016-09-30

  new features:
    - title: "Kobo driver: Support for firmware version 4.1 and Overdrive books on the device"

    - title: "Edit book: Highlight class names inside HTML tags"

    - title: "Bulk metadata edit dialog: Allow Search & replace to work for ratings columns as well"

  bug fixes:
    - title: "Fix downloading of metadata from Ozon.ru, which broke due to website changes"

    - title: "Kobo driver: Fix delete of empty collections"

    - title: "Kobo driver: Fix book previews being sometimes detected as actual books"

    - title: "Cover Browser: Fix setting an empty template for the title causes an error"

    - title: "Edit book: On Windows do not trigger shortcuts when using the right Alt (AltGr) key. This allows it to be used for entering special characters instead"
      tickets: [1627487]

    - title: "Edit book: Auto-add file extension when using the Save a copy dialog if it is missing"
      tickets: [1627482]

    - title: "Linux: Fix calibre not launching when used with some old VNC server implementations"

    - title: "Windows: Run library restore in a separate process as on some Windows machines, running it in the main process causes something in the system to lock the db file"

    - title: "Fix some news downloads in east asian languages not working because the truncation of article descriptions could cause invalid UTF-16 bytes in the string"

    - title: "Fix incorrect timezone when editing custom date columns directly in the book list"

  improved recipes:
    - New York Times
    - Independent
    - El tribuno de Salta

  new recipes:
    - title: Various Danish news sources
      author: Allan Simonsen

- version: 2.68.0
  date: 2016-09-16

  new features:
    - title: "Add a tweak to Preferences->Tweaks to control the list of servers calibre considers public email servers"

  bug fixes:
    - title: "Content server: Fix a regression in the previous release that broke the OPDS feeds for libraries with no custom columns"
      tickets: [1621642]

    - title: "Edit metadata dialog: Fix auto-generation/validation of author sort values not working when only changing case of the author name"
      tickets: [1623593]

    - title: "A nicer error message when calibre fails to create the temporary directory"
      tickets: [1622131]

    - title: "Fix dates being set to empty in bulk search/replace not becoming UNDEFINED"

    - title: "Edit metadata dialog: Make pressing up on an undefined numeric field set the value to zero instead of -99999"
      tickets: [1622757]

    - title: "Conversion: Handle corrupted JPEG files that have valid headers but invalid data"
      tickets: [1622416]

    - title: "Conversion: Improve detection of input documents that use uppercase tag/attribute names"
      tickets: [1622261]

    - title: "Fix regression in previous release that caused incorrect display of ratings in the side panel of the metadata download dialog"

    - title: "Get books: Update publio and virtualo store plugins for website changes"

    - title: "Fix reading metadata from PDF files broken by poppler >= 0.47.0"

    - title: "Change the application name set in Qt to calibre from libprs500"
      tickets: [1623397]

  improved recipes:
    - Respekt Magazine
    - Punto Informatico
    - El universal

- version: 2.67.0
  date: 2016-09-08

  new features:
    - title: "Allow creating custom rating columns that support half-stars via Preferences->Add your own columns"

    - title: "Tag browser: Add an option in Preferences->Interface->Look & feel->Tag browser to turn off the display of counts in the Tag browser"

    - title: "Tag browser: Show the book counts on the right edge of the Tag browser"

    - title: "Cover Browser: Allow any metadata field to be used as the sub-title, not just the rating"

    - title: "Edit book: A new tool to sort the rules in a CSS stylesheet. To use it add it to the toolbar for CSS editors"

    - title: "Edit book: The Remove Unused CSS tool now has an option to also merge CSS rules that have identical selectors"

    - title: "Add a tweak in Preferences->Tweaks to exclude some images types from being treated a covers when dropped onto the Book details panel"
      tickets: [1620198]

    - title: "Allow reading more image formats as covers (All images will be converted to JPEG when stored)"
      tickets: [1619993]

    - title: "Content server: OPDS feeds: Change the value of <updated> for entries in the acquisition feed to be the last modified date for the book. Also make the size and last modified timestamp available as attributes in the acquisition links. Useful for integration with third party applications"

    - title: "Kobo driver: Add support for firmware version 4 available on the new Kobo Aura One"

  bug fixes:
    - title: "ODT input: Add support for continued lists"
      tickets: [1620581]

    - title: "Edit book: Fix high-dpi rendering of emblems in the File browser"

    - title: "Fix regression in previous release that caused wide column icons to be scaled incorrectly"

    - title: "Metadata download dialog: Fix HTTPS links in the download summary not working"

    - title: "DOCX output: Handle nested display:table tags with no rows"
      tickets: [1619662]

    - title: "PDF output: Fix OpenType fonts with CFF font data not embeddable on Windows"

  improved recipes:
    - Ars Technica


- version: 2.66.0
  date: 2016-09-02

  new features:
    - title: "A simplified calibre logo"

    - title: "Edit book: Allow restricting a search to the files currently open for editing"

    - title: "Driver for the PocketBook Touch HD"
      tickets: [1618962]

    - title: "Kobo driver: Add support for firmware version 3.20"

  bug fixes:
    - title: "DOCX input: Fix right-to-left alignment not working for footnotes"
      tickets: [1617254]

    - title: "Sending email: Allow setting up a mail relay that uses encryption without a username and password"
      tickets: [1618528]

    - title: "Linux: Fix calibre not working when the username is non-ASCII"
      tickets: [1619056]

    - title: "DOCX output: Ignore invalid text-indent values in the input document instead of erroring out"
      tickets: [1618869]

    - title: "Portable installer: Auto-create the installation folder specified on the command line if it does not exist"

    - title: "Kobo driver: Fix the ignore collections in option not working"

    - title: "More user interface fixes for high DPI screens"

    - title: "DOCX input: Fix a regression in the previous release that could cause invalid values to be output for the text-align CSS property"

  new recipes:
    - title: Contropiano
      author: michele

- version: 2.65.1
  date: 2016-08-26

  new features:
    - title: "Driver for Kobo Aura One and Aura Edition 2"

    - title: "Kobo driver: Add an option to ignore some collections on the device. The specified collections will not be touched by the driver"

    - title: "Add an option in Preferences->Searching to make searching case-sensitive"

    - title: "DOCX input: Add support for right-to-left text/tables"
      tickets: [1569771]

  bug fixes:
    - title: "Fix some icons/images in the user interface looking blurred in environments with High DPI scaling enabled, such as macOS retina screens"

    - title: "DOCX input: Fix images that have the # character in their filenames not being converted correctly"
      tickets: [1616482]

    - title: "ToC wizard: Fix generating ToC from headings/xpath yielding unexpected results when tags are present out of sequence"

    - title: "Edit book: Fix drag and drop of text replacing non-breaking spaces with normal spaces"

    - title: "E-book viewer: Fix duplicate names in hyphenation dictionary chooser"
      tickets: [1615040]

    - title: "Fix a regression in the previous release that caused the completion popups for some custom column types in the book list to stop working"
      tickets: [1612640]

    - title: "Version 2.65.1 contains a quick-fix for a typo in 2.65.0 that caused calibre to crash when a device is connected and the cover grid is enabled"

  improved recipes:
    - Le Scienze
    - New Yorker


- version: 2.64.0
  date: 2016-08-12

  new features:
    - title: "Custom columns: Add a new 'Short text' column type that behaves like the builtin title column"
      description: "More generally, you can now customize Comments-like columns, controlling how their headings are displayed in the Book details panel and also specifying what kind of data they contain (plain text, HTML or even Markdown)"
    - title: "Edit book: Function mode: Allow appending text to the end of the marked text when running function mode Search/replace on marked text"

    - title: "PDF output: Add a new variable _TOP_LEVEL_SECTION_ for use in header/footer templates that resolves to the current top-most section in the Table of Contents"

    - title: "Linux/macOS: Shutdown gracefully on receiving the interrupt or terminate Unix signals"

  bug fixes:
    - title: "PDF output: Fix a regression that caused the last page of a chapter to sometimes be dropped from the output"

    - title: "Do not show an error if the user tries to quit calibre while editing a cell in the book list. Instead, just silently abort the edit"
      tickets: [1610539]

    - title: "E-book viewer: Fix 0px margins and percentage margins not being respected when the option to override book margins is turned off"
      tickets: [1608458]

    - title: "Book details: Do not show the 'Copy link' context menu item unless there is an actual link at the cursor location"
      tickets: [1605594]

    - title: "Get books: Update store plugin for nexto"

  improved recipes:
    - Private Eye
    - Prospect Magazine
    - De Standaard
    - Jot Down
    - Weblogs SL
    - Hola
    - El Correo

  new recipes:
    - title: Data News
      author: oCkz7bJ_

- version: 2.63.0
  date: 2016-07-22

  new features:
    - title: "News download: Allow controlling which periodicals are automatically sent to a specific email in Preferences->Sharing by email"

    - title: "Edit book: Update regex engine to support Unicode 9.0"

  bug fixes:
    - title: "Edit metadata dialog: Fix pasting ISBN from clipboard not stripping garbage characters after a valid ISBN"
      tickets: [1604956]

    - title: "Edit book: Also refresh the Preview and Live CSS panels after performing any action that changes files other than the currently displayed file"

    - title: "E-book viewer: Fix the show metadata button not reading EPUB 3 metadata"

    - title: "MOBI output: Fix <hr> not being rendered as full-width in old MOBI files"

    - title: "CSV catalog output: Fix incorrect formatting of is_multiple custom columns"
      tickets: [1602908]

    - title: "CSV catalog output: Separate multiple authors with & instead of comma. Fixes problems when the author name contains commas"

    - title: "EPUB 3 metadata: Fix updating metadata in EPUB 3 files not overwriting existing authors"
      tickets: [1602227]

    - title: "Fix duplicate detection when adding books not working when the book title has leading or trailing whitespace"

    - title: "Book details panel: Pick the color used for links from the current system color theme"

    - title: "Windows: Fix file selection dialogs blurry on HiDPI monitors"

  improved recipes:
    - Gosc Niedzielny
    - Nikkei Free
    - Financial Times (UK)
    - Foreign Affairs
    - Berlin Policy Journal
    - Gazet van Antwerpen
    - Hurriyet


- version: 2.62.0
  date: 2016-07-08

  new features:
    - title: "EPUB metadata: Support for reading and writing EPUB 3 specific metadata. Now when processing EPUB 3 files, calibre will generate/use EPUB 3 specific metadata constructs when available, for example for series"

    - title: "Recognize the newest Kindle model, that started shipping today"
      tickets: [1599970]

  bug fixes:
    - title: "Tag mapper: Allow specifying a space as the split character when creating a split tags rule"

    - title: "Tag mapper: Fix upper case characters not working in 'contains' rules"

    - title: "Smarten punctuation: Fix double dashes and triple dots being smartened even inside attribute values"
      tickets: [1598465]

    - title: "HTML input: Sanitize semi-colons from HTML filenames as they can cause problems with other EPUB consuming software"
      tickets: [1598719]

    - title: "EPUB input: Speed up reading of the book spine from the OPF file for books with a very large number of entries in the spine"

    - title: "Edit book: Reports: Characters: Fix sorting by count and name not working"
      tickets: [1598518]

    - title: "Fix Kobo Touch configuration migration not working for older settings"
      tickets: [1598017]

  improved recipes:
    - The Skeptic

  new recipes:
    - title: Various Russian news sources
      author: bugmen00t

- version: 2.61.0
  date: 2016-07-01

  new features:
    - title: "Driver for FNAC (re-branded Bq) with new firmware"
      tickets: [1596952, 1595924]

    - title: "Edit book: Check Book: Add an auto fix action to remove all links to a missing resource (such as a deleted stylesheet) automatically"
      tickets: [1596048]

  bug fixes:
    - title: "Edit book: Check Book: Fix incorrect handling of font family names with spaces in them that are not quoted"
      tickets: [1596053]

    - title: "E-book viewer: Fix Qt 5.7 breaking mouse wheel scrolling"

    - title: "Kobo driver: Fix a regression in the last release that broke connecting to older devices"
      tickets: [1596801]

    - title: "Get books: Fix detection of book formats broken for the Legimi plugin by a website change"

    - title: "Update builtin metadata source Ozon.ru to handle website changes"

    - title: "Font subsetting: Fix incorrect handling of fonts whose names are included in font rules without quotes"

    - title: "Fix E-book viewer broken when running the binary calibre release on systems with very old versions of glibc"

  improved recipes:
    - derStandard
    - Kurier
    - Kliene Zeitung

- version: 2.60.0
  date: 2016-06-24

  new features:
    - title: "Edit metadata: In the drop down list for languages, show the five most recently used languages first"
      tickets: [1594089]

    - title: "Edit book: Check Book: Add a check for missing navigation documents in EPUB 3 books"

    - title: "Kobo driver: Improved configuration dialog for the Kobo Touch device driver"

    - title: "Copy to Library: Do not abort the copy process if only some books fail to copy, instead report which books failed and copy the rest"
      tickets: [1594100]

    - title: "News download: Make all relative links (those starting with /) absolute. Useful when reading on a device that supports web browsing"

    - title: "EPUB metadata: Add an option to disable adding of cover images to EPUB files that declare no cover image in their metadata (Preferences->Plugins->Customize the Set EPUB metadata plugin)"

  bug fixes:
    - title: "ToC Editor: Fix ToC detection in EPUB 3 files with only an NCX and no nav not working"

    - title: "E-book viewer: In paged mode, when the window is toggled between full screen and window, repeatedly, preserve the position more accurately"
      tickets: [1595307]

    - title: "E-book viewer: Fix incorrect page turning when multiple pages are displayed on screen for books that wrap all their content in a single 100% height tag"
      tickets: [1594657]

    - title: "Fix a regression that broke scheduling a new news download in timezones west of GMT"

    - title: "Edit book: Fix undocked Windows not resizable on macOS"

    - title: "Fix a regression in 2.57 that broke rescaling of images to fit the output profile screen size during conversion"
      tickets: [1594098]

    - title: "Fix for file dialogs not working on Windows when non-ASCII environment variables are present"

    - title: "HTML input: Fix error when converting HTML file with URL encoded filename"
      tickets: [1593632]

  improved recipes:
    - Handelsblatt
    - New York Times Book Review
    - Antyweb

- version: 2.59.0
  date: 2016-06-17

  new features:
    - title: "Amazon metadata download: Download the series information when available from Amazon.com"

    - title: "Amazon metadata download: Recognize common patterns of embedding the series name after the title and remove it automatically"

    - title: "Edit book: Add support for EPUB 3 to the Table of Contents tool. Now when editing EPUB 3 files using the tool will automatically generate both the EPUB 3 navigation document and the NCX Table of Contents for backwards compatibility"

    - title: "EPUB input: Implement reading of Table of Contents from EPUB 3 files that do not specify a fallback NCX ToC"

    - title: "EPUB metadata: When setting a cover image for an EPUB file that has no metadata cover image defined, add the new cover image as a pure metadata cover instead of aborting"

  bug fixes:
    - title: "Fix crash on exit if any plugins have loaded code that raises exceptions during shutdown"
      tickets: [1592414]

    - title: "Copy to library: Speed up checking for duplicates when copying multiple books to a large library"
      tickets: [1593027]

    - title: "Get books: Update Smashwords plugin for website changes"
      tickets: [1590653]

    - title: "Edit book: Fix a bug in the new text search facility that could cause searches to fail when searching from the current cursor position instead of the top of the file"
      tickets: [1588778]

    - title: "Bulk conversion dialog: Fix page margin settings being ignored when converting to DOCX"

    - title: "Make the default shortcut for remove books Backspace on macOS since many mac keyboards have no delete key and the backspace key is labeled as delete"

    - title: "Edit book: Check Book: Do not warn if a cover image is not referenced in the text"

    - title: "E-book viewer: Fix a bug that could cause incorrect rendering of chapter titles in some rare circumstances"

    - title: "Windows console output: Handle consoles with non black and white color scheme correctly"

    - title: "Fix a regression in 2.57 that caused auto-removal of borders from covers to become much less proficient at detecting borders"

    - title: "Fix a regression in 2.57 that broke gray scaling of images"

  improved recipes:
    - Technology Review (DE)

- version: 2.58.0
  date: 2016-06-02

  new features:
    - title: "Edit book: A text search tool to conveniently search for text even if it crosses multiple HTML tags (Search->Search ignoring HTML markup)"

    - title: "macOS: Allow drag and drop of file onto viewer dock icon to view file"

  bug fixes:
    - title: "Workaround for incompatibility between Qt 5.5+ and Ubuntu that caused the context menu for the book list to flicker"
      tickets: [1534936]

    - title: "Windows: Workaround for explorer shell extensions on windows that write to stdout"

    - title: "Edit book: When jumping to next occurrence of a word, take language into account"

    - title: "Edit book: Fix import of words into user dictionary not working"

    - title: "Fix use of non-ASCII characters in identifiers causing an error when identifier rules are used"
      tickets: [1584470]

    - title: "Fix a regression that caused the paste from clipboard button to paste two times in the Add books from ISBN dialog"

    - title: "Fix for incompatibility with PyQt 5.6"

  improved recipes:
    - Denver Post
    - Financial Times
    - bild.de

- version: 2.57.1
  date: 2016-05-20

  new features:
    - title: "Driver for the Bq Cervantes 3"

    - title: 'A new "Ornamental" cover design for the "Generate cover" feature'

    - title: "Windows: Use a helper process that does not load any calibre DLLs to display file open/save dialogs. This should fix most crashes caused by poorly designed Windows shell extensions"

    - title: "Allow pressing Alt+O as a shortcut for click the OK button in the Add from ISBN dialog"
      tickets: [1578692]

    - title: "Remove the calibre dependency on ImageMagick -- reduces calibre install size by ~ 15MB"

    - title: "Edit book: Add a new image filter: Normalize -- to improve the contrast in images"

    - title: "Edit book: Add a filter to make images look like oil paintings"

    - title: "Use 'Not rated' for zero stars in all rating spin boxes"

  bug fixes:
    - title: "Edit book: Fix a crash in the Insert link tool if one of the HTML files contains an empty id"
      tickets: [1580928]

    - title: "Fix tag like custom columns not sorted when displayed in the Book details panel"
      tickets: [1578688]

    - title: "Fix transient window shown during Edit book startup"

    - title: "Preserve booklist horizontal scroll position when merging books"
      tickets: [1579637]

    - title: "Google Images metadata download plugin: Fix error when searching for books with non-English characters in the title or author names"
      tickets: [1577036]

    - title: "Template language: Fix an error formatting dates when the underlying date does not have a day"
      tickets: [1576742]

    - title: "Preferences->Keyboard: Fix unable to use Alt+A and Alt+S as custom shortcuts"
      tickets: [1576721]

    - title: "Version 2.57.1 is a hotfix to fix a regression that broke conversion of ODT files in 2.57.0"

  improved recipes:
    - Folha de Sao Paolo
    - Barrons
    - Economist
    - Deutsche Welle (English and Spanish editions)
    - Die Presse
    - MIT Technology Review
    - Financial Times UK
    - Telegraph UK
    - The Guardian
    - Spiegel Online
    - Brand Eins
    - Focus.de
    - The Toronto Star
    - The Atlantic
    - Capital.de
    - The Times of India
    - The Economic Times India

- version: 2.56.0
  date: 2016-04-29

  new features:
    - title: "Edit book: Add an option to show full file paths in the Files Browser instead of just the file name (in Preferences->Interface->Main window)"

    - title: "Allow creating a keyboard shortcut to minimize the calibre window (Preferences->Keyboard->Miscellaneous)"
      tickets: [1573775]

  bug fixes:
    - title: "Fix the Google Images based cover download plugin not working because of changes to Google's image search service"

    - title: "E-book viewer: Prevent the TAB key from causing partial scrolling in paged mode"
      tickets: [1571304]

    - title: "Book details panel: Fix regression in previous release that broke URL:http|... style identifiers"

    - title: "macOS: Redirect stdout/stderr to /dev/null instead of ASL since ASL is flaky on some macOS machines. This should prevent errors in third party plugins that print a lot of debug messages even when not in debug mode"

    - title: "Fix for macOS upgrade 10.11.4 breaking detection of Kobo devices on some systems"

    - title: "Edit book: Fix filename being duplicated in the Files browser when multiple files with the same name are present"

    - title: "PDF output: Make fix for blank page at end of HTML file also work when headers/footers are specified"

  improved recipes:
    - Forbes
    - Wall Street Journal
    - Berliner Zeitung
    - Tagesspiegel
    - TIME
    - Foreign Affairs
    - New Yorker

  new recipes:
    - title: "1843"
      author: Kovid Goyal

    - title: Berlin Policy Journal
      author: Aimylios

- version: 2.55.0
  date: 2016-04-15

  new features:
    - title: "Allow creation of rules to convert arbitrary identifiers into clickable links in the book details panel (Preferences->Interface->Look & feel->Book details)"

    - title: "Tag mapper: A new rule type 'split' allows you to easily split tags on a character"

    - title: "Make the shutting down message an overlay so it is less disruptive"

    - title: "Allow right clicking on Virtual library tabs to edit/delete the Virtual library"
      tickets: [1568306]

    - title: "Tag mapper: Add a button to edit the list of tags in a Tag mapper rule using the Tag editor dialog"
      tickets: [1568376]

  bug fixes:
    - title: "Conversion: Fix the obsolete HTML align=center markup (produced by Microsoft Word) not working for tables"
      tickets: [1569583]

    - title: "Font subsetting: When font-variant: small-caps is used include the capital letters as well, in case either the font or the renderer do not support OpenType SMCP"
      tickets: [1568555]

    - title: "Font subsetting: Implement support for text-transform"
      tickets: [1568555]

    - title: "Fix the target book entry in the book list not being refreshed after merging books. Only matters if you have a column based on book formats"
      tickets: [1568091]

    - title: "E-book viewer: Fix a link that has some text along with a superscript/subscript being incorrectly detected as a footnote link"

    - title: "Fix device detection on Windows failing if the registry entries for the device contain a very long item"
      tickets: [1567569]

    - title: "Edit book: Fix an extra colon being added when setting the 'notes' semantic"

    - title: "Ensure that author folder names are never Windows reserved names"

    - title: "E-book viewer: When displaying an EPUB 3 document that uses EPUB:switch to provide a fallback for MathML content, prevent both the MathML and fallback from being shown together"

    - title: "PDF output: When displaying an EPUB 3 document that uses EPUB:switch to provide a fallback for MathML content, prevent both the MathML and fallback from being rendered together"

    - title: "Fix exception in custom column preferences when the column lookup key is changed"

    - title: "Catalog generation: Do not crash is a book in the library has no uuid"
      tickets: [1565242]

  improved recipes:
    - Brand Eins
    - Handelsblatt
    - tyzden
    - Newsweek

  new recipes:
    - title: Kitekinto
      author: pofa

- version: 2.54.0
  date: 2016-04-01

  new features:
    - title: "Edit metadata in bulk dialog: Allow configuring the types of generated covers"
      tickets: [1559257]

    - title: "E-book viewer: Make the detection of note boundaries for popup footnotes a little more robust"

    - title: "E-book viewer: Add options to control the amount the mouse wheel and arrow keys scroll by in flow mode"

    - title: "When running the Content server do not hide the main calibre window during shutdown until the Content server has stopped. Show a shutting down message in the window so that the user knows what is happening"

    - title: "Edit book: Check Book: Add a check for empty links"

    - title: "DOCX input: When the document has a Table of Contents created using the Word Table of Contents tool, keep a reference to it in the metadata.  This is useful when converting to old style MOBI and you want to precisely control placement of the ToC"
      tickets: [1556983]

  bug fixes:
    - title: "Fix auto-mounting of some types of devices not working on FreeBSD"

    - title: "calibredb add: Fix the --cover option not working if the book being added has its own cover"
      tickets: [1562507]

    - title: "E-book viewer: Fix mathematics being typeset at too small a font size on Windows"

    - title: "PDF output: Fix occasional blank pages erroneously inserted in the text (at the end of an internal HTML file)"
      tickets: [1559855]

    - title: "Book details panel: Fix URL:file:// identifiers not becoming links"

    - title: "Fix fetch news dialog not rendering properly on HiDPI screens"

    - title: "Fix a hard to trigger crash introduced in the previous release when using the conversion dialog"
      tickets: [1557147]

  improved recipes:
    - Nature News
    - TIME Magazine
    - Folha de Sao Paolo
    - Endgadget
    - MSNBC
    - The New York Times Book Review

  new recipes:
    - title: Magyar Nemzet and Mult Kor
      author: pofa

- version: 2.53.0
  date: 2016-03-11

  new features:
    - title: "Edit book: A new tool to transform book styling using easy to create rules"
      description: "For example, you can create rules to change colors in the book or to double the font size of all text in the book, etc. For details, see https://manual.calibre-ebook.com/edit.html#transforming-css-properties"
      type: major

    - title: "Conversion: Allow creating rules to transform styles during conversion, as above. Available in the conversion dialog at 'Preferences->Common options->Look & feel->Transform styles'"

    - title: "Edit metadata dialog: Make the hide toolbars right click menu action persistent. Also fix very large number of custom fields causing the basic metadata tab to not be aligned properly"

    - title: "Portable installer: Do not ask to launch calibre when running an automated install. Automated installs will now never launch calibre"

  bug fixes:
    - title: "E-book viewer: Hide list numbers for popup footnotes when the footnotes are use <ol> as the number are likely to be incorrect"

    - title: "DOCX input: Ignore the hidden bookmark Word 2010 inserts to enable the go to last edit feature"
      tickets: [1552972]

    - title: "Fix keyboard focus lost after merging book records"
      tickets: [1550520]

    - title: "E-book viewer: Handle <![CDATA[ escapes correctly"
      tickets: [1550966]

    - title: "Edit book: Fix spelling correction suggestions not being shown when using the context menu key with the cursor at the end of the word"

  improved recipes:
    - Mediapart

- version: 2.52.0
  date: 2016-02-26

  new features:
    - title: "Allow creating rules to ignore files when adding books based on the filename"
      description: "Useful when using the auto-add feature or when adding in bulk. Preferences->Adding Books->Rules to filter added files"

    - title: "calibredb add: Allow specifying filters to control adding of books from directories"

    - title: "E-book viewer: Allow copying the Table of Contents to the clipboard by right clicking on it"
      tickets: [1548791]

  bug fixes:
    - title: "FB2 metadata: Ignore invalid (unidentifiable) cover images"
      tickets: [1548417]

    - title: "FB2 metadata: Fix error when adding books with non-numeric series numbers"
      tickets: [1548405]

    - title: "DOCX input: Fix handling of toggle properties such as bold/italic/strikethrough/etc. when specified as document defaults"
      tickets: [1548187]

    - title: "Conversion pipeline: Add support for the q CSS length unit"

  improved recipes:
    - AsiaOne
    - Today Online - Singapore
    - Foreign Policy
    - Outlook India
    - Economic and Political Weekly
    - Foreign Affairs
    - El Pais
    - LA Times
    - Al-Ahram
    - New York Times Book Review

  new recipes:
    - title: Al-Masry Alyoum
      author: Hassan Williamson

- version: 2.51.0
  date: 2016-02-12

  new features:
    - title: "Add an action to the context menu for the Search bar to paste and instantly execute the search"
      tickets: [1541286]

    - title: "When adding multiple books from a single directory, added the books in order of the last modified time of the book files"

  bug fixes:
    - title: "Fix a regression in 2.50 that prevented a small number of devices from being detected on Windows"

    - title: "PDF metadata: Workaround for PDF files with corrupted XMP metadata packets, generated by Nitro PDF"
      tickets: [1541981]

    - title: "Edit book Beautify: Do not beautify the insides of heading/p tags even when they are the only child of body"

    - title: "Amazon metadata download: Fix published date not being downloaded from Amazon.it"

    - title: "Fix a regression in 2.50 that broke the user created device driver feature on Windows"

    - title: "EPUB input: Fix error when processing EPUB files that uses non-ASCII characters for their unique ids"
      tickets: [1540496]

    - title: "When reading the cover from comic files, ignore any image files inside __MACOSX/ directories"
      tickets: [1539414]

    - title: "Fix calibre on macOS unable to connect to sites that support only TLS >= 1.1. Also update the version of Qt bundled on macOS to 5.5.1"

  improved recipes:
    - Endgadget
    - The Economic Times India
    - Discover Magazine

- version: 2.50.1
  date: 2016-01-29

  new features:
    - title: "Change the way that devices are detected on Windows. This fixes device detection problems on some Windows 10 computers"

    - title: "Edit book: When inserting images, add an option to insert the image as a full page image"

    - title: "DOCX input: Add support for framed text created by setting the same border style on neighboring paragraphs"
      tickets: [1526663]

    - title: "Update PocketBook 650 driver for latest firmware revision"
      tickets: [1535801]

  bug fixes:
    - title: "DOCX input: Fix empty paragraphs with borders being rendered with an empty line inside the borders"

    - title: "ODT input: Fix fallback PNG images generated by LibreOffice 4.x for SVG images not being ignored"

    - title: "Fix Restore library failing on some Windows systems with non-ASCII library paths"

    - title: "Edit book: Fix error when merging an empty HTML document or one that contains only text and no tags"
      tickets: [1535427]

    - title: "Fix failure to add FB2 files that contain published dates"
      tickets: [1535007]

    - title: "Use a private certificate when downloading plugins via HTTPS. This fixes errors on some windows machines that have missing root certificates"

    - title: "Fix Tag editor not working correctly for comma-separated custom columns"

    - title: "Fix existing rating not being removed when using Polish books or Embed metadata tools on EPUB files"
      tickets: [1534597]

  improved recipes:
    - New Scientist
    - FAZ.net
    - Scientific American
    - Business World Magazine
    - Houston Chronicle

- version: 2.49.0
  date: 2016-01-15

  new features:
    - title: "E-book viewer: Add an option to allow only a single book to be viewed at a time. Trying to view a second book will cause it to replace the currently viewed book"
      tickets: [1526504]

    - title: "Kobo driver: Add support for the new firmware 3.19.5761"

    - title: "Linux build: Update bundled version of Qt to 5.5.1"

  bug fixes:
    - title: "Fix splash screen getting stuck on macOS when restarting calibre in debug mode"

    - title: "Get books: Update plugins for various Polish language book stores to handle changes to the website"

    - title: "Amazon metadata download: Handle a change in the Amazon website that prevented review metadata from being downloaded"

    - title: "Better algorithm for guessing the 'external' network interface that is displayed to the user"

    - title: "Tag mapper: Do not allow the user to create rules with invalid regular expressions"

    - title: "E-book viewer: Disallow hyphenation in documents that use mathematical typesetting as the hyphenation breaks that typesetting"

    - title: "E-book viewer: Fix some non-ASCII characters not display in embedded MathML"
      tickets: [1532323]

    - title: "Download calibre plugins securely using HTTPS"

    - title: "MOBI output: Try to autofix corrupted PNG images in the input document"
      tickets: [1531738]

    - title: "Nook Glowlight Plus: Send files by default to the NOOK/My Files folder"
      tickets: [1531394]

    - title: "E-book viewer: Fix failure to view comic files that contain non-ASCII characters int heir internal filenames"
      tickets: [1530517]

  improved recipes:
    - Echo Online
    - Various Uruguayan news sources
    - Economic and Political Weekly
    - Tagesanzeiger

  new recipes:
    - title: LaRed21
      author: Carlos Alves

- version: 2.48.0
  date: 2016-01-01

  new features:
    - title: "Driver for Energy Ereader Screenlight"
      tickets: [1529108]

    - title: "DOCX input: Add option to have superscripts/subscripts converted so that they do not affect the line height of the line containing them"
      tickets: [1528055]

    - title: "New option to hide empty categories in Tag browser (Preferences->Interface->Look & feel->Tag browser)"

  bug fixes:
    - title: "Image compression: Fix spurious zero byte .bak files being created when compressing PNG images inside EPUB files"

    - title: "Image compression: Fix bug that could cause zero byte images files/or file in use errors when compressing images"

    - title: "Fix some icons not being themeable"
      tickets: [1529501]

    - title: "E-book viewer: When using heuristics to detect footnote links check for vertical-align set to top and bottom as well as sub and super"

    - title: "Book details panel: Display data in right-to-left format when the calibre interface language is set to a right-to-left language such as Hebrew or Arabic"

  improved recipes:
    - Rzeczpospolita
    - New York Times Book Review
    - der Standard
    - More Intelligent Life
    - Reader's Digest
    - Financial Times
    - New Scientist


- version: 2.47.0
  date: 2015-12-21

  new features:
    - title: "A new tool to easily export and import all calibre data -- books, settings and plugins"
      description: "Right click the calibre icon in the main calibre toolbar and choose \"Export/import all calibre data\" to run this tool. It is useful if you want to move to a new computer or duplicate your calibre setup on a second computer, with minimal effort. This tool is very new, so if you run into problems, please report bugs. You can always use the old manual method of copying library folders as a fallback"
      type: major

    - title: "Get books: Add plugins for Amazon Australia and Amazon India. Also restore the Amazon EU plugins"
      tickets: [1526089]

  bug fixes:
    - title: "PDF input: Fix conversion of PDF documents that contain ASCII control codes in their outlines not working"
      tickets: [1527697]

    - title: "Edit book: Fix image compression utilities opening a new console per invocation on Windows"

    - title: "Image compression: If the compression tools return a zero byte image ignore it and use the original image"

    - title: "Fix a regression that caused book titles in the Book details panel to become clickable"

  improved recipes:
    - Fox News
    - Le Devoir
    - Le Monde diplomatique.fr

- version: 2.46.0
  date: 2015-12-11

  new features:
    - title: "PDF input: Add support for PDF outlines (bookmarks), if present, they are used as the metadata Table of Contents"
      tickets: [1524522]

    - title: "Book polishing: Add tool to losslessly compress images in the book in order to reduce its filesize, without affecting image quality"

    - title: "Edit book: Add a new tool to compress images in the book losslessly, accessed from the Tools menu"

    - title: "Kobo driver: Add support for new Kobo firmware"
      tickets: [1524742]

    - title: "Bulk metadata edit dialog: Allow entering fractional numbers into the series number start with control"
      tickets: [1523253]

    - title: "Speed up moving libraries by using hardlinks instead of file copies when moving to a location on the same filesystem"

    - title: "Get books: Disable the Amazon EU stores, at Amazon's request"

  bug fixes:
    - title: "Fix moving libraries via calibre leaving behind a copy of the metadata_db_prefs_backup.json file in the original library folder"

    - title: "MOBI input: Warn about corrupted trailing data entries, instead of aborting. Getting some, even partially corrupted text is better than no text"
      tickets: [1521830]

    - title: "Book details: Fix single value custom text column not clickable"
      tickets: [1521004]

    - title: "Saving to disk: Fix custom date column being rendered in GMT instead of the local time zone when used in a save to disk template"
      tickets: [1520895]

  improved recipes:
    - New York Review of Books
    - Caravan Magazine
    - heise


- version: 2.45.0
  date: 2015-11-27

  new features:
    - title: "Cover browser: Allow customizing the text that appears under the covers with a template in Preferences->Interface->Look & feel->Cover browser"

    - title: "When sending books without a cover to the device, generate a cover with book metadata instead of using the blank book icon"

    - title: "Preferences->Add your own columns: Show more information about existing columns"

  bug fixes:
    - title: "PDF output: Handle input documents with fonts that do not have either postscript or full name information"
      tickets: [1518678]

    - title: "DOCX input: Handle numbering styles that use non-decimal number formats and custom templates"
      tickets: [1519962]

    - title: "Allow restoring of corrupted library to work even if the metadata.db file is missing from the library folder"
      tickets: [1519855]

    - title: "Bulk metadata dialog: Fix renaming a custom series via search and replace causing the series index to be reset to 1"
      tickets: [1519599]

    - title: "Bulk metadata dialog: Fix search and replace not working for text like custom columns if the column contains only a single value"
      tickets: [1516890]

    - title: "Content server: Fix next and previous links not working in the mobile view when using a search query that includes URL unsafe characters"
      tickets: [1519606]

    - title: "Update Amazon metadata download plugin to handle Amazon.com website change that was preventing any metadata from being downloaded"

    - title: "Edit book: Fix error when trying to add words to user dictionary for a book with a language that has no dictionary available"
      tickets: [1517928]

    - title: "Tag browser: Fix various bugs in how grouped search terms are displayed. Also fix counts and average rating for items in user categories"

    - title: "When using copy to library also create missing composite columns in the destination library"
      tickets: [1516880]

  improved recipes:
    - The Guardian and The Observer


- version: 2.44.1
  date: 2015-11-15

  bug fixes:
    - title: "Update the version of libpng bundled with calibre to fix a security vulnerability in libpng"
      description: "See https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2015-8126 for details on the vulnerability"

- version: 2.44.0
  date: 2015-11-13

  new features:
    - title: "Allow setting the cover for a book from one of the book's formats by right clicking on the format in the Book details panel"
      tickets: [1515411]

    - title: "Allow drag and drop of all file types onto the book details panel and the format list in the edit metadata dialog"
      tickets: [1515407]

    - title: "Edit book: When inserting an image into the current document, add a button to paste the image from the clipboard"

    - title: "Edit book: Change the suggested prefix for bulk renaming of files depending on the type of files being renamed"
      tickets: [1514468]

    - title: "On Linux, use the system tray icon from the system theme, if available"

  bug fixes:
    - title: "Fix for error when connecting to some Android phones/tablets that have an SD card on macOS and Linux"

    - title: "Linux build: Fix problem with pointing hand mouse cursor not using the system theme on some Linux systems"

    - title: "Fix the device view state not being saved when a connected device is ejected/disconnected"

    - title: "Edit book: Fix saving fails if the original file is deleted during editing session"
      tickets: [1513849]

    - title: "E-book viewer: When doing a search do not match text in comments, attributes and inappropriate tags, such as <script> and <style>"

  improved recipes:
    - Gamasutra

- version: 2.43.0
  date: 2015-11-06

  new features:
    - title: "Edit book: Add a 'Smart Comment' tool to easily comment/uncomment text"
      description: "Press Ctrl+` to trigger the tool, or add the tool to your toolbar via Preferences->Toolbar->Tools for all editors. It will either insert comments around the selected text or uncomment an existing comment if the cursor is inside one"

    - title: "Tag mapper: Add new rule types to upper-case, lower-case or capitalize tags"

    - title: "Markdown input: Allow the 'extra' convenience extension as a shortcut for enabling multiple other extensions. Also add the Attribute list and Admonition extensions. Finally, update the Markdown library used by calibre"
      tickets: [1512461]

  bug fixes:
    - title: "Amazon metadata download: Fix for website change at Amazon.com that prevented ratings from being downloaded"
      tickets: [1513318]

    - title: "Tag mapper: Prevent cycles in the replacement rules from causing the Tag mapper to hang"
      tickets: [1513330]

    - title: "Do not fail on Windows systems where the system function to get the users home folder fails"

    - title: "E-book viewer: Set the foreground color as well as the background color for the reference mode popup. Makes it legible even when the user specifies a different color theme for the viewer"

  new recipes:
    - title: La Politica Online
      author: Darko Miletic

- version: 2.42.0
  date: 2015-10-30

  new features:
    - title: "Driver for the new NookGlowlight Plus. This device only allows sending of files inside the NOOK folder, so calibre now follows that limitation"

    - title: "When converting AZW4 files to PDF, skip the conversion and simply unwrap the PDF file already embedded inside the AZW4 file"

    - title: "Metadata download review dialog: Add an option to mark rejected books in the main book list after the review is completed"
      tickets: [1507198]

    - title: "Edit book: Spell check dialog: Add a button to undo the last spelling change"

  bug fixes:
    - title: "Edit metadata dialog: When downloading metadata with download of authors turned off, do not regenerate the author sort field after the download"
      tickets: [1510335]

    - title: "Fix a regression that broke the heuristic used to detect cover images in some EPUB files that do not specify their cover metadata"
      tickets: [1509642]

    - title: "Edit book File List: Fix pre-selection of filename when renaming a file in the root"

    - title: "Tag mapper: Fix bug when replacement tag has comma in it and the replacement rule is not the last rule"

  improved recipes:
    - Sueddeutsche.de
    - NRC
    - Various Polish news sources
    - Pocket

- version: 2.41.0
  date: 2015-10-16

  new features:
    - title: "Edit book: Allow editing an unzipped EPUB (a folder) as a book"
      description: "Useful if you wish to store your e-book in a version control system and edit it directly with the calibre e-book editor (File->Open folder as book)"

    - title: "Edit book: Allow easily removing items from the popup menu for the 'Insert tag' button"

    - title: "Make Tag browser more usable with keyboard shortcuts. Configure the keyboard shortcuts in Preferences->Keyboard->Tag browser"

    - title: "ToC editor: Add context menu item to change selected entries to upper case"

  bug fixes:
    - title: "Edit book: Preview panel: Render in XHTML mode. Fixes SVG elements using a global SVG namespace not rendering"

    - title: "Tag browser: Fix clicking on first-letter groups for series not working"

    - title: "DOCX output: Ignore corrupted images in the input instead of erroring out on them"

    - title: "E-book viewer: Fix keyboard shortcut to toggle table of contents not working when ToC window is made floating"
      tickets: [1503910]

    - title: "Allow ebook-metadata.exe to work with read-only files when no options are specified to change metadata"
      tickets: [1504345]

    - title: "Tag mapper: When the replacement tag contains commas, create multiple tags instead of replacing the comma with a semi-colon"
      tickets: [1503526]

    - title: "HTMLZ output: Set the HTML <title> to the book title"
      tickets: [1502592]

  improved recipes:
    - Boston Globe
    - Wall Street Journal
    - Komputerra
    - Spectator Magazine
    - The Independent

- version: 2.40.0
  date: 2015-10-02

  new features:
    - title: "A new tool to apply Tag mapper rules to existing books in the library. To use it, go to Preferences->Toolbars and add the tool to the toolbar"

    - title: "Kindle driver: Detect books in Amazon's new KFX format present on e-ink Kindle devices"
      description: "Note that this only detects KFX books and allows you to delete them. You cannot copy them to your calibre library. Doing so would be pointless anyway, as KFX books are specialised for individual devices. Instead go to your 'Manage my content' page on Amazon.com and download them from there -- this will give you a regular AZW3 file you can add to calibre"
      tickets: [1496206]

  bug fixes:
    - title: "TXT output: Do not fail when input contains HTML comments with double hyphens in the comment text"

    - title: "E-book polishing: Show a confirmation if the user selects both the add and remove jacket actions"

    - title: "Edit book: Fix order of checkboxes in filter style information tool is random"

    - title: "PDB input: Ignore malformed metadata records"
      tickets: [1499878]

    - title: "Revert change in previous release to workaround broken xdg-open on Linux. Apparently xdg-open is so badly broken that working around it is not possible"
      tickets: [1500226]

    - title: "ZIP output: Fix system encoding being used instead of UTF-8 for HTML files"
      tickets: [1499514]

  improved recipes:
    - The Philosopher's Magazine
    - Harper's Magazine
    - Ambito
    - Perfil
    - Telam
    - Infobae.com
    - La Nacion
    - Clarin

- version: 2.39.0
  date: 2015-09-25

  new features:
    - title: "Implement tag mapping to automatically filter/transform tags when adding books or downloading metadata"
      description: "Now you can create simple rules that will filter/transform the tags when adding new books or downloading metadata for books. To setup the rules, go to Preferences->Adding books and Preferences->Downloading metadata"
      type: major

    - title: "Kobo driver: Support for newly firmware version 3.18"
      tickets: [1499340]

    - title: "Edit book: Add a setting to control icon size for the toolbars (Preferences->Toolbars)"

  bug fixes:
    - title: "Edit book: Check Book: Fix automatic correction of missing unique id sometimes not working"
      tickets: [1498207]

    - title: "Edit book: Fix (hopefully) View->Browse images in books sometimes not showing changed images"

    - title: "CBZ metadata: Do not fail to read metadata if the volume is not a valid number"
      tickets: [1495651]

    - title: "Content server: Fix error in /mobile page if one of the books has metadata with ASCII control codes in it"
      tickets: [1491082]

    - title: "Linux: Workaround for systems with broken xdg-open implementations that do not unquote URLs before passing them to applications"

    - title: "Get books: Update cdp.pl store for website changes"

    - title: "HTMLZ output: Fix HTML files being created with system encoding instead of UTF-8"
      tickets: [1499514]

  improved recipes:
    - TIME Magazine
    - The Atlantic
    - Instapaper
    - Trouw

  new recipes:
    - title: Various Korean news sources
      author: Hoje Lee

    - title: Presseportal DE
      author: Volker Heggemann

- version: 2.38.0
  date: 2015-09-11

  new features:
    - title: "Add support for Kobo Touch 2"

    - title: "Edit book: Add a tool to check external links (links pointing to websites). Can be accessed via Tools->Check external links"

    - title: "Edit book: Add an option to turn off drag and drop editing of text (Preferences->Editor)"

    - title: "Two new icon themes: Primo+ and Black Edition (Preferences->Interface->Look & feel->Change icon theme)"

  bug fixes:
    - title: "Copy to library: Fix author sort/link values not being copied when copying a book with an author not present in the destination library"
      tickets: [1492685]

    - title: "When inserting metadata jackets do not set media for the stylesheet. This prevented the stylesheet from working with some reader devices"

    - title: "Copy to library: Fix conversion options not being copied when copying books between libraries"

  improved recipes:
    - Strategy+Business
    - Ars Technica
    - National Geographic
    - New York Times Technology Beat

  new recipes:
    - title: Karsi Gazete
      author: Voltran

- version: 2.37.1
  date: 2015-09-04

  new features:
    - title: "Driver for the Lark Freebook reader device"
      ticket: [1491543]

    - title: "A redesigned busy spinner -- why should icons get all the love?"

    - title: "When merging book records, show more information about the target book record"
      tickets: [1490343]

    - title: "A new icon theme 'Dark Blue' (Preferences->Interface->Look & feel->Change icon theme)"

    - title: "Add a check box to control copying e-book files when duplicating book records via the Add Empty Book dialog"

  bug fixes:
    - title: "Edit book: Check Book: Fix automatic fixing of unsafe ids not working if the file containing the unsafe also needs to be fixed for an unsafe filename"
      tickets: [1491728]

    - title: "E-book viewer: Informative error message for themes button when no themes have been created"

    - title: "Fix a regression that caused the library switch entries at the bottom of the library menu to not work when there are many libraries"
      tickets: [1490096]

    - title: "Get books: Update Amazon EU store plugins for website changes"


- version: 2.36.0
  date: 2015-08-28

  new features:
    - title: "Icon themes: Change the calibre icons easily via icon themes"
      type: major
      description: "You can now change the icons calibre uses easily via Preferences->Interface->Look & feel->Change icon theme. Several icon themes are already available for calibre"

    - title: "When adding empty books to the library also allow creating duplicates of the current book, with all metadata copied. To use right click the Add books button and select 'Add empty books'"
      tickets: [1488398]

    - title: "Driver for the Unusual Sapiens V2 and Adlibris Letto readers"
      tickets: [1486531, 1484585]

    - title: "Kobo driver: Add support for firmware 3.17.3"

    - title: "E-book viewer: Add a command line option to open the previously read book when starting up"
      tickets: [1483313]

    - title: "Edit book: Live CSS: Allow copying of CSS rules by right clicking on the Live CSS panel"
      tickets: [1485237]

    - title: "Linux installer: Install application and mimetype icons in multiple sizes"
      tickets: [1489654]

  bug fixes:
    - title: "Amazon metadata download: Support for yet another variant of Amazon cover image markup"

    - title: "E-book viewer: Fix --open-at sometimes giving inaccurate results (depends on speed of book loading)"

    - title: "EPUB metadata: Add workaround for bug in PocketBook firmware which causes it to fail to read series metadata if the series number is declared before the series"
      tickets: [1488113]

    - title: "Fix user defined template functions leaking from one library to another when switching libraries/using copy to library"
      tickets: [1487949]

    - title: "Fix a regression in the previous release that could cause the marked books icon to be incorrectly rendered next to the row number"
      tickets: [1486398]

    - title: "Edit book: Check book: Fix incorrect links that consist only of an anchor and no filename not being detected"
      tickets: [1485670]

    - title: "AZW3 output: Fix large tables (with many columns) not rendering correctly on Kindle devices"
      tickets: [1489495]

  improved recipes:
    - .tyzden
    - Forbes
    - Clarin


- version: 2.35.0
  date: 2015-08-14

  new features:
    - title: "Kobo driver: Add support for the new firmware version 3.17"
      tickets: [1484516]

    - title: "E-book viewer: Allow setting the number of pages per screen separately for portrait and landscape modes"
      tickets: [1483313]

  bug fixes:
    - title: "DOCX input: Fix a regression in the previous release that broke conversion of some documents that specify vertical alignment in absolute units"

    - title: "Book list: Fix the current row number being partially cutoff on some windows 10 machines"
      tickets: [1482993]

    - title: "Fix 'stopping Content server' message popping up repeatedly even when it is closed while the Content server has not fully stopped"

    - title: "Conversion: Fix error when converting a file that uses media queries with comments in the media selector"
      tickets: [1482983]

  improved recipes:
    - American Spectator
    - South China Morning Post

  new recipes:
    - title: 3D News and iXBT.com
      author: bugmen00t

- version: 2.34.0
  date: 2015-08-07

  new features:
    - title: "Amazon metadata download: Add support for Amazon.nl. To use it go to Preferences->Metadata download and configure the Amazon plugin to use Netherlands as the source"

    - title: "Catalogs: Add an option to not add the generated catalog to the library"
      tickets: [1481529]

    - title: "E-book viewer: Improve performance of hyphenation (by updating the version of the hyphenation library it uses)"

  bug fixes:
    - title: "DOCX input: Add support for text whose vertical position is adjusted by offsets from the baseline"

    - title: "DOCX output: Handle length and percentage values for vertical-align in the input document"
      tickets: [1480300]

    - title: "Edit book: Check Book: Fix automatic correction of invalid ids not updating the idrefs in the spine for ids in the manifest of the OPF file"
      tickets: [1479462]

    - title: "E-book viewer: Fix printing to PDF could result in filenames with characters not supported by Windows"
      tickets: [1478515]

    - title: "E-book viewer: Also fix a bug in the hyphenation algorithm that could cause the word 'undefined' to be mangled during hyphenation"
      tickets: [1478292]

    - title: "ODT input: Fix custom styles with a dot in their name not being inherited"
      tickets: [1478346]

  improved recipes:
    - Daily Express
    - The New Yorker
    - XKCD
    - Wired Magazine
    - Wired UK

- version: 2.33.0
  date: 2015-07-24

  new features:
    - title: "Driver for SONY DPT-S1"
      tickets: [1476093]

    - title: "Edit book: When showing suggestions for mis-spelled words, also show suggestions from user created word lists"

    - title: 'Edit book: Check Book: Add a check for "invalid" ids'

  bug fixes:
    - title: "Conversion: Ignore stylesheets linked via media queries that use device specific features"
      tickets: [1476089]

    - title: "Fix covers not being read from some TXTZ files"
      tickets: [1475984]

    - title: "ODT input: Add support for numbered lists that do not start numbering at 1"
      tickets: [1475846]

  improved recipes:
    - msnbc.com
    - Houston Chronicle

- version: 2.32.1
  date: 2015-07-17

  new features:
    - title: "E-book viewer: Automatically save the current reading position every ten seconds. Prevents loss of reading position on crash/forced shutdown"
      tickets: [1473737]

    - title: "Edit book: Check Book: Add checks for missing OPF version and ToC references and for text placed directly inside the <body> tag"
      tickets: [1468649]

    - title: "calibredb: Add a new search sub-command that can be used to generate a list of book ids from a search expression"

    - title: "Tag editor: Place the keyboard focus on the last edited field"
      tickets: [1473140]

    - title: "Edit metadata dialog: When clicking Next and Previous preserve the current tab of the edit comments widget"
      tickets: [1467129]

    - title: "Linux: Various fixes to make calibre work when compiled against the latest versions of Qt and PyQt"
      tickets: [1471083]

    - title: "Edit book: Allow drag and drop of files onto dock icon on macOS"

  bug fixes:
    - title: "There was a regression in 2.32.0 that caused conversion to PDF to fail, the fix for this was released in 2.32.1"

    - title: "E-book viewer: Fix a regression in the previous release that caused the maximum text width setting in full screen mode to be ignored when switching from normal to full screen"
      tickets: [1467164]

    - title: "Fix error in template dialog when using {id} in send to device preferences"
      tickets: [1474513]

    - title: "Edit book/Book polishing: Fix EPUB books with OPF files that use a non-default namespace for the OPF namespace being corrupted"
      tickets: [1471419]

    - title: "macOS: Workaround for Qt 5 regression that causes any errors during startup to be hidden behind the splash screen"
      tickets: [1473017]

    - title: "Conversion: Fix incorrect relative URLs being generated when an HTML or CSS file is placed higher in the folder hierarchy than the OPF file"
      tickets: [1474287]

    - title: "FB2 output: Fix error when using the sectionize with ToC option and the input documents Table of Contents contains multiple items pointing to the same HTML file"
      tickets: [1471125]

    - title: "Conversion: Fix error when input document contains a font size exactly one point away from the base size"
      tickets: [1472291]

    - title: "Device drivers: Handle devices with undecodeable filenames in their filesystem. Simply ignore those files"
      tickets: [1467433]

    - title: "Fix Cmd+Left/Right keyboard shortcut not working when editing items in the book list on macOS"
      tickets: [1469554]

    - title: "Fix corrupted text in the jobs list on some non-English Windows installs"
      tickets: [1469549]

    - title: "Edit book: Workaround for a Qt regression that caused 'See what changed' after a search and replace on macOS causing the application to become unresponsive"
      tickets: [1466732]

    - title: "Edit book: Fix smarten punctuation not working for books with non-ASCII characters in internal file names on macOS"

  improved recipes:
    - Harvard Business Review
    - Psychology Today
    - NRC Handelsblad
    - Entrepeneur Magazine
    - 20 minutes
    - Economia
    - Accountancy Age
    - Jakarta Post
    - Foreign Affairs
    - Spectator Magazine
    - Daily Express
    - The Onion AV Club
    - Metro UK

  new recipes:
    - title: Slate Star Codex
      author: Ned Letcher
    - title: Hurriyet
      author: Adrian Tennessee

- version: 2.31.0
  date: 2015-06-19

  new features:
    - title: "E-book viewer: Make the search engine used for searching for selected text configurable (in the Miscellaneous section of the viewer preferences)"

  bug fixes:
    - title: "E-book viewer: Fix dragging to select text with the mouse causing the page to slide sideways in paged mode, if the mouse leaves the text area"
      tickets: [1464862]

    - title: "E-book viewer: Fix transitioning between full screen mode and normal mode sometimes causing current position to not be preserved"
      tickets: [1466082]

    - title: "AZW3 input: Ignore incorrect text encoding (incorrectly encoded bytes are now replaced by placeholders) instead of erroring out"
      tickets: [1465769]

    - title: "Get books: Update Legimi and CDP store plugins for website changes"

    - title: "Fix Cybook Nolimbook not being detected in Linux and macOS"
      tickets: [1464382]

    - title: "DOCX output: Fix internal hyperlinks being ignored when they point to a HTML file whose <body> element has an id"
      tickets: [1464086]

    - title: "Edit book: Fix groups in replace template being interpreted backwards when search direction is up"

    - title: "Searching: When search as you type is active, do not change automatically change focus to the book list when searching, unless the user presses Enter"
      tickets: [1463042]

    - title: "Font subsetting: Fix subsetting removing some needed ligatures when subsetting some Arabic fonts"

    - title: "Prevent errors when testing email sending even if stderr on the host machine is broken"

  improved recipes:
    - Baltimore Sun
    - El Mercurio Chile
    - Sydney Morning Herald

  new recipes:
    - title: Various Ukranian news sources
      author: rpalyvoda

- version: 2.30.0
  date: 2015-06-05

  new features:
    - title: "An option to auto-convert a book on adding even if it is already in the output format (Preferences->Adding Books)"
      tickets: [1460477]

    - title: "E-book viewer: If there are entries in the Table of Contents that are long enough to be truncated, display the full text in a popup menu when the mouse hovers over the item"
      tickets: [1460093]

    - title: "News download: Add support for turning off SSL certificate verification in individual recipes"

    - title: "Kobo driver: Support for upcoming firmware version 3.16"
      tickets: [1461964]

  bug fixes:
    - title: "DOCX output: Fix aspect ratio of images being distorted when the input document specifies image width but not height or vice-versa"
      tickets: [1455502]

    - title: "DOCX output: Fix extra page breaks being inserted in some situations"
      tickets: [1455502]

    - title: "LIT input: Fix smarten punctuation not working for text (as opposed to HTML) based LIT files"
      tickets: [1460998]

    - title: "EPUB metadata: Fix extraction of cover image from EPUB 3 files that do not use EPUB 2 backward compatible markup and that have incorrect cover page markup as well"
      tickets: [1461321]

    - title: "Book details panel: On Windows use only \\ as a path separator when copying file paths"

    - title: "Edit book: Fix Saved searches panel not working well with very long search/replace expressions"

    - title: "macOS: Fix changing preferences causing 'Email to selected recipients...' appearing multiple times in the Connect/share menu"
      tickets: [1460089]


- version: 2.29.0
  date: 2015-05-29

  new features:
    - title: "Allow opening the full Tag editor dialog directly from the book list by holding down the Shift key while starting an edit of a tag-like field. For example, click on the tags field for a book and press Shift-F2"

    - title: "Tag browser: Allow undoing the deletion of items in the Manage categories window"

    - title: "calibredb add: Allow setting arbitrary identifiers, not just ISBN"
      tickets: [1458620]

    - title: "Add a 'Retry' button to the news download failed error message"
      tickets: [1458076]

  bug fixes:
    - title: "DOCX output: Detect the common idiom of placing centered images as inline images inside a containing centered block and render the resulting image as a floating centered image in the DOCX file"
      tickets: [1455502]

    - title: "DOCX output: Fix incorrect handling of bold/italic in paragraphs where the majority of text is either bold or italic instead of normal"

    - title: "Table of Contents editor: Fix save/load of settings in the XPath wizard not working across restarts"

    - title: "Get books: Update the Kobo Store plugin for website changes"

  improved recipes:
    - Popular Science
    - General Knowledge Today
    - Scientific American
    - Wired Magazine


- version: 2.28.0
  date: 2015-05-15

  new features:
    - title: "Conversion of all e-book formats to Microsoft Word (DOCX) files"
      type: major
      description: "Supports conversion of text styles, images, lists, tables, embedded fonts, etc. Produces DOCX files compatible with Microsoft Word 2007 or newer. Note that this code is very new, so there will likely still be kinks that will be worked out in the coming weeks"

    - title: "Add keyboard shortcuts (Ctrl+Right, Ctrl+Left) to switch between virtual library tabs"
      tickets: [1453497]

    - title: "When sending email using GMX pause for five minutes between books, to prevent GMX from blocking the account. The delay can be configured via Preferences->Tweaks"

  bug fixes:
    - title: "Open with: Fix application icons in XDG_DATA_HOME on Linux not being found and fix unhandled error when choosing non-executable files as applications"

    - title: "AZW3 output: Remove duplicate anchors to workaround some Kindle renderers using the last occurrence of an anchor as the target instead of the first"
      tickets: [1454199]

    - title: "Fix language definition on body tag being ignored during conversion"

    - title: "Edit book: When importing multiple files into the book, import them in the order sorted by their filenames instead of in random order"

    - title: "E-book viewer: Fix print to pdf not working on some Windows systems with non-ASCII usernames and non-UTF-8 system locales. Also make the print to pdf dialog a little easier to use"

    - title: "Edit book: Fix ToC editor window not remembering its last used size"

  improved recipes:
    - Field and Stream
    - Linux Magazine
    - Brand Eins
    - Courrier International
    - Wired Magazine
    - The Onion


- version: 2.27.0
  date: 2015-05-01

  new features:
    - title: "Edit metadata dialog: Add a clear button for the publisher"
      tickets: [1449105]

    - title: "DOCX input: Add option to not insert page breaks between endnotes"
      tickets: [1448433]

    - title: "calibredb list: Allow outputting the book languages as well"
      tickets: [1445853]

    - title: "Italian translation of Quick Start Guide"

    - title: "Embed metadata: When embedding metadata fails for some books, add an option to show the failed books in the book list"
      tickets: [1449076]

    - title: "Animate the main toolbar when a device is connected/disconnected, to indicate that the contents of the toolbar have changed"

  bug fixes:
    - title: "E-book viewer: When printing, print to a PDF file instead of directly to the printer. This fixes printing not working on some systems"
      tickets: [1448330]

    - title: "AZW3 input: Handle KindleGen produced AZW3 files that do not use normal HTML anchors for linking"

    - title: "Fix too many open files errors that could occur in a few places on macOS"

    - title: "Do not allow user to hide all columns in book list via the context menu, as restoring them becomes difficult"

- version: 2.26.0
  date: 2015-04-24

  new features:
    - title: "Driver for the soon to be released Kobo Glo HD"

  bug fixes:
    - title: "Do not use a separate process to draw the splash screen. This might fix the issue of calibre randomly freezing on startup on a few Windows systems"

    - title: "MOBI ouput: Fix: First-letter applied to elements containing a comment causing conversion to fail"

    - title: "Properly display names of libraries containing the ampersand character"
      tickets: [1447188]

    - title: "When sorting filenames in comics treat the file extension as a secondary sort key. Fixes xyz.jpg sorting after xyz_1.jpg"

    - title: "Fix a regression in 2.25 that broke the search & replace wizard in the conversion dialog when converting a book with multiple formats"

    - title: "Content server: Fix errors when library contains enough virtual libraries to cause grouping"
      tickets: [1446282]

    - title: "Manage tags dialog: Fix setting a tag to empty causes an unhandled error"
      tickets: [1446318]

    - title: "E-book viewer: Fix a regression that caused the viewer to occasionally skip the last page in a chapter when displaying more than one pages per screen and scrolling by screen"

    - title: "Edit book: Fix open OPF file not being refreshed when deleting items from the file browser"
      tickets: [1445634]

  improved recipes:
    - WirtschaftsWoche Online
    - Wired
    - CNN

  new recipes:
    - title: Discover Magazine Monthly
      author: Michael Marotta

- version: 2.25.0
  date: 2015-04-17

  new features:
    - title: "Edit book: Make embedding fonts using the manage fonts dialog easier. You can now double click on a font family to see what faces for that family area available on your computer and install new fonts directly from the dialog"

    - title: "Book details panel: Allow deleting tags/series/publisher/etc. by right clicking on the link in the book details panel"
      tickets: [1442925]

    - title: "E-book viewer: Allow expanding/collapsing all items in the Table of Contents view by right clicking"

    - title: "When using the View specific format action add an 'Open with' button to choose a specific program to view the specified format"

    - title: "Fetch news: Add API to allow recipe writers to easily resolve internal links to point to the downloaded versions of articles"

    - title: "DOCX input: Add support for DOCX files created by Word 2013 in 'Strict' mode"

    - title: "When getting cover from comic files, use smart filename sorting to find the first filename, recognizing numbers inside the filenames"

  bug fixes:
    - title: "E-book viewer: When displaying multiple pages per screen fix whole screen scrolling so that it works as expected even at the end of the file, when their might be fewer pages left than would fill the screen"

    - title: "DOCX input: Automatically resize large images used as bullets in lists, to compensate for the fact that HTML renderers do not do this"

    - title: "Book list: Prevent Yes/No columns from making the minimum row height too large"

    - title: "Template language: Fix raw_field() function returning incorrect values for lists"

    - title: "Edit book: Fix book locale changing when OPF edited if OPF contains a country code in addition to a language code"

    - title: "Edit book: Fix escaped HTML tags in the comments metadata being reported as mis-spelled words"
      tickets: [1441925]

    - title: "Edit book: Fix regression that caused copying of non-breaking spaces to not work when using the keyboard shortcuts"

    - title: "Open with: Fix open with not working for programs from the Microsoft Office suite"

  improved recipes:
    - Die Zeit
    - NZZ Webpaper
    - Arcamax

  new recipes:
    - title: MIT Technology Review Magazine
      author: Michael Marotta

    - title: The Codeless Code
      author: April King

- version: 2.24.0
  date: 2015-04-10

  new features:
    - title: "E-book viewer: Add an option to not save the bookmarks inside EPUB files, under the Miscellaneous section of the viewer preferences"

    - title: "Manage User categories: Allow restricting the visible items to only those present in the current Virtual Library (if any)"

    - title: "Book details panel: Allow copying full path to e-book files by right clicking on the format link"
      tickets: [1437756]

  bug fixes:
    - title: "Edit book: Fix GIF format images being corrupted when using the builtin image editor to make changes to them"
      tickets: [1440398]

    - title: "Edit book: When dragging and dropping files to re-order them in the file browser, fix the final order being dependent on the order the files were selected in"
      tickets: [1440598]

    - title: "Conversion: Fix error when converting a document that contains an invalid function based CSS selector without parentheses"
      tickets: [1440278]

    - title: "Edit book: Fix regression that caused pressing Alt+X to type unicode characters to not work"

    - title: "Device view: Preserve position in list of books when deleting books from the device view"

    - title: "Make the context menu for the book details popup window work the same way as for the book details panel"

    - title: "Get books: Update Amazon store plugin for website changes"

    - title: "PDF metadata: When choosing between reading metadata from the Info dict and the XMP block, consider both the MetadataData and the ModifyDate in the XMP block, since there exist PDF metadata writing tools that update one and not the other"
      tickets: [1440304]

    - title: "Fix a regression that caused e-book viewer to remember the state of the Table of Contents panel when quitting on macOS"
      tickets: [1440444]

    - title: "Prevent Enter key on Manage authors/tags/etc. dialogs from closing the dialog"
      tickets: [1440146]

  improved recipes:
    - Le Temps
    - United Daily
    - Liberty Times
    - Apple Daily
    - China Times
    - House News
    - Providence Journal
    - Harvard Business Review

- version: 2.23.0
  date: 2015-04-03

  new features:
    - title: "Allow adding an empty e-book in various formats to existing book records by right clicking the Add books button"

    - title: "Add ability to create additional empty formats to the 'Add empty book' command"

    - title: "News download: Add API to cleanly abort the download of an article during the preprocess stage based on the article's contents"

    - title: "Update the version of Qt bundled with calibre to 5.4.1. This fixes various minor bugs, most notably, improving text rendering on Linux"

  bug fixes:
    - title: "MOBI input: Fix links not working in viewer for MOBI files that contain anchors placed on linebreak elements"
      tickets: [1439450]

    - title: "Book details panel: Fix copying path link by right clicking on it not working"
      tickets: [1437756]

    - title: "Fix a regression that caused importing of a single book from a directory to fail if the directory has no e-book files in it"

    - title: "Column icons: Fix apostrophes in icon filenames causing errors"
      tickets: [1436690]

    - title: "Edit book: Fix a regression that caused Remove unused CSS to fail on invalid CSS selectors, instead of ignoring them"

    - title: "Open with: Fix open with failing to get list of default programs on Windows if the registry contains missing ProgIDs"
      tickets: [1434990]

  improved recipes:
    - Esquire
    - Courrier International
    - CNET
    - Tagesschau

- version: 2.22.0
  date: 2015-03-20

  new features:
    - title: "Book list: When editing data in the book list directly, expand the editor widget to use all available width if the data does not fit inside the current column width"

    - title: "Edit book: When re-opening a previously edited book, restore all open files and the cursor position. Can be disabled in Preferences->Main window"

    - title: "Advanced search builder: Allow using days/weeks/months/years when building a date based search with number of days ago"
      tickets: [1431695]

    - title: "Amazon metadata download: Speed-up metadata download from Amazon.com when an ASIN is specified by trying the product page directly first instead of running a search"

    - title: "Implement updating metadata in DOCX files"

  bug fixes:
    - title: "ODT input: Add support for intra-document cross-references"
      tickets: [1429271]

    - title: "PDF output: Fix incorrect encoding of ASCII control characters and some Chines characters in metadata and Table of Contents strings"
      tickets: [1433848]

    - title: "Amazon metadata download: Work around Amazon server problems where it does not return Kindle Editions in search results when not logged in"
      tickets: [1433125]

    - title: "Fix Manage authors dialog causing current search in the book list to be cleared"
      tickets: [1432324]

    - title: "Conversion: Fix a regression in 2.21 that caused conversion to fail for books with invalid pseudo-class CSS selectors"
      tickets: [1432267]

    - title: "Content server: Fix OPDS categories not showing books for composite column categories if the column contains a colon"

    - title: "Single convert dialog: Only write metadata updates if metadata actually changed. Also show a nicer error message when a file is locked by another process"

    - title: "Open with: Fix error when scanning for default programs on Windows for some file types"

    - title: "Edit book: Fix Preview panel sometimes not working when opening multiple HTML files one after the other very quickly"

  improved recipes:
    - Wired Daily

- version: 2.21.0
  date: 2015-03-13

  new features:
    - title: "Allow opening e-book files and covers in external applications by simply right clicking on them in the Book details panel"
      type: major
      description: "Now, you can right click on an e-book format or the cover in the Book details panel, and open it with any application installed on your computer. calibre will automatically present you with a list of application capable of opening the file. Simply choose one, or if your particular application is not auto-detected, you can browse for it manually"

    - title: "Tag browser: Make rename and delete for items in the Tag browser restrict themselves to the current Virtual library (if any). There is also an additional menu entry you can use to rename and delete across all books while in a Virtual library"

    - title: "Conversion: Use a new (written from scratch) implementation of CSS Level 3 selectors that fixes various bugs in handling of the more advanced/uncommon CSS selectors such as nth-last-child()"

    - title: "Edit book: Allow restoring of disabled confirmation prompts in preferences and add a confirmation when removing Saved searches"

    - title: "Edit ToC button: Remember the last used e-book formats"

  bug fixes:
    - title: "E-book viewer: Fix regression that prevented pasting of text with formatting from the viewer"
      tickets: [1428018]

    - title: "Table of Contents editor: Fix selecting a location inside a file and then clicking on another file causes the previous location to be used in the new file"
      tickets: [1428212]

    - title: "DOCX input: Fix incorrect bold font weight being used for heading styles even if the style definition does not specify bold"
      tickets: [1430831]

    - title: "AZW3 input: Fix a bug that prevented conversion of AZW3 files that contained an empty CSS media block"
      tickets: [1426220]

    - title: "PDF output: Fix incorrect rendering of text in elements that use font-variant:small-caps and also have children"
      tickets: [1425094]

    - title: "Get books: Update Amazon Europe, Empik and CDP store plugins"

    - title: "PDF output: Fix incorrect conversion of source document that specify dir='rtl' on the root element"
      tickets: [1429292]

    - title: "PDF output: Ignore unparseable links instead of aborting the conversion on them"
      tickets: [1429282]

    - title: "Fix reading metadata from filenames tester not working for dates before 1900"
      tickets: [1424607]

    - title: "Linux binary install: Fix SSL CA certificates not being detected on Fedora based distributions"

    - title: "Books list: Fix column alignment incorrectly propagating when changing libraries"

    - title: "FB2 input: Do not put a border around images"

    - title: "Fixes for various incompatibilities with (Py)Qt 5.4.1 which is used by some calibre distro packages on Linux"

    - title: "Fix error when running calibredb backup_metadata on a library that contains book records with no path information"

    - title: "Edit book: Fix extra search being hidden when removing a Saved search"

    - title: "Fix a regression in 2.20 that prevented some changes to per-library preferences from being saved"

    - title: "Linux installer: Do not register application/octet-stream as one of the mimetypes calibre can handle"

  improved recipes:
    - Spektrum der Wissenschaft
    - New Musical Express
    - The Daily Mirror

  new recipes:
    - title: Pando Daily
      author: Darko Miletic

- version: 2.20.0
  date: 2015-02-20

  new features:
    - title: "ODT input: Add backlinks for footnotes/endnotes and improve their formatting"
      tickets: [1421056]

    - title: "Windows: When running on Windows 8 and newer register with default programs so that users can more easily select calibre or its viewer/editor as the default program to launch e-book files"
      tickets: [1422248]

    - title: "Make publishers in the book details panel clickable"
      tickets: [1419313]

    - title: "Edit book Spell check: For mis-spelled words of the form one:two offer one: two as a suggested correction"
      tickets: [1422133]

  bug fixes:
    - title: "Fix a regression that caused incorrect results when searching on numeric or date fields with relational operators"
      tickets: [1423390]

    - title: "DOCX input: Fix regression in 2.19 that broke handling of text with leading or trailing non-breaking spaces/en-spaces/quad-spaces"
      tickets: [1422844]

    - title: "Amazon metadata download: Update plugin for website changes to Amazon Brazil"
      tickets: [1420629]

    - title: "E-book viewer: Fix footnote popup window not displaying entire footnote if footnote contains element with page-break-after set"

    - title: "Edit book: Reports tool: Fix double clicking on an unused image causing an error"

    - title: "Tag browser: Fix incorrect grouping of words starting with graphemes, such as ash"
      tickets: [1422116]

    - title: "Conversion: Ignore incorrectly URL encoded links instead of erroring out on them"
      tickets: [1421996]

    - title: "E-book viewer: Remove soft-hyphens when copying text to clipboard"

  improved recipes:
    - aktualne.cz


- version: 2.19.0
  date: 2015-02-06

  new features:
    - title: "Quick view window: Allow the Quickview window to be docked into the main calibre window"
      tickets: [1415714]

    - title: "Add empty book: Allow setting the title as well as the author and series for the added empty book records"

    - title: "Windows driver for Grammata Papyre 602"
      tickets: [1418207]

    - title: "Edit book: Add an option to turn off auto-completion of closing tags"

    - title: "Allow adding a description for custom columns"
      tickets: [1417219]

    - title: "Book details panel: Allow any identifier of the form URL+number to become a clickable link. For example: URL1:http://example.com"

  bug fixes:
    - title: "Conversion: Convert entities that reference non-BMP unicode codepoints on Windows and macOS correctly. Linux was not affected by this bug"
      tickets: [1417327]

    - title: "Edit book: Do not auto-complete the closing tag when typing the / key inside an existing tag"
      tickets: [1417700]

    - title: "Fix Booken Lev e-book reader not being detected in macOS and Linux"
      tickets: [1417325]

    - title: "DOCX input: Change handling of sequences of space characters to more closely follow Microsoft Word"

    - title: "Edit book: Fix Table of Contents editor not remembering its saved state across calibre sessions"

    - title: "Edit book: Disallow drag and drop of documents onto the preview panel to workaround crashing bug in Qt"
      tickets: [1416752]

    - title: "E-book viewer: Fix current page not being preserved when opening and then immediately closing the footnote window"
      tickets: [1416526]

    - title: "PDF output: Fix incorrect encoding for some Chinese characters in the PDF Outline (Table of Contents)"
      tickets: [1416222]

  improved recipes:
    - FAZ.net
    - Indian Express
    - CNN

- version: 2.18.0
  date: 2015-01-30

  new features:
    - title: "Edit book: Add 'Style classes' and 'Links' report pages to the Reports tool"

    - title: "Tag browser: Allow expanding all children of a node by right clicking and choosing 'Expand all'"
      tickets: [1414315]

    - title: "Preferences: Re-arrange the controls to avoid needing to move the mouse from the top to the bottom of the dialog when closing the dialog after making some changes"

  bug fixes:
    - title: "Save to Disk: Fix a bug where when multiple books are being saved to disk, if the save to disk template results in identical filenames, the filenames were not being properly disambiguated"

    - title: "Preferences: Use a dialog instead of a main window to workaround Qt's poor handling of full screen mode on macOS Yosemite"
      tickets: [1414497]

  improved recipes:
    - Al Jazeera in English

- version: 2.17.0
  date: 2015-01-23

  new features:
    - title: "Edit book: A new reports tool that shows a summary of files, images, words, characters and styles used in the book"
      description: "The reports tool is a great way to get an overview of the different parts of your book. Every line in the report is hot-linked, double clicking it jumps to the places in the book where that item is used"
      type: major

    - title: "Edit book: Allow adding the 'Manage Snippets' action to the toolbar, for easy access"

  bug fixes:
    - title: "Update Ozon.ru metadata download plugin for website changes"
      tickets: [1407265]

    - title: "E-book viewer: Fix regression in 'flow' mode that caused horizontal scrollbar to be rendered as vertical"
      tickets: [1409916]

    - title: "Fix a regression that prevented adding of books from sub-folders if the folder contained only an OPF file and no actual e-book files"
      tickets: [1411240]

  improved recipes:
    - Salon.com
    - The Onion
    - Haaretz
    - Jot Down
    - Le Monde Diplomatique
    - tyzden
    - The AJC

  new recipes:
    - title: TheAtlantic.com
      author: ebrandon

    - title: The Conversation
      author: Krittika Goyal

    - title: Apple Daily (TW)
      author: Yulun Shih

- version: 2.16.0
  date: 2015-01-10

  new features:
    - title: "Edit book: Add support for snippets -- small pieces of text that are often re-used"
      description: "You can now create your own snippets and insert them into the text with only a few keystrokes. The snippets include support for placeholders that you can jump between. See https://manual.calibre-ebook.com/snippets.html for details"
      type: major

  bug fixes:
    - title: "Edit book: When importing files and the book has an orphaned entry in the manifest for that file, but the file itself is not present, rename the file instead of erroring out"
      tickets: [1407860]

    - title: "Book details panel: Fix author links with URL schemes other than http or file preventing context menu from working"
      tickets: [1408174]

    - title: "PDF output: Make the minimum height for headers and footers scale with the base font size"

    - title: "Fix a typo that prevented the Cybook Muse from being detected on some computers"
      tickets: [1407435]

    - title: "Fix regression in 2.15 that broke calibre on macOS 10.7 and 10.8"
      tickets: [1407102]

  improved recipes:
    - Various updated Turkish news sources
    - tyzden
    - Sueddeutsche Zeitung

  new recipes:
    - title: Ajans Firat and Edebiyat Haber
      author: asalet_r

- version: 2.15.0
  date: 2015-01-02

  new features:
    - title: "Edit book: Add auto-completion for links"
      description: "Now as you type the filename in href or src attributes, a popup with possible completions is displayed. See https://manual.calibre-ebook.com/edit.html#auto-complete for details"
      type: major

    - title: "Edit book Function mode: Add builtin functions to change case of text, ignoring HTML tags in the matched text"

    - title: "Edit book - Check Book: Allow auto-fixing of file not in spine errors"

    - title: "Driver for Papyre 624 ml"
      tickets: [1405901]

    - title: "Conversion: Convert images encoded as data URIs in the input document into normal images, as some e-book reader software cannot handle data URIs"
      tickets: [1405803]

  bug fixes:
    - title: "AZW3 input: Handle AZW3 files that contain Amazon specific CSS media queries"
      tickets: [1406708]

    - title: "Fix regression that broke the markdown-calibre command"

    - title: "Edit book - Show what changed: Fix scrollbar sometimes not visible if the differences contain a few, very long lines. Also fix the line numbers being partially obscured on some systems (depending on the font used)"
      tickets: [1406056]

    - title: "Edit book: Fix a regression that caused the Home key to not move to the start of the line on lines containing un-indented tags"

    - title: "Get books: Update the Amazon (US) plugin for website changes"
      tickets: [1406040]

    - title: "MOBI input: Fix incorrect conversion of MOBI files that wrap their content inside <a> anchor tags"
      tickets: [1405858]

- version: 2.14.0
  date: 2014-12-26

  new features:
    - title: "Metadata review dialog: Automatically insert series number when selecting a series from the completion dropdown. Also if the user does not specify a series number, use 1 as the default, instead of not setting the series"
      tickets: [1404692]

  bug fixes:
    - title: "Fix regression that broke error reporting for save to disk for books that contain no formats"
      tickets: [1405674]

    - title: "Metadata download: Fix metadata download not working for titles that contain a apostrophes in languages other than English"
      tickets: [1403677]

    - title: "Fix deleting a book from both the library and the device causing the next selected book to be incorrect, when the library is sorted by the On device column"
      tickets: [1404629]

    - title: "FB2 output: Fix generation of FB2 sections based on a multi-level Table of Contents in the input document"
      tickets: [1393514]

    - title: "Tolino Shine driver: Fix option to swap main memory and SD card not working on macOS"
      tickets: [1404793]

    - title: "FB2 input: Workaround for broken FB2 files produced by convertonlinefree.com"
      tickets: [1404701]

    - title: "macOS: Workaround for macOS installs that have incorrect permissions set on their home directories. calibre will now no longer refuse to start on such machines"

    - title: "MOBI input: Don't crash on corrupted JPG images"
      tickets: [1404590]

    - title: "Fix column icons not displaying for custom comments type columns"
      tickets: [1404234]

    - title: "Metadata review dialog: Show a confirmation for the 'Reject all remaining' button"
      tickets: [1404386]

  improved recipes:
    - Nikkei News

  new recipes:
    - title: OSEL.cz
      author: spacekpe

    - title: Courier Mail
      author: Krittika Goyal

- version: 2.13.0
  date: 2014-12-19

  new features:
    - title: "Driver for the new CYBOOK MUSE e-book reader"
      tickets: [1398672]

    - title: "Edit metadata dialog: Allow editing identifiers in a dedicated window by right clicking on the identifiers edit box"
      tickets: [1400925]

    - title: "Allow generating a cover from metadata by right clicking the cover are in the book details panel also"
      tickets: [1401972]

    - title: "Content server: Serve KEPUB files with the extension .kepub.epub when connecting to the browser on Kobo devices"

    - title: "Kobo driver: Add support for new firmware version 3.12"

    - title: "Edit metadata dialog: Add a keyboard shortcut to swap title and author [Alt+Down]"
      tickets: [1397701]

  bug fixes:
    - title: "Save to disk: Fix a regression that prevented saving of files into the root of a drive on Windows"

    - title: "FB2 input: Add support for FB2 books that incorrectly use the FictionBook 2.1 XML schema"
      tickets: [1401915]

    - title: "Fix command line arguments not being ignored on Windows and Linux when restarting calibre"
      tickets: [1401991]

    - title: "E-book viewer: Fix sorting of bookmarks by position in book not working on Windows and macOS"
      tickets: [1402152]

    - title: "Kobo driver: Fix bookmarks not being deleted from device when deleting books on the device"
      tickets: [1401502]

    - title: "Edit book: Fix auto-complete of closing tag not working when typing the closing tag at just before a word (the word would become the closing tag name)"

    - title: "calibredb: Fix list --for-machine ignoring custom columns"
      tickets: [1401085]

    - title: "Edit book/Book polishing: Fix subsetting of fonts whose @font-face rules use the local() or format() CSS functions not working"

    - title: "Edit book: Fix regression that broke typing of XML entities for ampersand, less-than and greater-than"

    - title: "Edit book: Do not change the current selected text when right clicking on a mis-spelled word"

  improved recipes:
    - The Australian
    - The New Yorker
    - The Guardian
    - Ars Technica


- version: 2.12.0
  date: 2014-11-28

  new features:
    - title: "Edit book: Automatically complete the closing tag in HTML/XML files when typing </"

    - title: "Edit book: Implement auto-indent, now when pressing the Enter key to start a new line, the new line's indentation is automatically created"

    - title: "Driver for the Verso E71b e-book reader"
      tickets: [1395289]

    - title: "Redesigned the 'Add a custom news source' dialog to make it easier to use, with a more powerful python editor"

    - title: "Make translations of the User Manual available in many different languages (fully or partially translated). Click the 'Change language' link in the sidebar of the manual to change the language"

    - title: "Edit book: Search & replace function mode: Add a new function annotation (replace.file_order) to control what order multiple files are processed in, when doing Replace all. See the User Manual for details"

  bug fixes:
    - title: "Get books: Update Woblink store plugin for website changes"

    - title: "Book polishing: Ignore zero byte font files in the e-book instead of erroring out on them when subsetting fonts"
      tickets: [1395694]

    - title: "E-book viewer: Tighten heuristic used to detect footnote links. Do not consider a link that is the only content inside a block level tag as an endnote link, even if it is linked back to from its destination"

    - title: "Update the version of libimobiledevice shipped in the Linux and macOS builds to 1.1.7, should help with some connection issues to Apple devices"

    - title: "PDF output: Add support for font-family aliasing in @font-face rules"
      tickets: [1395176]

  improved recipes:
    - Wall Street Journal
    - New Yorker
    - Le Monde
    - Defense News
    - Digital Journal
    - Cracked.com
    - Boston Globe
    - RealClear Politics
    - EcoGeek
    - The Friday Times


- version: 2.11.0
  date: 2014-11-21

  new features:
    - title: "Edit book: Add a new 'function mode' for the Search and replace tool"
      description: "The function mode allows you to create python functions that run on the results of Search and Replace. This allows you to do arbitrarily powerful text processing. For example, you can automatically fix the case of text, automatically add section number to headings, and so on. For examples and documentation, see: https://manual.calibre-ebook.com/function_mode.html"
      type: major

  bug fixes:
    - title: "DOCX input: Add support for multilingual documents"
      tickets: [1394428]

    - title: "Edit metadata dialog: Fix date fields being displayed in the UTC timezone instead of the local timezone, causing the day to be off by one in some timezones"
      tickets: [1393166]

    - title: "Conversion/Book polishing: Fix ampersands in title/series/publisher/author not being properly escaped"
      tickets: [1393230]

    - title: "Update the bundled version of libimobiledevice on Windows, so that the iOS Reader plugin can connect to iOS 8 devices again"

    - title: "Fix a regression in 2.10 that causes Adding books from sub-folders, one book per folder to incorrectly add OPF files present in the sub-folders as an extra format"
      tickets: [1392864]

    - title: "Fix a regression in 2.10 that caused changes in Preferences->Adding books to not work for the next immediate add"

    - title: "Fix Ctrl-R while in debug mode not restarting in debug mode properly"

    - title: "Fix regression in evaluating composite columns that use other composite columns"

  improved recipes:
    - Nikkei News


- version: 2.10.0
  date: 2014-11-14

  new features:
    - title: "Driver for the PocketBook Lux 2 with latest firmware"
      tickets: [1390720]

    - title: "Review downloaded metadata: Add suggestions for the tags, authors, publishers and series fields. Suggestions will pop-up as you type"
      tickets: [1390887]

    - title: "Add books: Improve performance when adding large numbers of books at once"

    - title: "Add books: Allow adding books from multiple ZIP/RAR archives, each containing many books, by right clicking on the Add books and choosing 'Add from archive'"

    - title: "Metadata download: Prioritize results that have the same language as the current calibre user interface language"

    - title: "Edit book: Make the CSS used for styling the generated HTML Table of Contents user customizable via https://manual.calibre-ebook.com/customize.html#overriding-icons-templates-et-cetera"

  bug fixes:
    - title: "E-book viewer: Fix popup footnotes not working on Windows"

    - title: "Fix saving of searches that use the backslash to escape special characters not working"
      tickets: [1392052]

    - title: "Save to disk: When multiple books end up with the same file name because they have the same metadata, automatically adjust the filename to make it unique"
      tickets: [863472]

    - title: "Fix e-book editor global menu not working on Unity when started from inside calibre"

    - title: "Get books: Update the Amazon European store plugins for website changes"

    - title: "Edit book: Fix handling of XML unsafe characters (like <, > and &) inside <style> tags"

    - title: "Linux: Fix regression on Unity that prevented some keyboard shortcuts from working because of the global menu bar"
      tickets: [1390901]

    - title: "Amazon metadata download: Do not prefer results with an ISBN, since Amazon now lists a large number of ISBN less titles"

    - title: "Amazon metadata download: Fix cover not being found for some books because of a website change at Amazon.com"

    - title: "Conversion: Fix incorrect conversion of east-asian characters in CSS class names"
      tickets: [1390527]

  improved recipes:
    - LWN Weekly
    - Scinexx
    - Ming Pao

  new recipes:
    - title: Various German news sources
      author: Bernd Boehm

    - title: The Daily WTF
      author: Jelle van der Waa

- version: 2.9.0
  date: 2014-11-07

  new features:
    - title: "E-book viewer: Show footnotes in a separate popup window"
      type: major
      description: "Now when you click on a link to a footnote/endnote, the corresponding note is shown in a separate popup window, for convenient reference. Footnote links are recognized using the EPUB 3 footnote markup as well as some heuristics. Any superscript or subscript links are assumed to be footnote links. Any link that links to another file which in turn links back to the original link, is assumed to be an endnote"

    - title: "Cover grid: Improve scroll wheel based scrolling"
      description: 'On Windows and Linux a single "tick" of the wheel now scrolls by about half a row instead of a full screen. On macOS, scrolling is pixel based, so as you scroll faster, more content is scrolled'

    - title: "Get books: Add the Bubok Portugal store"

    - title: "Performance improvement for large libraries that using custom columns built with templates"

    - title: "Review downloaded metadata dialog: Allow merging tags by long clicking the revert button"

  bug fixes:
    - title: "Fix a regression in 2.8 that caused the clear button next to date fields to set the date to Jan 101 instead of undefined"
      tickets: [1388061]

    - title: "Linux: Fix Unity global menu bar stops working after minimizing calibre to the dock or the system tray"
      tickets: [1389404]

    - title: "Sanitize the ImageMagick environment variables before launching external utilities"
      tickets: [1389449]

    - title: "Prevent stale 'On device' info (from the previous connection) from showing during subsequent device connections"

    - title: "Conversion: Add workaround for converting EPUB files with syntactically invalid (probably hand edited) OPF files"
      tickets: [1389188]

    - title: "Fix e-book viewer not displaying cover from HTMLZ files"
      tickets: [1388595]

    - title: "Conversion: Handle input documents with crazy font sizes (1000pt +)"

  improved recipes:
    - Boston Globe
    - Brand Eins

- version: 2.8.0
  date: 2014-10-31

  new features:
    - title: "Linux: Add support for the global menubar in Ubuntu Unity (The menu that is displayed in the top most on screen bar). It now works both with the main calibre program and the e-book editor. You can customize what appears in the menubar via Preferences->Toolbars"

    - title: "Get books: Add a new store, Bubok (bubok.es)"

    - title: "Driver for Tolino Vision 2"
      tickets: [1385904]

    - title: "Review downloaded metadata: Allow merging downloaded and current identifiers by long-clicking the revert button"
      tickets: [1387619]

    - title: "Template language: New function user_categories() to return the list of User categories for a given book (only works in the GUI)"

    - title: "E-book viewer: Add an option to prevent tapping on the page from turning pages"

  bug fixes:
    - title: "Re-enable the system tray icon on Linux. System tray icons now work in any desktop environment that supports the StatusNotifier spec, such as Ubuntu Unity, KDE 4+, GNOME 3, etc"

    - title: "System tray icon: On Windows if the calibre window is minimized, fix clicking on the system tray icon not restoring the window"
      tickets: [1387596]

    - title: "E-book viewer: Clear history when reloading the book, to avoid errors, since the locations pointed to by the history may no longer be valid anyway"

    - title: "Linux: Force use of GNOME button layout for dialogs when running under the GNOME, UNITY or MATE desktop environments"

    - title: "Check book: Silence incorrect warning about guide references to cover image in AZW3 format"

    - title: "Fix text entry widgets' popup completion window not working well with windows on-screen keyboard"
      tickets: [1385586]

    - title: "Edit book: Fix links that are absolute paths causing crashes on Windows"

    - title: "Fix the read metadata from format button in the edit metadata dialog not working for FB2 files"
      tickets: [1385237]

  improved recipes:
    - Tyzden
    - Countryfile.com
    - FAZ net
    - The New Yorker

  new recipes:
    - title: Planet Python and Krebs on security recipe
      author: Jelle van der Waa

- version: 2.7.0
  date: 2014-10-24

  new features:
    - title: "Support for the new Kindle Voyage"

    - title: "The notification for the completion of background jobs, such as bulk metadata download, has been redesigned to not interrupt your work. It now waits in the lower right corner of the main window until you are ready to deal with it"
      tickets: [1382795]

    - title: "Insert metadata as jacket page: Make the invisible tags used for searching across books format better, by giving them their own table row"

    - title: "Book details panel: Show custom column values for numeric columns even when the value is zero"

    - title: "Allow clearing of date and number type fields by right clicking and choosing clear when editing the fields in the book list or edit metadata dialog"

  bug fixes:
    - title: "MOBI/AZW3 output: When converting an EPUB document that specifies an SVG image as its cover image, convert the cover to JPEG as the Kindle cannot handle SVG cover images"
      tickets: [1384375]

    - title: "AZW3 input: Fix crash when processing AZW3 files that contain certain SVG images dies to a bug in ImageMagick"
      tickets: [1384375]

    - title: "Conversion: Ignore un-parseable links when trying to generate ToC from links, instead of aborting the conversion"
      tickets: [1383365]

    - title: "Edit metadata dialog: Fix window title not changing when using the Next/previous buttons if the books being edited have the same title"
      tickets: [1383014]

    - title: "Fix regression in previous release that prevented arrow keys/tab key from working in completion popups on macOS"
      tickets: [1382633]

  improved recipes:
    - Folha de Sao Paolo
    - LWN Weekly

- version: 2.6.0
  date: 2014-10-17

  new features:
    - title: "Catalogs: CSV output: Allow changing the order of fields in the generated CSV catalog by using drag and drop to re-arrange the fields in the create catalog dialog"
      tickets: [1379048]

    - title: "Edit metadata dialog: When editing metadata individually for multiple books, popup a confirmation if the user clicks OK before finishing the editing of all the books"
      tickets: [1378072]

    - title: "Allow configuring a keyboard shortcut to toggle highlighting of search results via Preferences->Keyboard (under Miscellaneous)"
      tickets: [1380528]

    - title: "Edit book: Saved searches window: Remember the last used values for where to search and search direction"

    - title: "E-book viewer: Allow right clicking on the toolbar buttons to popup the optional menus, useful when using the viewer on a touch screen"
      tickets: [1380359]

    - title: "E-book viewer: Add a keyboard shortcut to toggle the Table of Contents [Ctrl+T]"

    - title: "Performance improvement when renaming/deleting large numbers of items via the Manage Tags/Series/Publishers/etc dialogs"

    - title: "Kobo driver: Update to support soon to be released firmware update from Kobo"

  bug fixes:
    - title: "Amazon metadata download: Update the Amazon metadata download plugin to handle changes to the Amazon.com website"
      tickets: [1379305]

    - title: "AZW3 output: Ignore invalid attribute names in the input document rather than aborting the conversion on them"

    - title: "Book details panel: Fix custom columns built from other columns with tag like values not clickable in the book details panel"
      tickets: [1381323]

    - title: "Edit book: Fix changing the editor undo/redo keyboard shortcuts not preventing the old shortcuts from working"

    - title: "CSV catalogs: Output all custom date time columns in the local timezone to match the format for builtin columns"

    - title: "E-book viewer: When looking up words in the dictionary for a book that has no language set, use the current calibre interface language"

    - title: "Fix comments editor widget in the edit metadata dialog swallowing Tab key presses, preventing the use of the keyboard to move between widgets. You can use Ctrl+Tab to insert literal tabs"

    - title: "macOS: Workaround for regression in Qt 5 that causes pressing the Esc key to close the entire window instead of the current completion popup"

    - title: "Fix Advanced search dialog not being sized correctly if the user selects a larger than normal interface font"
      tickets: [1378045]

    - title: "E-book viewer: Fix page turning by clicking in the margins in full screen mode (when displaying more than one page per screen) not working because of a Qt 5 behavior change"

  improved recipes:
    - nrcnext
    - Wall Street Journal
    - Smithsonian Magazine
    - Sueddeutsche Zeitung mobil

- version: 2.5.0
  date: 2014-10-03

  new features:
    - title: "E-book viewer: Allow changing the website that is used as a dictionary for looking up words in the viewer. Click the Preferences button in the viewer and choose the dictionaries tab to customize the website"

    - title: "Edit book/Book polishing: When embedding fonts or subsetting embedded fonts, handle the :first-letter and :first-line pseudo-element style rules"
      tickets: [1373649]

    - title: "Windows driver for Trekstor Pyrus 2 LED"
      tickets: [1376018]

  bug fixes:
    - title: "Fix a typo preventing calibre from recognizing the new Kobo Aura H2O"

    - title: "Edit book: Spell check: Fix replaced words coming back into the list when toggling the Show only misspelled words setting"

    - title: "Edit book: Spell check: Fix replacing a word with multiple words causing the replacements to show up erroneously in the list of misspelled words"
      tickets: [1370294]

    - title: "Edit book: Fix leading or trailing hyphens on words being ignored when Spell checking"
      tickets: [1370288]

    - title: "E-book viewer: Fix a regression, caused by a Qt 5 behavior change, that caused incorrect colors to be shown when viewing MOBI files that use CSS 3 color specifications internally"

    - title: "MOBI output: Handle input documents that use CSS 3 syntax for colors by converting the color to the #RRGGBB format required for MOBI"

    - title: "Tag browser: Fix drag and drop of books onto a language not setting the language"
      tickets: [1373504]

    - title: "Tag browser: When renaming an item that is currently being searched for, remove the search indicator, as the search will no longer match the renamed item"
      tickets: [1374624]

    - title: "Bulk metadata edit: Fix getting cover from EPUB files that have no cover image by rendering the first page as the cover not working"
      tickets: [1374243]

    - title: "Custom cover generation: Fix disabled color schemes not being saved"
      tickets: [1374337]

    - title: "Wireless device driver: Fix a regression in 2.4 that caused book matching to run slowly when connecting to Calibre Companion"

  improved recipes:
    - Sueddeutsche Zeitung
    - The Hindu
    - Carta

- version: 2.4.0
  date: 2014-09-25

  new features:
    - title: "An all new random cover generation algorithm, which generates covers using many different color schemes and cover styles"
      description: "Now when you click the Generate cover button in the Edit Metadata dialog a cover based on the book metadata is generated using random colors and styles. You can customize the random cover generation by long clicking the Generate Cover button, which will popup a dialog where you can create new color schemes and customize other aspects of the generated cover as well"
      type: major

    - title: "Edit book: Redesign the Saved searches pop-up as a dockable window. Editing Saved searches now happens inline and the global search/replace keyboard shortcuts work in the Saved searches window"

    - title: "Edit book: Change the text of the 'Mark selected text' menu entry depending on whether it will mark or unmark the text"

    - title: 'Edit metadata dialog: Allow undoing a metadata download by long-clicking the Download metadata button and choosing "Undo last metadata download"'

    - title: "Edit metadata dialog: Allow undoing the changes to individual fields by right clicking on the field and selecting Undo after a metadata download"
      tickets: [1223367]

    - title: 'Download metadata dialog: Allow using Enter key to select cover and left/right keys to move between metadata results'
      tickets: [1369178]

    - title: 'Fix the row numbers in the book list remaining wide when switching libraries if some books were marked before the switch'
      tickets: [1369152]

    - title: 'Fix keyboard focus not going to cover grid after doing a search'
      tickets: [1369160]

    - title: 'DOCX input: Support for the keepNext paragraph property to keep successive paragraphs on the same page'

    - title: 'Template language: New template functions: raw_list() to return the items in a list such as tags without any sorting/formatting applied to them; author_sorts() to return the author sort strings from the authors table for the authors in the book'

  bug fixes:
    - title: "Fix a regression in 2.3 that broke creation of collections on the device when metadata management was set to manual"
      tickets: [1371976]

    - title: "E-book viewer: Fix displaying multiple pages per screen not working in calibre 2.x with some books, due to a change in Qt 5"
      tickets: [1372066]

    - title: "E-book viewer: Fix unintuitive behavior of back and forward buttons when going all the way back to the first item in the history"
      tickets: [1367992 ]

    - title: "Conversion: Do not allow default (user-agent) style rules to ever override style rules defined in the input document, regardless of CSS selector specificity"
      tickets: [1369753]

    - title: "Workaround for Qt 5 regression that broke selecting multiple icons in Preferences->Column icon rules"

    - title: "Fix tags with angle brackets not being displayed in the Book details panel"

  improved recipes:
    - Today's Zaman
    - Wall Street Journal
    - High Country News

  new recipes:
    - title: Hurriyet Daily News and Al Monitor
      author: spswerling

    - title: VICE News
      author: Adrian Tennessee

    - title: Jagran Josh
      author: Krittika Goyal

- version: 2.3.0
  date: 2014-09-11

  new features:
    - title: "Cover grid: Dynamically adjust the size of the in memory cover thumbnail cache based on the window size to ensure flicker free rendering even on very large screens"
      tickets: [1367211]

    - title: "Template tester: Remember last used template"

    - title: "Get books: When downloading books show a popup message telling the user that the books will be added to the calibre library automatically, to help new users understand what is happening. The popup message can be disabled"
    - title: "E-book viewer: Try to detect when a chapter has a page break before the start of the chapter's text resulting in a leading blank page and override the page break"
      tickets: [1366074]

  bug fixes:
    - title: "Edit metadata dialog: Fix the author sort field not being marked red initially when the author sort does not match the author due to a Qt 5 behavior change"
      tickets: [1367943]

    - title: "macOS: Fix restarting of calibre not working if calibre.app is placed in a location with spaces in the path"

    - title: "Fix regression that caused calibre running in debug mode on macOS to not have a menubar or dock icon"

    - title: "Get books: Fix downloading e-books from Project Gutenberg via the builtin browser not working because of changes to the Project Gutenberg website"
      tickets: [1366240]

    - title: "Get books: Update Gutenberg plugin for changes to the Project Gutenberg website"
      tickets: [1366245]

  improved recipes:
    - Strategy+Business
    - Dawn
    - American Thinker
    - Anchorage Daily News
    - Financial Times

- version: 2.2.0
  date: 2014-09-05

  new features:
    - title: "Kindle driver: Add option to not overwrite existing page number (apnx) files on the device when sending books to the device"

    - title: "Kindle driver: Add option to allow customization of the page number (apnx) generation algorithm based on values in a custom column"

    - title: "Metadata jacket: Allow customizing the jacket template to show the tags in alphabetical order"

    - title: "View specific format window: If a conversion finishes in the background making a new format available, update the window"
      tickets: [1363416]

    - title: "E-book viewer: Automatically hide the mouse cursor if the mouse has not been used for a few seconds. This prevents the mouse cursor from obscuring text underneath it. The cursor will reappear automatically when you move the mouse"

    - title: "Driver for SurfPad 3"
      tickets: [1363025]

  bug fixes:
    - title: "Conversion: Fix incorrect conversion of CSS when the input document uses the same CSS class name in both upper and lower case"
      tickets: [1328552]

    - title: "Workaround for Qt 5 behavior change on macOS which prevented error handling during startup on macOS to not work"

    - title: "DOCX input: Fix non-breaking hyphens being ignored"

    - title: "Workaround for Qt 5 bug that causes text copied to the clipboard to be lost when quitting the viewer on Windows"

    - title: "When detecting the encoding of HTML documents, if the document contains multiple charset declarations, prefer the HTML 5 syntax to the HTML 4 syntax"
      tickets: [1364961]

    - title: "E-book viewer: Fix text not being reflowed when resizing the viewer window and only the height changes"

    - title: "Fix merging of book records not working correctly for custom columns of type text with fixed set of permitted values. Null values were incorrectly overwriting non-null values"

    - title: "Creation of custom news sources failing on a computer on which no custom news sources have been previously created"
      tickets: [1363666]

    - title: "Workaround for Qt 5 on Windows bug that makes the selected indication for items in any list/table disappear when the widget loses focus"
      tickets: [1363420]

    - title: "Fix regression in 2.1 that prevented the saved column layout from being applied"
      tickets: [1363470]

    - title: "Edit book: Fix the Check Book tool leaking threads"

    - title: "Edit book: Fix editor hanging when quitting during a background save operation and the save operation completes before the warning dialog is dismissed"
      tickets: [1363122]

    - title: "Fix a regression in calibre 2.0 that caused setting the value of a custom number column to zero via the book list to clear the field instead"
      tickets: [1363076]

    - title: "Check Book: Fix an error caused by empty style tags when auto-renaming mismatched font names"
      tickets: [1363028]

    - title: "When using the Embed metadata or Polish books tools to update metadata, fix custom columns values not being cleared in the book file even if they have been cleared in calibre"

  improved recipes:
    - Common Dreams
    - LA Times
    - Spektrum der Wissenschaft
    - cracked.com

  new recipes:
    - title: The Hollywood Reporter
      author: Darko Miletic

- version: 2.1.0
  date: 2014-08-29

  new features:
    - title: "Prevent calibre from installing or running on Windows XP as there have been many reports of Qt 5 crashing on Windows XP and Windows XP is now no longer supported by Microsoft. If you are on Windows XP, please stay with calibre 1.48 until you are ready to upgrade your Windows. Apologies for the inconvenience"

    - title: "Kobo driver: Add support for new Kobo Aura H2O and firmware 3.8.0"

    - title: "Driver for HTC C"
      tickets: [1360678]

    - title: "Add a new tool to easily test templates. Go to Preferences->Toolbars to add the tool to one of the calibre toolbars"
      tickets: [1360550]

    - title: "EPUB and MOBI catalog generation: Allow using the full template language including all custom columns"

  bug fixes:
    - title: "E-book viewer: Fix soft-hyphens causing rendering artifacts with some fonts due to a bug in Qt 5"

    - title: "macOS: Workaround for Qt 5 bug that causes the popup menu on the author to author sort button in the edit metadata dialog to not respond if the mouse button if not released once before clicking menu entries"
      tickets: [1362338]

    - title: "Book list: Fix Ctrl+Home/End not selecting the first/last book"

    - title: "PDF output: Fix header and footer templates not working in calibre 2.0"
      tickets: [1361483]

    - title: "macOS: Workaround for Qt 5 bug that caused many keyboard shortcuts to not work in macOS"

    - title: "Workaround for Qt 5 regression causing custom colors in color chooser dialogs to not be remembered between calibre sessions"

    - title: "Conversion: Fix error when converting EPUB/HTML files that contain invalid margin or padding declarations"
      tickets: [1360842]

    - title: "Fix for calibre 2.0 crashing on startup on some Linux systems when used with --detach"

    - title: "E-book viewer: When right clicking on an image to view it in its own popup window, fix the rotate button not working correctly with the zoom buttons"

    - title: "Workaround for Qt 5 bug causing crash when running jobs (conversion to PDF or MOBI; reading metadata from an EPUB without a cover) that require Qt WebKit on Ubuntu"
      tickets: [1360693]

    - title: "macOS: Fix background jobs stealing input focus if they require the use of Qt WebKit"

    - title: "Preferences->Metadata plugboards: Show plugboards for disabled devices and formats whose metadata writer plugins have been disabled"
      tickets: [1360766]

    - title: "Fix calibre 2.0 not using system color scheme on Windows and macOS"

    - title: "Fix regression in calibre 2.0 that caused crashes when using drag and drop to re-order virtual library tabs"

    - title: "Linux: Disable the optional system tray icon because of bugs in the system tray icon implementation in Qt 5 on Linux"
      tickets: [1360652]

    - title: "E-book viewer: Fix navigating to a bookmark not updating the displayed page number"
      tickets: [1360621]

    - title: "Fix the 'unified title and toolbar on macOS' tweak causing calibre to fail to work because of a bug in PyQt5"

    - title: "E-book viewer: Fix a regression in 2.0 that changed the speed of scrolling with the mouse wheel in flow mode"

    - title: "Edit book: Workaround for regression in Qt 5 that causes typing the Cmd+some letter to generate text in the editor instead of being ignored"

    - title: "Book polishing: Fix EPUB files with corrupted ZIP central directories not working and leaving behind detritus in the current working directory"
      tickets: [1360385]

    - title: "Edit book: Workaround for Qt 5 regression that caused the 'See what changed' tool to freeze the editor when closing the window showing the changes"

    - title: "Fix regression in 2.0 that broke viewing of LRF format e-books"
      tickets: [1360332]

    - title: "Fix for a Qt 5 regression that caused the Copy to library right click menu to be empty on macOS"
      tickets: [1360069]


- version: 2.0.0
  date: 2014-08-21

  new features:
    - title: "For a summary of the major changes in calibre between 1.0 and 2.0, see https://calibre-ebook.com/new-in/eleven"
      type: major

    - title: "Add support for MTP devices (Android phones/tablets) on macOS"

    - title: "Update the version of Qt used by calibre to Qt 5. This fixes various longstanding bugs in calibre that were caused by bugs in Qt 4"

    - title: "Edit book: Make the edit saved search/add saved search popup window non-modal"
      tickets: [1354785]

    - title: "Tag browser: Show format specific icons for the format entries in the Tag browser"

    - title: "Library check: Add buttons to conveniently mark all fixable/deletable items"
      tickets: [1353954]

  bug fixes:
    - title: "E-book viewer: Reloading the book now re-opens it at the current position even if the option to remember position when quitting is turned off"

    - title: "E-book viewer: Remove extra spacing between document and scrollbars.  This is particularly noticeable when using a dark theme for the viewer"

    - title: "PDF output: Fix balanced parentheses in the text of items in the Table of Contents not being rendered properly by some PDF viewers"
      tickets: [1358443]

    - title: "Edit book: Abort terminal save on save error instead of quitting editor"

    - title: "Get books: Update the Project Gutenberg plugin for website changes"

    - title: "Plugin loading: When multiple plugin classes are present in the __init__.py namespace, use the one with the qualified name that has the least components"

    - title: "Edit book: Prevent long saved searches from making the Saved search dialog too wide"

    - title: "Comic input: Sort pages placed in sub-folders correctly (as long as all pages have the same number of parent folders)"

    - title: "Conversion: Fix the word @page in a comment inside a stylesheet with no following {} causing the rest of the stylesheet to be ignored"

    - title: "Fix comparing AZW3 to ORIGINAL_AZW3 from the book details panel not working"
      tickets: [1354624]

  improved recipes:
    - TIME Magazine
    - The Atlantic
    - Down to Earth
    - Heraldo de Aragon
    - Radikal (Turkey)
    - Wired Daily Edition
    - Orange County Register

  new recipes:
    - title: General Knowledge Today
      author: Kanika G

    - title: BBC Arabic
      author: logophile777
