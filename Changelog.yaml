# vim:fileencoding=utf-8:ts=2:sw=2:sta:et:sts=2:ai
# Each release can have new features and bug fixes. Each of which
# must have a title and can optionally have linked tickets and a description.
# In addition they can have a type field which defaults to minor, but should be major
# for important features/bug fixes.
# Also, each release can have new and improved recipes.

# - version: ?.?.?
#   date: 2014-??-??
#
#   new features:
#     - title: 
#  
#   bug fixes:
#     - title: 
#
#   improved recipes:
#     - 
#
#   new recipes:
#     - title: 

- version: 1.44.0
  date: 2014-07-11

  new features:
    - title: "Edit Book: Syntax highlight links, images, stylesheet includes, etc. Links that point to missing files are marked as errors. You can Ctrl + click on a highlighted link to jump to the file it points to directly."

    - title: "Edit Book: Check Book: Add a check for manifest items missing href attributes."
      tickets: [1339766]

    - title: "When clicking in the search box, select all existing text, for easy replacement."
      tickets: [1338862]

    - title: "Edit Book: Add buttons to change the text alignment of the current paragraph. If you do not see them, go to Preferences->Toolbars and add them to the Text formatting actions toolbar."

    - title: "Improve performance of rendering the book list when lots of column coloring rules are used"

    - title: "Kobo driver: Support for new firmware version 3.5"

  bug fixes:
    - title: "Edit Book/Book polishing: Do not auto-resolve @import rules in AZW3 files. Also do not add a @namespace rule to all stylesheets that contain tag selectors."

    - title: "Edit book/Book polishing: Preserve the class attribute on the <html> tag in AZW3 format files."
      tickets: [1339055]

    - title: "Edit Book: Fix inline spell check context menu not working when triggered by context menu key or a right clicking at the right edge of the word."

    - title: "Fix some font directories from fonts.conf being ignored on linux when scanning the system for installed fonts."
      tickets: [1339257]

    - title: "Edit book: Spell checker: Treat hyphenated words as single words for spell checking"

    - title: "Edit Book: When using the spell check dialog to change words, detect any changes made to open files outside the spell check dialog and automatically integrate them, to prevent those changes from being lost."

    - title: "Update driver for Tolino Shine to handle new firmware"
      tickets: [1338219] 

    - title: "Book polishing: When changing the cover in an EPUB file, place the newly created cover image in the same folder as other images in the book, rather than the root"

    - title: "Linux installer: Use pkg-config to get the location for installing the calibre bash completion scripts. pkg-config is used only when installing to /usr."
      tickets: [1340023]

  improved recipes:
    - Science Daily

- version: 1.43.0
  date: 2014-07-04

  new features:
    - title: "Add a wizard for easily searching date fields in your library. To use it click the advanced search button to the left of the search field. Allows you to search for books whose date is older/newer than a specified date or less/more than a number of days from today and so on."

    - title: "Driver for Onyx T68."
      tickets: [1336868]

    - title: "When reading metadata from file names, allow setting the comments field as well, in addition to title/authros/publisher/series/etc."
      tickets: [1332582]

  bug fixes:
    - title: "Fix a regression in the previous release that broke changing Save to Disk preferences"

    - title: "Recognize leading articles for the Esperanto language when auto-generating title sorts. "
      tickets: [1336639]

    - title: "Edit Book: Fix a regression that caused syncing of the preview panel to the editor cursor position to not work when the cursor is positioned on a blank line in between two tag definitions"

    - title: "Metadata download: Round the downloaded ratings so that, for example, 3.6 stars becomes 4 stars instead of 3 stars."
      tickets: [1335696]

    - title: "Edit Book: Fix a crash when performing some image editing operations on 64 bit calibre builds"

    - title: "Recognize additional leading articles in the titles of Italian language books"
      tickets: [1332837] 

    - title: "Edit Book: Fix an occasional spurious error message when using the Live CSS feature"

  new recipes:
    - title: Dark Reading 
      author: Brandon Allberry

- version: 1.42.0
  date: 2014-06-27

  new features:
    - title: "Edit Book: new tool to easily add a cover to the book. It automatically generates the HTML wrapper and takes care of marking the covers files as covers in the OPF."

    - title: "Edit Book: Improve the performance of inline spell checking, especially noticeable when editing large HTML files (over 100KB in size)."

    - title: "Edit Book: Run syntax highlighting in the background, reducing user interface latency when editing large files"

    - title: "Template language: Add a new function (group_re) to use grouping regular expressions with groups, where you can replace the matched groups with result of another template."

    - title: "Edit Book: Check Book: Add a check for HTML files with non UTF-8 encoding declarations"

    - title: "Edit Book: Spell check dialog: Add an option to make filtering the word list case sensitive"

  bug fixes:
    - title: "Get Books: Fix integration with ebook.de broken by website changes"

    - title: "MOBI Input: Preserve the dc:rights metadata during conversion."
      tickets: [1333468]

    - title: "Edit Book: Fix non-BMP unicode characters causing matching tag highlighting to be slightly off on linux"

    - title: "Edit Book: When editing HTML files that have charset encoding declarations, automatically change the declared encoding (if any) to UTF-8 on save, since the editor always saves files in the UTF-8 encoding."

    - title: "Edit Book: Fix various problems when editing EPUB files with non-ascii internal filenames on OS X."
      tickets: [1317883]

    - title: "Edit Book: Remove unused CSS: Fix an error if an HTML file links to a missing stylesheet"

  improved recipes:
    - Deadspin

  new recipes:
    - title: Economic and Political Weekly 
      author: Krittika Goyal

- version: 1.41.0
  date: 2014-06-21

  new features:
    - title: "New tool to set metadata in the actual book files in the calibre library from the updated metadata in the calibre database."
      description: "To use it go to Preferences->Toolbars and add the 'Embed metadata' tool to the main toolbar. Then simply select the books whose files you want to update and click the Embed metadata button. Normally, calibre updates metadata in the book files whenever a file is exported from calibre. This tool is useful for people who want the files in the calibre library to have updated metadata as well."
      type: major

    - title: "calibredb: Add a new 'embed_metadata' command to update metadata in the actual book files in the calibre library from the calibre database."

    - title: "Edit Book: Allow customization of toolbars"

    - title: "Add empty book: When adding empty book records to the library, add an option to also create empty EPUB files. Useful if you intend to subsequently edit these files with the calibre editor. You can access the add empty books feature by right clicking the Add Books button."

    - title: "Edit book: Remove unused CSS: Add an option to also remove unused class attributes from the HTML"

    - title: "Edit book: Check Book: Add checks for empty HTML/XML/CSS/image files in the book."
      tickets: [1329971]

    - title: "Edit Book: Check Book: Add checks for links whose fragment (the part after the #) points to a location that does not exist"

  bug fixes:
    - title: "RTF metadata: Add proper support for unicode characters when reading and writing metadata to RTF files"

    - title: "RTF metadata: Fix failure to write metadata to RTF files that do not already have an \\info block"

    - title: "Edit Book: Remove unused CSS: Handle @import rules when checking for unused CSS"

    - title: "Edit Book: Remove unused css: Prevent failure when book has invalid items marked as stylesheets"

    - title: "calibredb: Fix set_metadata not working for the series_index field."
      tickets: [1329724]


- version: 1.40.0
  date: 2014-06-12

  new features:
    - title: "Edit Book: Add a new tool to manage fonts. Allows easily changing/removing/embedding fonts in the entire book. To use it go to Tools->Manage Fonts"

    - title: "Edit Book: Allow the color of the links in the Live CSS panel to be themed."
      tickets: [1326897]

    - title: "E-book viewer: Add a keyboard shortcut to bookmark current location."
      tickets: [1326198]

  bug fixes:
    - title: "Edit Book: Check book: When auto-changing font name to match actual name in font file, also change the font name in shorthand font declarations"

    - title: "Edit Book/Book polishing: Fix embedding all referenced fonts not catching fonts that are only specified via style attributes and not in any stylesheets."

    - title: "Conversion: Fix normalization of CSS shorthand font property not working when multiple font families are specified in the same shorthand property"

    - title: "Edit Book: Live CSS: Fix clicking on link to go to style definition not working if the stylesheet contains CSS 3 @media queries or @font-face rules"

    - title: "Edit Book: When importing DOCX files, set the media type for html files correctly"

    - title: "Edit Book: Fix import of DOCX files that contain no Table of Contents not working."
      tickets: [1327522]

    - title: "Portable installer: Fix a crash if the user selects a destination for the portable install that does not have enough disk space."
      tickets: [1324575]

    - title: "Fix date column not showing date added when adding zip/rar files that contain an OPF with a calibre timestamp in its metadata"

    - title: "Sony driver: Fix SONY annotation app not working with files sent to the device by calibre"

    - title: "Linux build: Fix regression that caused opening PDF files (or any externally viewed files) preventing calibre from being restarted as long as the external viewer is not shutdown."
      tickets: [1326453]

    - title: "Edit book: Fix changing underline style to none when creating a custom color scheme causes error."

    - title: "Check Book: Fix empty (zero byte) XML files causing check book to fail."
      tickets: [1326073]

    - title: "Check Book: Fix combination of mismatching font family names and a font-family declaration with an invalid value (such as a dimension) causing auto fixing of errors to fail."
      tickets: [1325070]

  improved recipes:
    - Respekt
    - Newsweek
    - Jerusalem Post
    - Outlook India
    - PC Magazine
    - Instapaper

- version: 1.39.0
  date: 2014-05-29

  new features:
    - title: "Edit Book: Allow creation of custom color schemes for the editor (Preferences->Editor settings)"

    - title: "Check Book: When reporting unmanifested file warnings, allow auto fixing by adding the file to the manifest if it is referenced elsewhere or removing the file if it is not."
      tickets: [1323362]

    - title: "Edit book: Preview panel: Allow syncing of position more accurately when there are multiple tags on the same source code line"

    - title: "Edit book: Live CSS: Indicate which CSS properties are overridden by higher priority rules"

    - title: "Kindle driver: When generating page numbers automatically, add an additional method to detect page boundaries, using the presence of <mbp:pagebreak> tags in the source of the book. You can use this setting by right clicking on the Kindle icon in calibre when the kindle is connected and choosing customize this device."
      tickets: [1321761]

  bug fixes:
    - title: "Virtual Libraries: If the user selects a virtual library whose tab has been closed via the Virtual Library button, re-open the tab instead of displaying the virtual library in the All Books tab."
      tickets: [1322474]

    - title: "DOCX Input: Fix a regression that broke conversion of documents with an index that contains fields with special page text."
      tickets: [1322637]

    - title: "Edit Book: When editing a book in a language for which no dictionary is installed, consider all words to be correctly spelt, rather than misspelt."
      tickets: [1320829]

- version: 1.38.0
  date: 2014-05-23

  new features:
    - title: "Edit Book: A 'Live CSS' tool that shows all the style rules for the tag you are currently editing."
      description: "You can use it to easily jump to any style rules that affect the current tag. Enable it via View->Live CSS. See http://manual.calibre-ebook.com/edit.html#the-live-css-panel for details"
      type: major

    - title: "Add an option to hide the book rating in the cover browser (Preferences->Look & Feel->Cover Browser)."
      tickets: [1319476]

    - title: "DOCX Input: if no language is defined in the metadata, use the language specified in the document default style."
      tickets: [1321346]

  bug fixes:
    - title: "Edit book: Fix regression that sometimes caused incorrect syntax highlighting when non-breaking spaces/typographic hyphens are present in the text."
      tickets: [1321317]

    - title: "Fix a regression that broke the compare books tool when used outside the book editor."
      tickets: [1321975]

    - title: "Get Books: Update the Woblink plugin to handle changes to the Woblink website"

    - title: "DOCX Input: Workaround buggy version of Microsoft Word converting newlines in the document summary into _x000d_. They are now ignored when reading metadata from docx files."
      tickets: [1321343]

    - title: "Edit book: Fix Check Book failing if a binary file such as an image or font is mislabelled in the OPF as being a text file."
      tickets: [1320977]

    - title: "OS X Build: Fix a bug that was preventing multiple instances of calibre being used by different user accounts on the same computer."
      tickets: [1320347]

    - title: "Edit book: Dont show an error message when trying to use quick open with no book open"

    - title: "Content server: Add .ibooks (note the trailing s) as an allowed format as well."

    - title: "Edit Book: Fix an error when running the Check Book tool on files with empty <style> tags."
      tickets: [1320459]

    - title: "Edit Book: A more complete fix for non ascii usernames on windows when using the export file dialog."
      tickets: [1298071]

  improved recipes:
    - Ars Technica
    - Slate
    - Instapaper
    - The Independent

- version: 1.37.0
  date: 2014-05-16

  new features:
    - title: "Edit Book: Live spell checking in the code view. Now spelling errors are highlighted in the code view for convenient correction as you type. This can be turned off via Preferences->Editor."

    - title: "E-book viewer: When using the tap and hold gesture on a touchscreen, allow lookup  of the word currently under the finger in the dictionary or online."
      tickets: [1318242]

    - title: "Edit Book: Allow putting the editor into replace mode by pressing the Insert key"

    - title: "Content server: Add more descriptive titles to the OPDS feeds, where possible."

    - title: "Edit Book: Update the Table of Contents view automatically when the ncx file is edited."

    - title: "Edit book: Insert tag button: Allow entering attributes along with the tag name to make it easy to repeatedly insert, for example, <span class='special'></span>."

    - title: "Windows driver for Woxter Scriba 190."
      tickets: [1317892]

    - title: "Edit Book: Add an entry to the context menu of the preview panel to open external URLs when a link is right clicked on"

  bug fixes:
    - title: "Edit Book: Fix error in the Check Book tool when items in the opf have paths starting with a leading slash."
      tickets: [1319378]

    - title: "Book polishing: Fix publisher field in epub not being cleared when updating metadata."
      tickets: [1319732]

    - title: "Kobo driver: Update to handle changes to annotation processing in newer Kobo firmware."

    - title: "DOCX Input: Handle docx files with index fields that have their field names incorrectly lower cased."
      tickets: [1318670]

    - title: "Edit book: Fix incorrect syntax highlighting on linux if the text contains non-BMP unicode characters."

    - title: "Edit book: Fix regression that caused an error when trying to edit files with no defined syntax, such as plain .txt files."
      tickets: [1318139]

  improved recipes:
    - Wall Street Journal 

- version: 1.36.0
  date: 2014-05-09

  new features:
    - title: "Edit Book: A new tool to filter style information (Tools->Filter style information). Useful to easily remove some CSS properties from the entire book."

    - title: "DOCX Input: Add support for cross references. Cross references that are used to insert hyperlinks are now converted into hyperlinks in the output document. Features to insert paragraph/page numbers are not supported."

    - title: "Add support for viewing kepub files in the calibre viewer, by treating them as plain epub files"

    - title: "Edit book: In the Insert Link tool show a few words of text alongside the location anchor name, to make it easier to know what a location is"

    - title: "Manage user dictionaries: Allow copying all selected words by right clicking them and choosing 'Copy to clipboard'."
      tickets: [1315340]

    - title: "Content server: Make .ibook format files available in OPDS feeds"

    - title: "Edit book: Allow copying the list of errors from the Check Book tool to the clipboard by right clicking on the list of errors"

    - title: "Book polishing: If the books being polished have an ORIGINAL_EPUB/AZW3 format, warn the user that polishing will use it as the source and ask for confirmation." 
      tickets: [1316158]

  bug fixes:
    - title: "Fix metadata plugin to download metadata from OZON for website changes."
      tickets: [1300383]

    - title: "Subsetting embedded fonts: Fix an error when subsetting embedded fonts on windows if the username contains quotes or apostrophes."
      tickets: [1316533]

    - title: "Edit Book: Fix error when checking spelling if one of the files in the book declares an invalid (empty) language code."
      tickets: [1316170]

    - title: "Linux install: Have the calibre GUI programs redirect stdout and stderr to null when launched via .desktop files to workaround systems where the GUI launchers are broken."
      tickets: [1315458]

    - title: "Edit Book: Fix inserting a < in text that contains a colon causing a hang."

    - title: "DOCX Input: Fix error when converting document with nested frames."
      tickets: [1317543]

  improved recipes:
    - Various Japanese news sources
    - National Geographic

- version: 1.35.0
  date: 2014-05-02

  new features:
    - title: "Edit Book: Redesign the syntax highlighter to improve performance for large documents and extended editing sessions."
      tickets: [1314339]

    - title: "Edit book: Make cursor movement smooth by not highlighting matching tags while the cursor is moving. Only match highlighting tags if the cursor stays still for a time."

    - title: "Spellcheck dialog: Indicate whether a word is ignored in the Misspelled column"

    - title: "Spellcheck dialog: Pressing Ctrl+C on the words list copies only selected words, regardless of current cell"

    - title: "Add a copy to clipboard action to the context menu for the spell check dialog"

    - title: "Edit book: Fix save button incorrectly disabled after a failed save"
      tickets: [1313567]

  bug fixes:
    - title: "Edit Book: Fix an error when merging CSS stylesheets that contain @charset rules"

    - title: "Edit book: Fix extra invalid entries being generated in the manifest when editing an AZW3 file that has no images."

    - title: "Edit book: Fix a hang when editing an HTML or XML file with text of the form <abc: (i.e. a tag name with a trailing colon)."
      tickets: [1314009]

    - title: "Fix regression that prevented the ebook editor from starting on linux systems with locale set to 'C'"
      tickets: [1315064] 

    - title: "DOCX Input: Fix formatting of the generated Index when the index is complex, i.e. with lots of references to the same item, multiple level of sub-items, etc."

    - title: "Smarten punctuation: Fix a double quote preceded by a hyphen at the end of a sentence (before the start of the next tag) being converted into an opening quote instead of closing quote."
      tickets: [1286477]

    - title: "News download: Fix very long URLs for links to pages causing errors on windows because of max path length restrictions."
      tickets: [1313982]

    - title: "Edit book: Fix saved search dialog causing high CPU usage"

    - title: "Edit book: Fix importing of Lithuanian dictionary from OpenOffice, that does not specify a country code."
      tickets: [1313315]

  improved recipes:
    - Ars Technica
    - Daily Mirror
    - Birmingham Evening Mail
    - NRC - Next
    - Private Eye
    - NZZ

- version: 1.34.0
  date: 2014-04-25

  new features:
    - title: "E-book viewer: When in flow mode, handle swiping on the touchscreen differently. Swiping now scrolls line by line in flow mode instead of page by page. If you wish to scroll page by page in flow mode, tap instead of swiping."

    - title: "Conversion: Preserve all guide entries that are of a type present in the EPUB 2.0 specification. These entries are used by newer Kindle readers to populate the Go To jump list"

    - title: "When adding MOBI files if the author name is in LN, FN format, auto change it to FN LN format, as the MOBI format has no author sort field. This behavior can be disabled by setting Preferences->Tweaks->Author sort name algorithm to copy."
      tickets: [1306748]

    - title: "Spellcheck: When checking French text list all words that have the same stem as a single word. So j'aime and aime are listed as a single word."

    - title: "Spell check: Add a context (right click) menu that allows for quick operations on all selected words"
      tickets: [1309559]

    - title: "Manage user dictionaries: Add a button to import a list of words in bulk into the user dictionary"

    - title: "Spell check dialog: Allow sorting words case sensitively"

  bug fixes:
    - title: "EPUB Input: Fix incorrect handling of obfuscated fonts using the IDPF obfuscation algorithm when the epub unique identifier starts with urn:uuid"
      tickets: [1311650]

    - title: "Edit book: Fix obfuscated fonts in EPUB files not being handled correctly when editing the book (obfuscated fonts would get corrupted when making changes)."
      tickets: [1311650]

    - title: "Edit book: Fix a bug that caused spell checking to fail when using the builtin spanish dictionary"

    - title: "Spell check: Fix replacing a word and then replacing the new word again not working without doing a refresh in between"

    - title: "Spell check: Fix language declarations not being respected for nested tags."
      tickets: [1310000]

    - title: "Spell check: Fix 'Show next occurrence' sometimes showing the word in an incorrect location, for example in an attribute where spell check is not performed."

    - title: "Allow import of dictionaries that deviate from the spec in minor ways"

    - title: "Edit Book: Fix the Show next occurrence button in the spell check dialog sometimes failing to show next occurrence"

    - title: "OS X: Detect the users default interface language correctly. Also fix parsing of ambiguous dates in mm/dd vs dd/mm formats, based on the users locale settings in OS X."

  improved recipes:
    - Hindustan Times

- version: 1.33.0
  date: 2014-04-18

  new features:
    - title: "Edit book: Add a tool to check spellings, access it via Tools->Check spelling"
      type: major
      description: "The calibre book editor now has builtin spellcheck. You can install new dictionaries via Preferences->Editor->Manage spelling dictionaries. It comes with builtin dictionaries for English and Spanish. You can add OpenOffice dictionaries (in .oxt format). The tool checks spellings in all HTML/OPF/NCX files in the book, taking into account any language declarations in the book, so that it will work correctly on multi-lingual books as well. The code is very new, so there may well be bugs. As you type spell checking is not yet implemented."

    - title: "Kobo driver: Support firmware version 3.3"

    - title: "Device driver for Tolino Vision on windows"

  bug fixes:
    - title: "Amazon metadata download: Fix Editorial Reviews not downloading into the comments section for some books"

    - title: "DOCX Input: Fix some text highlighting colors in the DOCX file not being correctly translated during conversion."
      ticket: [1308181]

    - title: "Wireless device driver: Fix incorrect syncing behavior when book matching is run for a second time while connected. This happens when the user changes the library or selects 'Update cached metadata on device'."

    - title: "Searching: Fix searching by date not using the system locale to interpret dd/mm vs mm/dd dates on windows"

  improved recipes:
    - Barrons 
    - Creative Blog

  new recipes:
    - title: "Various new and updated Spanish news sources"
      author: Marc Busque

- version: 1.32.0
  date: 2014-04-11

  new features:
    - title: "Fetch news: Allow automatically creating custom news sources by importing OPML files. Many RSS news reader programs can export their list of RSS feeds in the OPML format."

    - title: "Conversion: When inserting metadata as a jacket page, alter the font sizes in the jacket so that the sizes match the sizes used in the rest of the book. Also pretty print the generated jacket HTML."

    - title: "Allow searching for books by id and uuid using the id: and uuid: prefixes"

    - title: "Allow specifying arbitrary colors for column coloring rules"

  bug fixes:
    - title: "Update the version of openssl shipped in the binary builds (the version in the windows 64bit build was vulnerable to the Heartbleed bug)"

    - title: "Edit Book: Fix book being marked as modified even when no actual changes were done by various automated tools such as Smarten Punctuation, Subset Fonts, etc."

    - title: "Fix ebook-device cp -f failing when destination file already exists"
      tickets: [1303181] 

    - title: "Ensure that the rendered dates in the book list and edit metadata dialogs are always in the same language as the calibre interface, regardless of system language setting"

    - title: "Edit metadata dialog: Remember window size for the cover download window"

    - title: "DOCX Input: Dont fail on DOCX files that contain pages with zero effective width."
      tickets: [1303022]

    - title: "Content server: Fix page not found error when clicking on a category that has only a single item in it"

    - title: "Send books to the Books folder for the Tolino Vision, as it cannot find books placed outside this folder"

    - title: "Edit book: Fix error when beautifying HTML files that contain un-indented <script> or <style> tags"

  improved recipes:
    - Ekantipur
    - NRC Handelsblad
    - Frontline

- version: 1.31.0
  date: 2014-04-04

  new features:
    - title: "DOCX Input: Support for converting indexes created using the Word Index tool. The entries in the index are automatically converted into links pointing to the indexed locations."

    - title: "AZW3 Output: Add support for converting documents with very large table of contents (with more than 2000 entries)."
      tickets: [1250475]

    - title: "Edit Book: Add a button to easily insert HTML tags. Useful if you want to quickly surround selected text with an arbitrary tag. You can right click the button to get a list of recently used tags."

    - title: "Driver for Tolino Vision (OS X/Linux only)."
      tickets: [1301875]

    - title: "Edit book: Allow editing SVG files as raw XML"

  bug fixes:
    - title: "DOCX Input: Fix incorrect numbering being generated for numbered lists in some circumstances."
      tickets: [1301044]

    - title: "calibredb check_library: Do not create empty library if user specifies incorrect path"

    - title: "DOCX Input: Fix handling of hyperlinks in documents where the hyperlink is specified as a field internally (Microsoft Word does not use fields for hyperlinks)"

    - title: "Get Books: Update WH Smiths plugin for website changes and remove Diesel eBooks, as they are shutting down"

    - title: "AZW3 Output: Fix a bug that caused popup footnotes in some AZW3 files to not work properly. The popup would show all remaining footnotes instead of only the current footnote."
      tickets: [1293290]

    - title: "AZW3 Output: Various tweaks to the internal structure and headers of the output file to make it closer to what kindlegen 2.9 generates"

    - title: "Edit Book: When user is editing files belonging to another user account on linux/os x rather than erroring out when saving, change the ownership of the file to the editing user."
      tickets: [1299097]

    - title: "Edit Book: Fix insert Inline ToC creating non-linear jumps in class names"

    - title: "Fix regression that broke ebook-device cp"

  improved recipes:
    - CNET
    - El Pais Impreso
    - CNet News
    - Antyweb

  new recipes:
    - title: 

- version: 1.30.0
  date: 2014-03-28

  new features:
    - title: "Cover Browser: Add an option to show covers with their original aspect ratio instead of resizing them all to have the same width and height.  Option is in Preferences->Look & Feel->Cover Browser."
      tickets: [1295902]

    - title: "PDF Output: Enable using javascript inside header and footer templates"

    - title: "Edit Book: When generating an inline ToC add a class attribute to all <ul> tags to make it easy to style a particular level of the ToC"

    - title: "Use abstract named sockets on linux for IPC, to avoid use of temp files for sockets"

    - title: "Drivers for the N800 and N950 Nokia MeeGo tablets"

    - title: "Edit Book Saved searches: Allow saving normal mode searches as well"

    - title: "Edit Book Saved searches: Add import/export functionality"

    - title: "calibredb add: Add option to specify language when adding books"
      tickets: [1295200]

  bug fixes:
    - title: "AZW3 Input: Handle files with garbage bytes in their table of contents."
      tickets: [1297713]

    - title: "DOCX Input: Fix text from some paragraphs not being converted if the paragraph contains an inline forced page break and no formatted text or line breaks."
      tickets: [1296817]

    - title: "calibre-customize: Do not error out if one of the installed plugins has no customization help when listing all plugins"

    - title: "Edit book: Fix error when exporting files on some windows systems with non UTF-8 filename encodings"
      tickets: [1298071]

    - title: "Edit Book: When beautifying treat <img> tags as block tags"
      tickets: [1297532] 

    - title: "Linux binary build: Fix worker processes not working on linux systems with bash >= 4.3"

    - title: "PDF Output: Fix using __SECTION__ in header and footer templates resolving to the inscorrect section if a page with no sections follows a page with multiple sections."
      tickets: [1295236]

    - title: "Cover Browser: Fix visual 'pop' when scrolling the first time"

    - title: "Grid View: Allow the left and right arrow keys to traverse over rows."
      tickets: [1295901]

  improved recipes:
    - The Atlantic
    - Courrier International
    - Der Tagesspiegel

- version: 1.29.0
  date: 2014-03-21

  new features:
    - title: "Edit Book: Add support for saved searches. Click Search->Saved Searches to bring up a dialog where you can create and manage saved searches"

    - title: "Edit Book: New tool to specify semantics in EPUB books (semantics are items in the guide such as preface, title-page, dedication, etc.). To use it, go to Tools->Set Semantics"
      tickets: [1287025]

    - title: "Edit Book: Preview panel: Add a copy selected text action to the context menu"

    - title: "Edit Book: When inserting hyperlinks, allow specifying the text for the hyperlink in the insert hyperlink dialog"

  bug fixes:
    - title: "Fix a regression in the previous release that broke downloading metadata for authors with a double initial such as R. A. Salvatore."
      tickets: [1294529]

    - title: "Edit book: When generating inline Table of Contents, mark it as such in the guide section of the OPF."
      tickets: [1287018]

    - title: "E-book viewer: Fix right margin for last page in a chapter sometimes disappearing when changing font size."
      tickets: [1292822]

    - title: "Edit Book: Fix saving of empty files not working"

    - title: "Edit book: Fix a regression in the previous release that broke saving a copy of the current book on linux and OS X"

    - title: "Edit book: Fix syntax highlighting in HTML files breaks if the closing of a comment or processing instruction is at the start of a new line."

    - title: "Edit book: Fix check book failing in the presence of empty <style/> tags."
      tickets: [1292841]

    - title: "Catalogs: Fix handling of tristate boolean custom columns when creating EPUB/MOBI catalogs."
      tickets: [1294983] 

    - title: "Linux build: Workaround for systems that have broken libc implementations that change the behavior of truncate() on file descriptors with O_APPEND set."
      tickets: [1295366]

  improved recipes:
    - TIME
    - Wired Daily Edition

  new recipes:
    - title: Applefobia 
      author: koliberek

- version: 1.28.0
  date: 2014-03-14

  new features:
    - title: "Edit Book: Add a tool to easily insert hyperlinks (click the insert hyperlink button on the toolbar)"

    - title: "Edit book: Add a tool to easily open a file inside the book for editing by just typing a few characters from the file name. To use it press Ctrl+T in the editor or go to Edit->Quick open a file to edit'"

    - title: "Edit book: Allow disabling the completion popups for the search and replace fields. Right click on the search/replace field to enable/disable the completion popup"

    - title: "E-book viewer: Add an option to control the maximum text height in full screen. Note that it only works if the viewer is in paged mode (which is the default mode)."

    - title: "Show the search expression for the virtual library in a tooltip when hovering over the tab for the virtual library."
      tickets: [1291691]

    - title: "Book details panel: Show author URL in a tooltip when hovering over author names"

    - title: "Kobo driver: Update to handle updated Kobo firmware"

  bug fixes:
    - title: "Library backup: Avoid infinite retries if converting metadata to backup OPF for a book fails. Simply fail to backup the metadata for that book."
      tickets: [1291142]

    - title: "Edit book: Fix file permissions for the edited book being changed on Linux and OS X"

    - title: "Fix text entry cursor becoming invisible when completion popup is opened"

    - title: "Possible fix for crash on OS X Mavericks when adding duplicates"

    - title: "E-book viewer: Fix pressing the Esc key to leave full screen mode not changing the state of the full screen button"

    - title: "When reading metadata from filenames, do not apply the fallback regexp to read metadata if the user specified regexp puts the entire filename into the title. The fallback is only used if the user specified expression does not match the filename at all."

    - title: "Linux binary install script: Fix error on linux systems where the system python has an encoding of None set on stdout. Assume encoding is utf-8 in this case."

    - title: "Content server: Fix (maybe) an error on some windows computers with a non-standard default encoding"

  improved recipes:
    - Fleshbot

- version: 1.27.0
  date: 2014-03-07

  new features:
    - title: "An option to add multiple books from inside a ZIP or RAR file. Right click the Add Books button and choose 'Add multiple books from archive'."

    - title: "Database backend: Make the database backend more robust when the calibre library is placed on flaky filesystems. Now when an I/O error occurs while writing to the database, the connection to the database is closed and re-opened and the operation is retried."
      tickets: [1286522]

    - title: "DJVU Input: Speedup extraction of text from DJVU files by implementing the BZZ decoder algorithm in C"

  bug fixes:
    - title: "MOBI Input: Fix empty <a> tags not being handled correctly in rare cases when the markup is bad enough to be parsed only using the fallback HTML parser."
      tickets: [1288430]

    - title: "Edit book: Fix column number of cursor shown in the bottom right being one less than it should be."

    - title: "Edit book: Fix names for non-BMP unicode character (Such as emoticons) not being displayed in the lower right corner. Also allow these characters to be searched for by name in the Insert special character tool."

    - title: "Do not show system tray notification popups while analyzing books on device, as they can be slow on systems that display multiple messages serially instead of replacing the last message"

    - title: "Linux installer script: Do not use the filesystem to pass the downloaded tarball to tar as it is possible for malicious code running on the users computer to alter the download file between signature verification and calling tar to extract the files."

    - title: "DJVU Input: When extracting embedded txt from TXTz sections in DJVU files, fix incorrect extraction of txt when the djvutxt external program is not present."
      tickets: [1286771]

    - title: "Edit Book: Fix import HTML file as new book not working on OS X"

    - title: "Wireless device driver: Fix a regression that prevented it form working with the Calibre Sync Android app."

    - title: "Fix a regression in 1.26 that caused width and height attributes on <img> tags to generate CSS width and height properties without a 'px' suffix"

    - title: "Linux binary installer: Fix an error when using proxies and python 3 with the new installer script"
      tickets: [1286274]

    - title: "Edit book: When exporting files, fill the choose filename popup with the name of the file being exported as the default name"

    - title: "Make the new Linux installer script compatible with python 2.6."
      tickets: [1286011]

  improved recipes:
    - American Thinker
    - HNA 
    - Heise
    - Arguments and Facts
    - Financial Times

- version: 1.26.0
  date: 2014-02-28

  new features:
    - title: "Edit Book: Allow direct importing of HTML or DOCX files as new books without doing a full conversion. Use File->Import HTML or DOCX to import a file as a new EPUB book with minimal changes from the original."

    - title: "Linux binary installer: Various improvements to the binary installer. It now creates an un-installer (calibre-uninstall) that will remove all files created by the installer. It also no longer asks for the installation directory. If you wish to change that, you need to specify it in the installation command itself. Also the installer is now downloaded securely via HTTPS from github and verifies the signature of the installed files. Finally, it can be used to create an isolated install, that only makes changes to files in the installation directory and does not require root privileges."
      tickets: [1283154] 

    - title: "Metadata download: Add an option to merge the downloaded comments into existing comments, instead of overwriting (Preferences->Metadata download)."
      tickets: [1285319]

    - title: "Edit book: Add an option to automatically beautify individual files whenever they are opened for editing. Look under 'Editor Settings' in the Edit Book Preferences."

    - title: "Bulk metadata download: When reviewing downloaded metadata allow hiding the controls on the comments box by right clicking in the comments area. Useful on smaller screens."
      tickets: [1283251]

    - title: "E-book viewer: When displaying metadata for the book, also display custom column metadata"

  bug fixes:
    - title: "Smarten punctuation: Correct handling for decade abbreviations like '60s and measurements in feet and inches like 1' 2\"."
      tickets: [1285351]

    - title: "EPUB Output: If the output profile is set to one of the Nook profiles, do not use shorthand CSS properties as the Nook cannot handle them."

    - title: "Conversion: Fix incorrect CSS being generated when converting files that have <img> tags with width or height attributes that contain fractional numbers."
      tickets: [1283108]

    - title: "Edit Book: When editing EPUB files, and a file is added in META-INF/ do not automatically add it to the manifest. Also do not warn about unmanifested files inside META-INF/ since a few vendors (Apple) require non standard files in that location."
      tickets: [1283015]

    - title: "Fix Book details popup window not being updated when editing metadata in the main window"

    - title: "Edit book: Fix editor not marking the book as modified when doing a Replace All that does not affect any currently open files."

    - title: "Windows: Use a separate worker process to move files to the recycle bin. Fixes the problem of the recycle bin icon not being updated when deleting books into an empty recycle bin. Also avoids the overhead of launching a new, short-lived worker process for every delete."

    - title: "calibredb: When deleting books/formats wait for deleted files to be moved to recycle bin, before quitting"

    - title: "RTF Output: Fix invalid RTF being produced when the text contains a double backslash."
      tickets: [1268118]

    - title: "Edit book: Fix option to disable showing the character before cursor not working"

    - title: "Get Books: Update various store plugins to account for changes to the store websites"

    - title: "Fix virtual library names with ampersands in them not being displayed correctly in the virtual library menu and tab bar"

  improved recipes:
    - AnandTech
    - Zeit Online
    - Spektrum
    - Le Temps

  new recipes:
    - title: Various Russian news sources
      author: bug_me_not

- version: 1.25.0
  date: 2014-02-21

  new features:
    - title: "PDF: Add support for reading and writing extended (XMP) metadata"
      description: "calibre can now read and write XMP metadata from PDF files. This means that all metadata that you can create in calibre, including custom columns, can be stored in the PDF files. It is also useful when importing PDF files created by some academic publishers, that sometimes have good XMP metadata, such as DOI identifiers, tags and so on."
      type: major

    - title: "Updated Quick Start guide. Available from: https://github.com/kovidgoyal/calibre/raw/master/resources/quick_start.epub"

    - title: "Edit Book: Allow typing arbitrary unicode characters with the keyboard in the editor To use this feature, just type the unicode code number and press Alt+X.  For example, to get the character Ã¿ type ff and press Alt+X"
      tickets: [1280868]

    - title: "Edit book: Some performance improvements for the syntax highlighter that should make the editor noticeably more responsive while typing inside large HTML files."

  bug fixes:
    - title: "Edit book: Fix an error that occurs if more than 100 checkpoints are created."
      tickets: [1282583]

    - title: "Edit book: Fix splitting of HTML file occurring at the wrong location if the HTML contains invalid constructs like nested <p> tags"

    - title: "Edit book: If the book being edited is deleted outside the editor, instead of showing an error message on save, ask the user to choose a new file location before saving."

    - title: "Bulk metadata edit search and replace: Do not allow the user to perform the search and replace until she enters a search expression."
      tickets: [1282357]

    - title: "Conversion: When converting SVG images for formats that do not support SVG and the SVG has an invalid viewBox, ignore the viewBox instead of aborting conversion"

    - title: "Conversion: Fix parsing of HTML 5 documents that are also valid XML but use non-namespaced inline svg"

    - title: "Catalogs: Fix multiple exclusion rules causing entries to be duplicated."
      tickets: [1281296]

    - title: "HTML Input: Fix incorrect parsing of file names in href/src attributes that contain percent encoded non-ascii characters."
      tickets: [1281099]

    - title: "Edit book: Workaround bug in Qt causing crash on deleting bottom most file in the Files Browser on linux"

    - title: "Edit book: Workaround for bug in Qt that caused extra null bytes to be appended to the end of the file when saving if the file contains non-BMP unicode characters."

    - title: "Edit book: When autofixing file extensions <-> mimetype mismatch, if the file in question is in the spine, change the file extension rather than the mimetype, as that is more likely to be the correct fix."

    - title: "Fix the Similar Books menu items failing to find similar books if the target book has a quote in its metadata"
      tickets: [1280606]

    - title: "Edit book: Fix regression that caused program to stop responding when quitting via File->Quit"

  improved recipes:
    - Various Polish news sources
    - Mac World UK

  new recipes:
    - title: 

- version: 1.24.0
  date: 2014-02-14

  new features:
    - title: "E-book viewer: Add support for touchscreens when running on Windows tablets."
      type: major
      description: "The builtin viewer in calibre now supports touch screens on Windows tablets. You can tap or swipe to turn pages. Swipe up or down to jump between sections. Swipe and hold to flip through pages rapidly and pinch to zoom in and out."

    - title: "Sending by email: Add an option to insert the comments from the book metadata as text into the email. Useful to allow the recipient to see a summary of the book before opening it. The option is in Preferences->Sharing by email"

    - title: "Edit book: new tool to automatically generate an inline (HTML) Table of Contents based on the current NCX Table of Contents. Accessed via Tools->Table of Contents->Insert inline Table of Contents."

    - title: "Edit Book: Add a check for internal links in the book that do not point to HTML documents"

    - title: "Kobo driver: Add support for the soon to be released firmware version 3.2"

    - title: "Completion popups: Allow pressing Tab (in addition to Enter) to accept the current completion"

    - title: "Edit book: When auto-fixing named entities, fix in all files not just current file."

  bug fixes:
    - title: "EPUB Output: Do not override any declared text-decoration CSS for <u> tags when auto-converting them to <span> (auto-conversion is needed to comply with the epub spec)."
      tickets: [1278670]

    - title: "Windows: Improve handling of non-ascii characters when the command line utilities are outputting to the windows console"

    - title: "PDF Output: Fix incorrect rendering of html files with only a single large image and very little text. In some rare circumstances, the full html file would not be rendered."
      ticket: [1278877]

    - title: "Add a copy to clipboard button for the duplicates message when copying to another library."
      tickets: [1278305]

    - title: "Catalogs: Fix an error when generating catalogs via calibredb from the command line on non-English installs"

    - title: "Catalogs: Fix an error creating catalogs in ebook format when one of the books contains HTML entities in its title"

    - title: "Preferences: When using the Restore to defaults button for the Tweaks, remove all plugin tweaks as well. This allows the user to recover the tweaks file if one of the plugins insert invalid code into the plugin tweaks"

    - title: "Edit book: Fix previously used locations for file open dialogs not being remembered when edit book is launched from within the main calibre program"

    - title: "Edit book: Fix a couple of temporary files occasionally not being cleaned up on program exit in windows"
      tickets: [1280040]

  improved recipes:
    - Associated Press
    - NRC Handelsblad 
    - Cumhuriyet Yazarlar
    - ABC (es)

- version: 1.23.0
  date: 2014-02-07

  new features:
    - title: "Edit Book: Highlight the closest surrounding tag when editing HTML/XML"

    - title: "Edit Book: Add a tool to easily change the current paragraph (the paragraph containing the cursor) to a heading. Simply click the button with 'H1' on it and choose the heading level you want the current paragraph changed to."

    - title: "Edit Book: When running Replace All add a button to the replaced message to show exactly what changes were done and allow them to be undone"

    - title: "Edit book: When checking book, detect case mismatches between links and the filenames of the files they point to and offer to auto-correct the links"

    - title: "Adding books: Implement a copy to clipboard button for when duplicates are found during the adding process. Useful if you wish to review the list of duplicates later."
      tickets: [1276918]

    - title: "Linux installer: Install appdata files for integration with software stores."
      tickets: [1271974]

    - title: "Edit book: Auto add a checkpoint when the book is first opened for editing"

  bug fixes:
    - title: "Edit Book: Fix a bug in AZW3 support that could cause images/fonts to get mixed up when saving and re-opening the book multiple times."
      tickets: [1276726]

    - title: "Edit Book: Fix individual find and replace not working in regex mode if the search expression uses lookbehind/lookahead operators"

    - title: "Compare books: Fix unchanged lines at the start of a change block being sometimes marked with a blue background, even though they contain no changes"

    - title: "Compare books: Fix incorrect scrolling when viewing all text and a large amount of text is present after the final change."

    - title: "PDF Output: Fix a zero division error when the transformation matrix has a zero diagonal"
      tickets: [1277102]

    - title: "calibredb add_custom_column: Fix a spurious error message when adding custom columns caused by the new db backend"

    - title: "calibredb list: Fix error if one of the requested fields is empty for all requested books"

    - title: "calibredb set_metadata: Fix setting series_index with the -f argument not working"

    - title: "Markdown input: Fix handling of very large files."
      tickets: [1212330]

    - title: "Edit book: Do not create savepoints when no changes are performed by automated tools such as smarten punctuation, remove unused css etc."

    - title: "Edit Book: Fix a bug that would cause an error when a global operation like find/replace or polishing fails."
      tickets: [1275366]

    - title: "Metadata download: Workaround edelweiss.com no longer being able to search by author name.  Search only by titles and filter the results returned by edelweiss to only include matching authors."

    - title: "HTML 5 parser: Preserve non-core namespace declarations on the <html> tag"

    - title: "Workaround broken file chooser dialog on Ubuntu that does not auto-insert the specified extension."
      tickets: [1275125]

    - title: "Compare books: Fix error when previously different files become identical after beautifying"

    - title: "Edit Book: Fix subsetting embedded fonts not processing fonts included in a stylesheet that is itself referenced only by an @import rule"

    - title: "Edit Book: Fix the remove unused css tool changing the namespace prefix used for the XHTML namespace in the CSS sheet, if any"

    - title: "Conversion: Fix CSS selectors using the epub namespace being ignored"

    - title: "Compare books: Fix double clicking in the right panel not opening the correct file in the editor"

  improved recipes:
    - Kathimerini
    - Cosmopolitan UK
    - wired.it
    - Gosc Niedzielny
    - New York Times Book Review

  new recipes:
    - title: Disinformatico 
      author: isspro

    - title: Les Echos 
      author: Krittika Goyal

- version: 1.22.0
  date: 2014-01-31

  new features:
    - title: "A new tool to compare ebook files, showing the differences in their underlying text, styles and images side by side"
      type: major
      description: "The new compare tool is very useful in combination with the book editor. It allows you to see what changes have been made between checkpoints and what changes were made by automated tools. You can also compare different versions of the same ebook file. How to use each of these features is described below. Screenshots and help for using the new compare tool are at http://manual.calibre-ebook.com/diff.html"

    - title: "Edit book: Add a tool to view the list of checkpoints and compare the current state of the book to the state at the specified checkpoint. To use it click View->Checkpoints"

    - title: "Edit book: Add a tool to compare the book being currently edited with another file. To use it go to File->Compare to other book"

    - title: "Allow comparing the ORIGINAL_EPUB version of a book to the EPUB version by right clicking on the ORIGINAL_EPUB format in the book details panel. And the same for ORIGINAL_AZW3 and AZW3 formats."

    - title: "Edit Book: Add a button to show the changes after various automated tools are run such as: remove unused CSS, subset embedded fonts, smarten punctuation, etc."

    - title: "Edit Book: Add check for spine items with incorrect media-type specified in the manifest"

    - title: "Edit Book: Enable editing of page map XML files"

    - title: "DOCX Input: Improve handling of text boxes. Text boxes are still not supported, but they no longer cause errors or duplicate content when embedded inside paragraphs."
      tickets: [1273130]

    - title: "Edit Book: Add check for links that point to directories in the book instead of files."
      tickets: [1272769]

    - title: "Edit Book: Show the filename of the currently edited file in the title bar."
      tickets: [1272543]

  bug fixes:
    - title: "Edit Book: Fix unused CSS removal tool inserting namespace declaration at the top of the stylesheet"

    - title: "Edit book: Fix cover not being updated from the current cover in the calibre library when using Edit Book. Note that you can turn off metadata updating via Preferences->calibre Integration in the Edit Book Preferences."
      tickets: [1272730]

    - title: "Conversion: Add support for <style> and <link> tags outside the <head> tag."
      tickets: [1274339]

    - title: "Edit book: Fix undo not working for subsetting fonts"

    - title: "CHM Input: Handle CHM files with broken markup where all the content is placed inside the <head> tag."
      tickets: [1273512]

    - title: "DOCX Input: Fix padding-left of <ul>, <ol> being defaulted to 0 if no padding specified in the docx style, which breaks rendering for lists at the left margin of the document."

    - title: "MOBI Output: Handle the value attribute on <li> tags."
      tickets: [1273559]

    - title: "EPUB Output: Fix splitting of HTML files not updating links in the <pageList> section of the NCX file"

    - title: "EPUB Input: Handle EPUB files with incorrect media types for the spine items when converting."
      tickets: [1273471]

    - title: "RTF Output: Fix failure to convert documents that contain comments with the -- string inside the comment."
      tickets: [1272588]

    - title: "Edit Book: Fix extra 1x1 unused GIF image being created when saving and re-opening AZW3 files."
      tickets: [1272410]

    - title: "Fix editing of narrow yes/no columns in the book list not very convenient"
      tickets: [1272089]

  new recipes:
    - title: Various Russian News sources 
      author: bug_me_not

- version: 1.21.0
  date: 2014-01-24

  new features:
    - title: "Edit book: Add a tool to automatically remove all unused CSS rules.  Useful for books created from templates that can have large numbers of CSS rules that dont match any actual content. Available via Tools->Remove unused CSS."

    - title: "Edit book: Add a tool to split HTML files at multiple locations automatically.  To use it, right click in the file and choose 'Split at multiple locations'.  Useful if you want to split at all heading tags or all tags having a certain class and so on."

    - title: "Book polishing: Add an option to automatically remove all unused CSS rules, works the same as the tool for Edit book, above."

    - title: "Driver for ImCoSys imcoV6L"
      tickets: [1266079]

    - title: "Edit book: Allow editing of .plist files as XML"

  bug fixes:
    - title: "Metadata download: Fix downloading of metadata from Edelweiss not working because of website changes"

    - title: "Ebook viewer: Do not override the background color specified in the book if the user has not set a background color in the viewer preferences"

    - title: "Edit book: Handle EPUB files that erroneously list the OPF itself in the OPF manifest with an incorrect mime type"

    - title: "Edit book: Prevent arrange into folders tool from moving files inside the META-INF folder"

  improved recipes:
    - Indian Express
    - Daily Express
    - Business Week Magazine
    - New York Review of Books

  new recipes:
    - title: Various Turkish news sources
      author: asalet_r

- version: 1.20.0
  date: 2014-01-17

  new features:
    - title: "Edit book: Add a new tool to automatically arrange all files in the book into folders based on their type. Access it via Tools->Arrange into folders."

    - title: "Edit book: Add various validity checks for OPF files when running the Check Book tool."
      description: "Check for incorrect idrefs, missing required sections, non-linear items in the spine, incorrect meta cover tags, duplicated items in the manifest or spine and so on."

    - title: "Edit book: Add checks for duplicate ids in HTML/OPF/NCX files"

    - title: "Edit book: Add checks for filenames containing URL unsafe characters to the Check Book tool"

    - title: "Conversion: Allow getting text for entries in the Table of Contents from tag attributes."
      tickets: [1267837]

  bug fixes:
    - title: "AZW3 Output: When converting EPUB files that include an HTML titlepage and no external cover is specified, ensure that the Go to cover action on the Kindle goes to the cover image and not the HTML titlepage."
      tickets: [1268657]

    - title: "Prevent setting an incorrect value for compression quality in the wireless driver causing an error"

    - title: "Show a busy cursor while calibre is working on matching books on the device to books in the library, which can take a while if the user has a lot of books on the device."

    - title: "iTunes driver: Retry automatically a few times when failing to send multiple book to iTunes."
      tickets: [1268058]

    - title: "HTML Input: Fix UTF-16/32 encoded files that are linked to from the parent file not being properly processed."
      tickets: [1268262]

    - title: "EPUB Output: Fix splitting of large HTML files removing all child tags from inside <pre> tags."
      tickets: [1267327]

    - title: "Edit book: Fix tab characters not being identified in the lower right corner."
      tickets: [1267980]

  improved recipes:
    - Various Polish news sources
    - Dilema Veche

- version: 1.19.0
  date: 2014-01-10

  new features:
    - title: "Edit book: A new tool to insert special characters into the text, available via Edit->Insert special character. Supports all unicode characters (over 60,000 of them). See http://manual.calibre-ebook.com/edit.html#inserting-special-characters"

    - title: "Edit book: When searching for text in the editor, center the found text on screen"

    - title: "Driver for teXet TB-146SE."
      tickets: [1266030]

    - title: "Edit book: Show tooltips in the File Browser for 'special' files, such as the cover, opf, ncx, etc."

    - title: "Edit book: When checking book, check for entries in the OPF whose mimetype does not match the file extension."

  bug fixes:
    - title: "Edit book: Fix marking a file as titlepage not working if the opf does not contain a <guide> section."
      tickets: [1267643]

    - title: "Edit book: Fix errors when working on HTML files that parse as valid XML, but do not have the correct XHTML namespace."

    - title: "Fix typing non-English characters using an input method (key composing) in the author/tags/etc fields in the metadata dialog not working."
      tickets: [1266795]

    - title: "Edit book: Fix error when merging html files that include a currently opened file and a non-html file is also open"

    - title: "Fix unnecessary error popup during shutdown if the wireless device driver is running and mdns de-registration fails."
      tickets: [1262819]

    - title: "Add LÂ´ and DÂ´ as recognized articles when automatically computing sort strings for French."
      tickets: [1264172]

    - title: "Edit book: Fix changing mimetypes in the opf file not being detected when closing the opf file or running any automated tool like Check Book"

  improved recipes:
    - New York Times
    - Zeit Online
    - Faz.net
    - OGlobo
    - Inc Magazine
    - New York Review of Books
    - Brand Eins

- version: 1.18.0
  date: 2014-01-03

  new features:
    - title: "Add an option to control how completion works when editing authors/tags/series/etc."
      description: "By default, when completing items, calibre will show you all the candidates that start with the text you have already typed. You can instead have it show all candidates that contain the text you have already typed. To do this, go to Preferences->Tweaks->Completion mode.  For example, if you type asi it will now match both Asimov and Quasimodo, whereas the default behavior would match only Asimov."
      tickets: [1264304]

    - title: "Edit book: Add a check for too large HTML files when running the check book tool."
      tickets: [1264680]

    - title: "Conversion: Sort the CSS rules in the output stylesheet using a 'natural' sort algorithm, so that calibre2 sorts before calibre10."
      tickets: [1265175]

    - title: "Cybook Orizon driver: Upload cover thumbnails in the correct format and add an option to control what directory books are sent to on the SD card"
      tickets: [1265225] 

    - title: "Portable installer: Do not ask the user for confirmation when upgrading an existing installation during an automated install"

    - title: "Linux/OS X driver for Trekstor Pyrus LED"

    - title: "Driver for Tagus Lux"
      tickets: [1264355 ]

  bug fixes:
    - title: "MOBI Output: When text indent is specified as a percentage in the input document, prevent the generated MOBI from having too large an indent if the user chooses a large output profile like tablet."
      tickets: [1265226]

    - title: "Edit book: Fix live replacement of entities not working on some non-US keyboard layouts."
      tickets: [1265147]

    - title: "Fix titlecasing of words not capitalizing the first letter, if the first letter is not an English character."
      tickets: [1265202]

    - title: "Edit book: Ensure that multiple edit book windows are grouped in a separate group from viewer windows in the Windows 7 taskbar. Also change the icon color to blue to more easily distinguish it from the viewer icon"

    - title: "Edit book: Fix a bug in the regex engine that calibre uses that could cause various incorrect results in some special circumstances."
      tickets: [1263461]

    - title: "Edit book: Replace buggy Qt supplied actions in the context menu for the editor widget with properly implemented ones"

    - title: "Book list: Fix sorting on fields that are not viewable as columns not being restored on calibre restart. Also fix sorting on the Title field via the right click menu not being restored."

    - title: "Windows 64bit build: Fix corrupted images in MOBI files causing crash."
      tickets: [1264534]

    - title: "Edit book: Prettify html in newly created books."
      tickets: [1264390]

    - title: "AZW3 Input: Handle azw3 files that contain some empty individual HTML files"

    - title: "Comic Input: Fix a regression to comic input in 1.15 that could cause some comics to be rendered as black or white pages."
      tickets: [1264133]

  improved recipes:
    - Chicago Tribune
    - Caijing
    - HBR
    - poche
    - Neue Osnabrucker Zeitung

  new recipes:
    - title: Nan Feng Chuang 
      author: Chen Wei

- version: 1.17.0
  date: 2013-12-25

  new features:
    - title: "Merry Christmas everyone! Early release this week, as I will be travelling."

    - title: "Edit book: Allow drag and drop of images onto the image editor"

    - title: "Edit book: Allow import of multiple files at once, via File->Import files into book"

    - title: "Edit book: Show the name of the current character to the left of the cursor in the status bar. Can be turned off via Preferences."

    - title: "Edit book: Automatically replace HTML entities as they are typed. This can be turned off in the Preferences."

    - title: "ToC Editor: Allow bulk renaming of items. Simply select the items you want to rename, right click and choose bulk rename. Useful if, for instance, you want to rename all the items to be Chapter 1, Chapter 2 and so on."

    - title: "Edit book: Allow linking of stylesheets into HTML files automatically.  Right click on the selected HTML files in the File browser and choose 'Link stylesheets' to have the <link> tags for the sheets automatically inserted."

    - title: "Edit book: When deleting files, automatically remove all entries that refer to them from the ToC"

  bug fixes:
    - title: "ToC Editor: When auto-generating the table of contents from headings or XPath, if an element is at the top of the file, link only to the file instead of to the element."
      tickets: [1261099]

    - title: "Edit book: When splitting files, name the newly created file with a _split suffix."

    - title: "Edit book: Fix position syncing incorrect when in HTML files that contain <meta> tags with charset encoding declarations over more than a single line"

    - title: "Edit book: Automatic correction of font family names not quoting family names with spaces in them if the original, incorrect family name did not have a space."
      tickets: [1263448]

    - title: "Title casing: Fix presence of some non-English characters or smart punctuation causing all-caps text to not be properly titlecased"

    - title: "Edit book: Fix a bug preventing marking an image as cover in a book that previously had no cover"

    - title: "Edit book: Fix a typo causing the preferences for which windows occupy which corners to not work"

    - title: "Edit book: Fix crash that happens sometimes when deleting multiple files."
      tickets: [1263179]

    - title: "Edit book: Handle EPUB files which contain opf files with no <metadata> tags"

    - title: "Edit book: Fix deleting a file that is currently open in an editor, not auto-closing the editor"

    - title: "DOCX Input: Fix error when converting DOCX file that contains only image based links and no text based links."
      tickets: [1263021]

  new recipes:
    - title: Birmingham Evening Mail 
      author: Dave Asbury

- version: 1.16.0
  date: 2013-12-20

  new features:
    - title: "Edit book: Add a tool to browse all images in the book with their thumbnails. Useful for visually locating an image. To launch it, use View->Browse images in book."

    - title: "Edit book: Allow creation of new, empty books via File->Create new book"

    - title: "Edit book: Add buttons to easily create formatting such as bold/italic/colors/etc. when editing HTML files"

    - title: "Edit book: Add button to easily insert <img> tag while editing HTML"

    - title: "Edit book: Add options to change the default font families/sizes for the preview panel"

    - title: "Edit book: Allow customizing which dockable windows occupy the four dock corners via Edit->Preferences. You can now also choose to have more than one row of windows in a given dock area."

  bug fixes:
    - title: "Edit book: When editing AZW3 files with no images in them, do not incorrectly display a number of binary records from the AZW3 file as 'unknown' miscellaneous files"

    - title: "Edit book: Fix marking image as cover not working for AZW3 files if the file did not previously have a cover"

    - title: "AZW3 Output: Do not refuse to create the ToC if it has only a single entry"

    - title: "Edit book: Fix crashes when processing some books that contain malformed markup on OS X and windows 64bit machines"

    - title: "Edit book: Fix error when renaming the html file currently displayed in the preview panel and that file is not the file being currently edited"

    - title: "Edit book: Fix crash when editing books that have links to absolute paths."
      tickets: [1261337]

    - title: "Edit book: Fix book not being marked as modified after editing the ToC"

    - title: "Edit book: When syncing the position of the preview panel to the cursor in the editor and the cursor is at or before the <body> tag set the position of the preview panel to the top of the file, so that the top margin of the body tag is seen easily."

    - title: "Edit book: Fix trying to import an html file/css file via the add new file button always resulting in a blank file"

    - title: "Edit book: Fix replacing a file with another file with exactly the same filename causing an error."
      tickets: [1260822]

    - title: "Edit book: Have the ToC view refresh itself after any major operation on the book"

    - title: "Edit book: Fix pasting in the image editor not working"

  improved recipes:
    - NZZ
    - Spiegel Online
    - Daily Mail
    - FAZ.net

- version: 1.15.0
  date: 2013-12-13

  new features:
    - title: "A new book editor, capable of editing files in the EPUB and AZW3 (Kindle) formats"
      type: major
      description: "Right click on any book in calibre and choose 'Edit Book', to edit e-books in the EPUB and AZW3 formats. The new editor allows you to edit the HTML/CSS and images inside the ebooks in a seamless fashion, with live preview of your changes and many helpful automated tools for checking the book for errors, editing the table of contents, merging, splitting, bulk renaming and so on. See http://manual.calibre-ebook.com/edit.html for more details and help using the new editor. Note that the editor is a completely new codebase and is still being actively developed, so expect a few bugs and many new features in the near future. However, the editor as it stands is extremely useable and useful today. Note that it replaces the old 'Tweak Book' feature in calibre. If you want the old Tweak Book back, it has been renamed to 'Unpack Book', you can go to Preferences->Toolbars and add it back. Happy holidays!"

    - title: "Edit metadata dialog: In the tag editor, allow easy filtering of the lists of available and applied tags."

    - title: "Driver for Onyx Boox C65."
      tickets: [1259914]
 
  bug fixes:
    - title: "Kobo driver: Fix book covers not showing for sideloaded kepubs on the book details screen, with newer Kobo firmware."
      tickets: [1260279]

    - title: "Content server: Popup a more useful error when clicking on the cover of a book that has no formats to view."
      tickets: [1260216]

    - title: "Cover grid: Fix text showing 'None' for rating fields for books with no rating"

    - title: "Cover grid: Set text color based on the background color/image being used."
      tickets: [1258754]

    - title: "Metadata editor: Fix removing formatting for comments not removing background colors."
      tickets: [1258975]

    - title: "EPUB Output: Remove name attribute from <a> tags (replacing with id) to keep the asinine epubcheck happy"

- version: 1.14.0
  date: 2013-12-06

  new features:
    - title: "Edit metadata dialog: Add the ability to trim covers manually, if automatic trimming is not satisfactory."
      tickets: [1256054]

    - title: "You can now show any metadata field below the covers in the cover grid view, not just title. To change the displayed field go to Preferences->Look & Feel->Cover Grid."

    - title: "Allow searching for plugins by name in the install new plugins dialog"

    - title: "Kobo driver: Allow sending kepubs to older kobo devices as well, also add support for firmware 3.1"
      tickets: [1257972, 1257143]

    - title: "Allow viewer plugins to customize the viewer's user interface"
 
  bug fixes:
    - title: "Table of Contents Editor: Handle generating ToC from headings if the first heading level in the document is not h1 or the document skips some intermediate heading levels"

    - title: "Update the metadata download and Get Books plugins for ozon.ru"

    - title: "Fix sending by email not working on computers with non-ascii hostnames."
      tickets: [1256549]

    - title: "Wireless driver: Fix launching programs from within calibre causing the wireless driver port to remain in use even after calibre is shutdown."
      tickets: [1256198]

  improved recipes:
    - Kommersant
    - Pocket
    - Heraldo de Aragon
    - National Geographic Magazine
    - Los Angeles Times
    - Boerse Online
    - Reuters

- version: 1.13.0
  date: 2013-11-29

  new features:
    - title: "Edit metadata dialog: Facilitate editing the authors for books that have a large number of authors, by using a dedicated 'Edit authors' tool, which you can launch by right clicking the authors in the edit metadata dialog
and selecting 'Edit authors'."
      tickets: [1255288]

    - title: "Conversion: Fix specifying shorthand properties in filter css not working. Now all shorthand properties automatically filter out all the properties they are shorthand for."

    - title: "Kobo driver: support new firmware version 3.0.1"

    - title: "Wireless device driver: Cache metadata on a per device basis."
      description: "Allows for using different cover thumbnail sizes on different devices. Will force device to resend all metadata the first time it is connected after this upgrade."

  bug fixes:
    - title: "Metadata download: Update code to get covers via google image search to handle changes to the google website."
      tickets: [1254973]

    - title: "Searching: When searching for identifiers, fix searching for values that contain colons not working. Also fix escaped parentheses not being parsed correctly."

    - title: "Match books on device: Fix parentheses in book titles not being escaped when searching for matches."
      tickets: [1255671]

    - title: "Match books on device: Fix thumbnail in device metadata cache not being updated when matching books."
      tickets: [1255676]

    - title: "File open dialogs; If the previously used initial directory, no longer exists, use a directory one level up."
      tickets: [1255216]

    - title: "EPUB Output: Strip -- from inside comments, as some ebook reading apps cannot handle them."
      tickets: [1256059]

    - title: "Fix a regression in the previous release that broke the Kobo third party plugins"

    - title: "Fix QuickView windows not staying on top on some linux systems"
      tickets: [1253922]

    - title: "Fixes for website changes for various Get Books Polish language stores"

    - title: "Metadata download dialog: Fix current cover not copyable to clipboard"

    - title: "Fix an incorrect translation of the language 'Polish'"
      tickets: [1254161] 

  improved recipes:
    - Economist
    - Various PostMedia news sources

- version: 1.12.0
  date: 2013-11-22

  new features:
    - title: "Auto adding: Option to add files of all types, not just ebooks. You can now tell calibre to auto add all file types, instead of just known ebooks via Preferences->Adding books->Automatic adding."
      tickets: [1252814]

    - title: "Quick view: Show the title/author/series columns in the same order as in the main book list."
      tickets: [1253022]

    - title: "Update Kobo driver to allow sending kepubs"
      tickets: [1252688]

    - title: "Allow right clicking on covers to copy them in the metadata cover download dialog."
      tickets: [1251793]
 
  bug fixes:
    - title: "Titlecase: Fix incorrect title casing for some non-English words."
      tickets: [1253692]

    - title: "Kobo driver: Fix errors when using rating or numerical custom columns to create shelves."
      tickets: [1253637]

    - title: "E-book viewer: Allow searching to work with hyphenation enabled, provided you are searching for whole words. Searching for partial words may still not work. For robust searching, turn off hyphenation in the viewer preferences."

    - title: "Get books: Update the B&N UK store plugin to handle changes to the B&N UK website"

    - title: "Apply changes being edited when clicking apply in the email preferences list."
      tickets: [1252758]

    - title: "Fix crash on linux systems whose fontconfig configuration includes paths to in an undecodable encoding."

    - title: "Fix editing custom column values in the book list not allowing change of case."
      tickets: [1251768]

    - title: "Kobo driver: Fix latest firmware update for Kobo Wifi causing calibre to not recognize it."
      tickets: [1251536]

    - title: "Content server: Fix virtual libraries with an ampersand in their names not working"

  improved recipes:
    - Le Monde (free version)
    - Pecat
    - Daily Express

  new recipes:
    - title: Loksatta and Maharashtra Times
      author: Krittika Goyal

- version: 1.11.0
  date: 2013-11-15

  new features:
    - title: "Kobo driver: Support the new firmware version 3.0.0 for Kobo devices"

    - title: "Content server: Show the name of the virtual library at the top when browsing books in a virtual library."
      tickets: [1251278]

    - title: "Add a keyboard shortcut (Ctrl+*) to convert the current search into a temporary virtual library."
      tickets: [1249773]

    - title: "Template language: Add a transliterate function, useful to convert metadata in other languages into its phonetic English representation, when exporting books from calibre."
      tickets: [1249562]

    - title: "Remove the button to toggle search result highlighting from next to the search bar, as too many people click it accidentally and then do not realize what they have done, despite the confirmation message that pops up. The button can be restored via Preferences->Searching"

    - title: "Wireless driver: Remove old non-streaming networking code. Apps that still use it must be updated. A message will popup notifying the user of the need to update if such an app is encountered."

    - title: "Linux: Add an option to cause calibre to detach from its controlling terminal (--detach)"
 
  bug fixes:
    - title: "DOCX Input: Fix page-breaks created as a page break inside an otherwise empty paragraph not being rendered on conversion to PDF."
      tickets: [1249502]

    - title: "Windows: When viewing books with an external viewer, check if windows will open the file with calibre itself, and if so, popup an error message telling the user to install some software capable of viewing the file."
      tickets: [1249698]

    - title: "Wireless driver: Fix a bug that could cause the wrong path information to be sent to the device in some circumstances."

    - title: "Linux binary build: Return proper exit codes when raising SystemExit"

    - title: "Transliterate the Arabic Alef into 'a'"
      tickets: [1249469]

  improved recipes:
    - Radikal (tr)
    - Spiegel Online
    - El Mundo

  new recipes:
    - title: ARG Noticias 
      author: Darko Miletic

- version: 1.10.0
  date: 2013-11-08

  new features:
    - title: "Conversion: Treat .docm the same as .docx files, ignoring any macros in the file."
      tickets: [1247565]

    - title: "EPUB Output: Auto convert CMYK images to RGB. Works around the inability of Adobe Digital Editions to display CMYK images."
      tickets: [1246710]

    - title: "Quickview: Add a checkbox to lock the quickview window so that it does not change while moving around in the main book list"
 
  bug fixes:
    - title: "Fix number of marked books shown in the drop down menu of the Mark Books action not being updated when marked books are deleted (as opposed to being unmarked)."
      tickets: [1248506]

    - title: "Book list: Preserve the current column when using Ctrl+Home or Ctrl+End shortcuts"

    - title: "Booklist: Fix using Page Up/Down keys moving book list by one row too many."
      tickets: [1248109]

    - title: "Metadata download: Do not auto trim downloaded covers as trimming can sometimes have undesirable effects."

    - title: "Template language: Fix zero valued series indices not formatting correctly"
      tickets: [1247348]

    - title: "Fix a regression in 1.9 that broke bibtex catalog creation"

    - title: "Quickview: Auto-close the quickview window when changing libraries. You have to open it again in the new library."

    - title: "Linux binary build: Update the bundled version of zlib to fix library compatibility on some newer linux distros that have libpng16 compiled to require newer zlib versions"
      tickets: [1247315]

  improved recipes:
    - New York Review of Books
    - Various Polish news sources


- version: 1.9.0
  date: 2013-11-01

  new features:
    - title: "Drivers for the new Nook Glowlight, Lenovo IdeaPad and Kindle Fire HDX (linux)"
      tickets: [1244857, 1246775]

    - title: "Add an option to check for duplicates (books with the same title/author) when copying between libraries. Option is under Preferences->Adding books."
      tickets: [1245089]

    - title: "Content server: Display book title on details page. Also put the most important fields (authors/series/tags) at the top."
      tickets: [1246523]

    - title: "When developing recipes using the command line, allow specifying the number of feeds and articles when using the --test parameter."
      tickets: [1246061]

    - title: "PDF Output: Option to control title of generated Table of Contents"
      tickets: [1245076]

    - title: "PDF metadata: If one of the keywords in the PDF is a valid ISBN, use it as the ISBN for the book"
 
  bug fixes:
    - title: "Amazon metadata download: Fix spurious ratings being returned for unrated books."
      tickets: [1245449]

    - title: "Bulk metadata edit: Only clear series if the clear series checkbox is checked. Also add a clear checkbox for publishers, so that publishers can be removed."
      tickets: [1245058]

    - title: "Use <h2> for the inserted Table of Contents title for the MOBI and PDF formats as well as the EPUB and AZW3 formats."
      tickets: [1245076]

    - title: "Fix comments editor in review metadata becoming too small on small screens."
      tickets: [1245275]

    - title: "DOCX Input: Fix hyperlink showing as underlined even if the hyperlink style in word is set to not show underlines."

    - title: "E-book viewer: Remember the size of the 'Inspect' window used to examine the book's code."
      tickets: [1245068]

    - title: "Wireless driver: Fix bug that prevented different formats of the same book on the device from being recognized"

    - title: "Bulk metadata download: When downloading only covers and some covers fail, do not show the failed books while reviewing downloaded metadata."
      tickets: [1238271]

    - title: "BibTeX catalogs: Strip unmatched braces to prevent generation of invalid .bib file."
      tickets: [1228905]

  improved recipes:
    - Reuters (Japan)
    - MIT Technology Review
    - dotNet Magazine
    - Science Based News

- version: 1.8.0
  date: 2013-10-25

  new features:
    - title: "DOCX Input: Support linked (as opposed to embedded) images, if the linked image is found on the local computer."
      tickets: [1243597]

    - title: 'FB2 Input: Add support for note and cite back references. Link pairs of type="note" and type="cite" now automatically generate the correct back reference.'
      tickets: [1243714]

    - title: "When automerging books during during an add, include the author as well as the title in the report of merged books."

    - title: "OS X Mavericks (10.9) breaks connecting to iTunes and iBooks on iOS devices. For more details see: http://www.mobileread.com/forums/showthread.php?t=215624"
 
  bug fixes:
    - title: "OS X: Fix system tray notifications causing crashes on some OS X 10.9 (Mavericks) systems (those that had Growl installed at some point)."
      tickets: [1224491]

    - title: "OSX: Fix font size in completion popups too small on Mavericks (I hope)"
      tickets: [1243761]

    - title: "PDF Output: Fix rendering of some semi-transparent images. All semi-transparent images are now rendered using soft masks."
      tickets: [1243829]

    - title: "MOBI Output: Fix text marked with white-space:pre-wrap causing the Kindle to break lines at arbitrary points inside words."
      tickets: [1240235]

    - title: "FB2 Input: Fix a regression that broke conversion of FB2 files with paragraphs having both a style and an id attribute."
      tickets: [1243709]

    - title: "TXT Input: Ensure that <title> in the generated HTML has a meaningful value."
      tickets: [1236923]

    - title: "Book details panel: Fix HTML in author names and identifiers not being escaped"
      tickets: [1243976]

    - title: "HTML 5 parsing: Fix handling of xml:lang attributes on all elements xml:lang is now mapped to a plain lang on all elements, not just <html>"

    - title: "Update HTML 5 parser used in calibre (html5lib-python) to fix a few corner cases"

    - title: "When bulk deleting formats, use a single temporary directory for the deleted files. This makes restoring them from the recycle bin a little cleaner. Also might fix the reported issue with the windows recycle bin choking on creating a large number of folders."

    - title: "DOCX Input: Add support for hyperlink fields that have only anchors and not URLs"

    - title: "DOCX Input: Fix handling of multiple block level bookmarks at the same location."
      tickets: [1241451]

    - title: "HTMLZ Output: Fix Htmlz does not apply inline css from <body>."
      tickets: [1242261]

    - title: "Fix the restore database operation failing on windows installs with long usernames (this would cause the path to the temporary folder used to restore the database to become too long)."

    - title: "ODT Input: Various workarounds for broken ODT files generated my mk4ht"

    - title: "Fix a bug with non-ascii text in the create catalog dialog"
      ticket: [1241515]

  improved recipes:
    - A List Apart

- version: 1.7.0
  date: 2013-10-18

  new features:
    - title: "Cover grid: Allow using images as the background for the cover grid. To choose an image, go to Preferences->Look & Feel->Cover Grid."
      tickets: [1239194]

    - title: "An option to mark newly added books with a temporary mark. Option is in Preferences->Adding books."
      tickets: [1238609]
 
    - title: "Edit metadata dialog: Allow turning off the cover size displayed in the bottom right corner of the cover by right clicking the cover and choosing 'Hide cover size'. It can be restored the same way."

  bug fixes:
    - title: "Conversion: If both embed font family and the filter css option to remove fonts are set, do not remove the font specified by the embed font family option."

    - title: "Fix a few remaining situations that could cause formats column to show an error message about SHLock"

    - title: "Make deleting books to recycle bin more robust. Ensure that the temporary directory created during the move to recycle bin process is not left behind in case of errors."

    - title: "Windows: Check if the books' files are in use before deleting"

    - title: "Fix custom device driver swap main and card option not working. Also fix swapping not happening for a few devices on linux"
      tickets: [1240504]

    - title: "Edit metadata dialog: The Edit metadata dialog currently limits its max size based on the geometry of the smallest attached screen. Change that to use the geometry of the screen on which it will be shown."
      tickets: [1239597]

    - title: "HTMLZ Output: Fix <style> tag placed inside <body> instead of <head>."
      tickets: [1239530]

    - title: "HTMLZ Output: Fix inline styles not escaping quotes properly."
      tickets: [1239527]

    - title: "HTMLZ Output: Fix incorrect handling of some self closing tags like <br>."
      tickets: [1239555] 

    - title: "Content server: Fix single item categories not working with reverse proxy setup."
      tickets: [1238987]

    - title: "Fix a bug that could cause calibre to crash when switching from a large library to a smaller library with marked books."
      tickets: [1239210]

    - title: "Get Books: Fix downloading of some books in formats that do not have metadata yielding nonsense titles"

    - title: "Allow marked book button to be added to main toolbar when device is connected"
      tickets: [1239163]

    - title: "Fix error if a marked book is deleted/merged."
      tickets: [1239161]

    - title: "Template language: Fix formatter function days_between to compute the right value when the answer is negative."

    - title: "Windows: Fix spurious file in use by other process error if the book's folder contained multiple hard links pointing to the same file"
      tickets: [1240788, 1240194]

    - title: "Windows: Fix duplicate files being created in very special circumstances when changing title and/or author. (the title or author had to be between 31 and 35 characters long and the book entry had to have been created by a pre 1.x version of calibre). You can check if your library has any such duplicates and remove them, by using the Check Library tool (Right click the calibre button on the toolbar and select Library Maintenance->Check Library)."

  improved recipes:
    - Wall Street Journal
    - Newsweek Polska
    - Wired Magazine
    - cracked.com
    - Television Without Pity
    - Carta
    - Diagonales


- version: 1.6.0
  date: 2013-10-11

  new features:
    - title: "Temporary marking of books in the library"
      description: "This allows you to select books from your calibre library manually and mark them. This 'mark' will remain until you restart calibre, or clear the marks. You can easily work with only the marked subset of books by right clicking the Mark Books button. To use this feature, go to Preferences->Toolbars and add the 'Mark Books' tool to the main toolbar."
      type: major

    - title: "Get Books: Add Wolne Lektury and Amazon (Canada) ebook stores"

    - title: "DOCX Input: Handle hyperlinks in footnotes and endnotes"
      tickets: [1232790]

    - title: "Driver for Sunstech reader"
      tickets: [1231590]

    - title: "Allow using both uri: and url: identifiers to create two different arbitrary links instead of just one in the Book details panel"

    - title: "E-book viewer: Make all keyboard shortcuts configurable"
      tickets: [1232019]

    - title: "Conversion: Add an option to not condense CSS rules for margin, padding, border, etc. Option is under the Look & Feel section of the conversion dialog."
      tickets: [1233220]

    - title: "calibredb: Allow setting of title sort field"
      tickets: [1233711]

    - title: "ebook-meta: Add an --identifier option to set identifiers."
 
  bug fixes:
    - title: "Fix a locking error when composite columns containing formats are used and formats are added/deleted."
      tickets: [1233330]

    - title: "EPUB Output: Do not strip <object> tags with type application/svg+xml in addition to those that use image/svg+xml."
      tickets: [1236845]

    - title: "Cover grid: Fix selecting all books with Ctrl+A causing subsequent deselects to not fully work."
      tickets: [1236348]

    - title: "HTMLZ Output: Fix long titles causing error when converting on windows."
      tickets: [1235815]

    - title: "Content server: Fix OPDS category links to composite columns"

    - title: "E-book viewer: Fix regression that broke import/export of bookmarks"
      tickets: [1231980]

    - title: "E-book viewer: Use the default font size setting for the dictionary view as well."
      tickets: [1232025]

    - title: "DOCX Input: Avoid using the value attribute for simple numbered lists, to silence the asinine epubcheck"

    - title: "HTML Input: Images linked by the poster attribute of the <video> tag are now recognized and processed."

    - title: "DOCX Input: Fix erorr when converting docx files that have numbering defined with no associated character style."
      tickets: [1232100]

    - title: "EPUB Metadata: Implementing updating identifiers other than isbn in the epub file from calibre when polishing or exporting the epub"

    - title: "Amazon metadata download: Fix parsing of some dates on amazon.de"
      tickets: [1238125]

  improved recipes:
    - National Geographic Magazine
    - New York Review of Books
    - Focus (PL)
    - Carta Capital
    - AM 730 
    - Ming Pao (HK)
    - Neu Osnabrucker Zeitung

  new recipes:
    - title: Various Uruguayan news sources 
      author: Carlos Alves
     
- version: 1.5.0
  date: 2013-09-26

  new features:
    - title: "Driver for Woxter Scriba"
      tickets: [1228690]

    - title: "Bulk metadata edit: Allow setting the comments for all selected books and also allow cloning the covers. Cloning covers means that the cover of the first selected book will be set for all other selected books."
      tickets: [1230040]
 
  bug fixes:
    - title: "Windows: Improved device ejection code. Eject individual drives before trying to eject the device. This fixes incomplete ejection with the Nook devices."

    - title: "Catalogs: fix exclude tags rules not working in non-English locales when creating catalogs in EPUB/MOBI formats."
      tickets: [1228949]

    - title: "Kobo driver: Fix reading status being cleared when connecting to a Kobo with older firmware and metadata management set to automatic."
      tickets: [1230018]

    - title: "Content server: Sort virtual libraries by name"
      tickets: [1229459]

    - title: "DOCX Input: Convert tabs in the docx file into non-breaking spaces in the output document. Note that custom tab stops are not supported."
      tickets: [1228893]

    - title: "Conversion: Handle the style attribute on the <html> tag"

    - title: "Handle databases with invalid ratings link tables"
      tickets: [1228517]

    - title: "DOCX Input: Handle DOCX files with missing referenced styles"
      tickets: [1228669]

    - title: "Update amazon metadata download plugin for changes to the Amazon website"

  improved recipes:
    - Slate
    - El Universal (VE)
    - GoComics

  new recipes:
    - title: 

- version: 1.4.0
  date: 2013-09-20

  new features:
    - title: "Column icons: Allow the use of multiple icons with column icon rules."
      description: "You can now have column icon rules display multiple icons in a single column, side by side. There are two ways to do this, either specify multiple icons when creating the rule, or create multiple rules that match the same book and specify the icon type to be 'composed' for every rule. See Preferences->Look & Feel->Column icons for details."

    - title: "Kobo driver: Add support for new cover handling in Kobo Aura with updated firmware"

    - title: "Driver for Icarus Essence"
      tickets: [1226304] 

    - title: "Show a warning when attempting to copy books between libraries that do not have the same set of custom columns."
      tickets: [1225484]

    - title: "EPUB/AZW3 Output: Use shorthand forms for margin, padding and border CSS properties, where possible"

    - title: "Allow colons in identifier values, needed for using URIs as identifiers"
      tickets: [1224885]

    - title: "Comments editor: Allow treating arbitrary URLs as images"

    - title: "Show full path of library under mouse in status bar when switching/renaming/deleting libraries via the calibre library button."
      tickets: [1224925]

    - title: "DOCX Input: Add support for embedded EMF images that are just wrappers around an actual raster image."
      tickets: [1224849]
 
  bug fixes:
    - title: "Conversion: Fix font subsetting not working for large fonts with more than 4000 glyphs, such as CJK fonts"

    - title: "HTML Input: Fix a regression that broke processing of HTML files that contain meta tags with dc: namespaced attribute values."

    - title: "Fix switching to an empty virtual library not blanking the book details panel"

    - title: "Keep position when deleting tags in the tag editor"
      tickets: [1226093]

    - title: "Book details panel: Render custom comments fields the same as the builtin comments field. In particular this fixes problems caused by wide text and images in custom comments fields."
      tickets: [1226350]

    - title: "Metadata jackets: Do not error out when using a custom template with some custom fields that are not present."
      tickets: [1225357]

    - title: "AZW3 Output: Dont choke on invalid (undecodable) links in the input document"

    - title: "Cover grid: Respect the double click on library view tweak"

    - title: "Fix covers set by drag and drop or pasting in the edit metadata dialog showing compression artifacts due to aggressive jpeg compression"

    - title: "Conversion: Fix a bug that could cause incorrect border values to be used when cascading, shorthand border CSS is present."

    - title: "Fix regression in 1.3 that caused the book list to not track the current book when using Next/Previous in the edit metadata dialog."

  improved recipes:
    - Liberation
    - Politika

  new recipes:
    - title: Sage News 
      author: Brian Hahn

    - title: Il Cambiamento 
      author: ghib9

- version: 1.3.0
  date: 2013-09-13

  new features:
    - title: "When doing searches or switching between virtual libraries in the main book list, preserve the current book. The currently selected book will remain visible if it is present in the results of the search or the selected virtual library."
      tickets: [1216713]

    - title: "Drivers for Oppo Find 5 and PocketBook Mini 515"
      tickets: [1223853]
 
  bug fixes:
    - title: "DOCX Input: Handle numbered paragraphs where the numbering is specified in the paragraph style, instead of on the paragraph directly. Also support the use of arbitrary, styled text for bullets."

    - title: "DOCX Input: Fix a single line break at the end of a paragraph not being rendered as a blank line."

    - title: "DOCX Input: Fix extra top/bottom margins around headings when the heading style in word does not specify any top/bottom margins."

    - title: "DOCX Input: Handle images in footnotes and endnotes."
      tickets: [1221686]

    - title: "ODT Input: Only treat the first image as a cover if it is of suitable size, instead of any image in the document."
      tickets: [1224157]

    - title: "Book polishing: Do not leave behind the old comments when updating metadata if the comments have been deleted in calibre."

    - title: "PDF Output: Fix non-breaking space characters incorrectly rendered in PDF outline."
      tickets: [1223862]

    - title: "Content server: Fix error in opds feed after using virtual libraries in the main server."
      tickets: [1222108]

    - title: "Do not scroll the book list horizontally after editing metadata."
      tickets: [1221552]

    - title: "New database backend: Handle databases that contain multiple tags/series/publishers/etc. that differ only in case."
      tickets: [1221545] 

  improved recipes:
    - Harvard Business Review
    - Jakarta Post 
    - Jakarta Globe
    - Dilema Veche
    - Daily Express
    - Anandtech
    - High Country News

  new recipes:
    - title: Caravan Magazine
      author: Kovid Goyal

    - title: Phys Org 
      author: Krittika Goyal
     
- version: 1.2.0
  date: 2013-09-06

  new features:
    - title: "Conversion: Add support for the CSS3 rem font size unit"

    - title: "MTP devices, such as Android tablets/phones: Allow ignoring any folder on the device, not just top level folders. For newly connected devices, also scan /Android/data/com.amazon.kindle for books by default (newer versions of the Kindle app place downloaded files there)."

    - title: "Speed up sorting when the book list is showing a restricted set of books, such as when the results of a search are displayed or a virtual library is used."
      tickets: [1217622]

    - title: "Edit metadata dialog: Add an undo option for the Trim cover button."
      tickets: [1219227]
 
  bug fixes:
    - title: "Amazon metadata download: Update to handle website changes at amazon.com"

    - title: "PDF Output: Workaround a bug in the library calibre uses to render HTML to PDF that caused text in some documents that used small-caps fonts to not render correctly."
      tickets: [1216354]

    - title: "Kobo driver: When a sideloaded kepub is added from a Kobo device to the calibre library, it is added as an epub, but the file copied is corrupt."
      tickets: [1221035]

    - title: "Fix changing the user interface language in the welcome wizard causing some parts of the interface to remain in the old language until calibre is restarted."
      tickets: [1220767]

    - title: "Fix regression in 1.0 that broke setting author names with the | character in them."
      tickets: [1220348]

    - title: "Content server: When running from inside the main calibre program, do not restrict the books shown based on the current virtual library in the main program. If you wish to restrict the books shown in the content server, use Preferences->Sharing over the net."

    - title: "Output dates in the local timezone instead of UTC when generating CSV catalogs"

    - title: "Library maintenance: When doing a check library instead of dumping the database to SQL and restoring it, run a VACUUM. This works around various bugs in the dump and restore capabilities of apsw."
      tickets: [1217988] 

    - title: "Edit metadata dialog: Fix adding an image to an empty comments block not working"

    - title: "Conversion: Fix font declarations with invalid font-family values causing conversion to abort when subsetting is enabled."

    - title: "MOBI Output: Fix conversion of some super/sub scripts failling if they are the first or last element in a paragraph."
      tickets: [1218858]

    - title: "New database backend: Various improvements to make the backend more robust against databases with invalid/corrupt data in them."
      tickets: [1218465, 1218783]

  improved recipes:
    - Countryfile

- version: 1.1.0
  date: 2013-08-30

  new features:
    - title: "Rewrite the HTML metadata parser to make it faster and more robust."
      tickets: [1217751]

    - title: "Book list: When sorting on a currently unsorted column, use the last applied sort for that column, instead of always sorting in ascending order."
      tickets: [1216714]

    - title: "PocketBook driver: Scan for books files in the entire device not just in the 'books' folder"
 
  bug fixes:
    - title: "Fix a regression in 1.0 that could cause the dates in custom date-type columns to change in some timezones when using the edit metadata dialog to make unrelated changes."
      tickets: [1217096]

    - title: "When replacing formats in a book with a very long title+authors on windows, calibre could leave behind the old format file, because the filename shortening algorithm has changed. Handle that case."

    - title: "Fix content server giving an error if you return to the top level page after using the virtual libraries."
      tickets: [1216838]

    - title: "Fix calibredb not updating the running calibre instance properly in 1.0"
      tickets: [1218177]

    - title: "Fix a regression in 1.0 that broke splitting of multiple valued field like tags into many items during a rename."
      tickets: [1216699]

    - title: "Fix a regression in 1.0 that caused an error when trying to set values for tags with the same item repeated, with different case."
      tickets: [1216398]

    - title: "Fix a regression that broke downloading news when output format is set to PDF"

    - title: "Creating a catalog with an already existing catalog in the library would cause a temporary duplicate entry in the book list. Also fix the author sort for catalogs generated in the AZW3 format not being correct."

    - title: "EPUB metadata: When changing the title in an EPUB 2.0 file that has multiple titles, remove the extra titles."
      tickets: [1211949]

    - title: "Fix a regression in 1.0 that caused Search and Replace in the bulk metadata edit dialog to be much slower than before"

    - title: "Fix a regression in 1.0 that caused incorrect sorting and searching on some composite columns (columns built from other columns)."

    - title: "Fix a regression in 1.0 that prevented the moving of libraries inside calibre"
      tickets: [1216401]

    - title: "Virtual Library tabs: If the user activates a hidden tab via the Virtual Library button, change the name of the All Books tab to reflect the hidden virtual library."
      tickets: [1216174]

    - title: "Ignore text records in the database that are damaged, instead of erroring out. Lets the rest of the data be used."
      tickets: [1215981]

    - title: "Fix regression that broke calibredb catalog when sorting on the id field."
      tickets: [1216090]

    - title: "HTML Input: Handle malformed OPF files when converting. "
      tickets: [1215924]

    - title: "Ensure that the Formats custom column (if present) is updated when a new format is created as a result of a conversion."
      tickets: [1215885]

    - title: "Fix a bug in 1.0 that broke the Check Library function on computers with non-English locales."
      tickets: [1215819]

    - title: "Content server: Fix blank username causing error on startup."
      tickets: [1215893]

    - title: "Fix sorting of book list by multi-valued fields like tags not correct in the new backend."
      tickets: [1215820]

  improved recipes:
    - Daily Mirror

  new recipes:
    - title: VFR Magazine 
      author: Krittika Goyal

- version: 1.0.0
  date: 2013-08-23

  new features:
    - title: "A new 'cover grid' view of the books in your calibre library"
      description: "Excellent for judging your books by their covers :) To use click the button with the icon of a grid in the bottom right corner of the main window. It can be configured via Preferences->Look & Feel->Cover Grid"
      type: major

    - title: "A new, faster database backend"
      description: "The database backend in calibre has been re-written from scratch. The new code is smaller, more robust and much faster than the old code. The exact speedup will depend on the number of books and number and type of custom columns in your library. Users have reported calibre startup times decreasing by a factor of 2-3 times."
      type: major

    - title: "For a summary of the major changes in calibre between 0.9 and 1.0, see http://calibre-ebook.com/new-in/ten"
      type: major

    - title: "RTF Input: Add option to ignore WMF images iinstead of replacing them with a placeholder."
      tickets: [1213599]

    - title: "Content server: Make virtual libraries available as searches from the start page. They work just like saved searches, clicking on a virtual library will show you all the books in that virtual library."
 
  bug fixes:
    - title: "Remove extra, useless 'language' entry in metadata download configuration dialog"

    - title: "Kobo driver: Display device collections even if the driver is configured to not manage shelves on the device."
      tickets: [1214233]

    - title: "Fix typo in calibre.desktop file on linux"
      tickets: [1213664]

    - title: "Edit metadata dialog: Disable OK button while results are being downloaded."
      tickets: [1213397]

    - title: "In OS X 10.8 Apple stopped redirecting stdout/stderr to Console.app for applications launched by launch services. Re-enable the redirection, useful for debugging."

    - title: "Fix virtual library tabs not being updated when using VL button"

  improved recipes:
    - Consumerist
    - jeuxvideo
    - Metro UK
    - El Tribuno
    - High Country News
    - Daily Express
    - Providence Journal
    - mediapart

  new recipes:
    - title: News24 and Nuus24
      author: Nicki de Wet
     
- version: 0.9.44
  date: 2013-08-16

  new features:
    - title: "Add an option to display all virtual libraries as tabs above the book list."
      description: "Convenient to quickly switch between virtual libraries. To enable, click the Virtual library button and select 'Show virtual libraries as tabs'.  You can re-arrange the tabs by drag and drop and close tabs you do not want. Right click on the tabs to restore closed tabs."

    - title: "An improved cover trimming algorithm to automatically detect and remove borders and extra space from the edge of cover images. To try it use the 'Trim' button in the edit metadata dialog. This can sometimes remove too much so if you dont like the result, just click cancel. You can make the algorithm more or less aggressive via Preferences->Tweaks"

    - title: "Allow customizing the comic metadata reader plugin via Preferences->Plugins to read the series index from either the volume or the issue number of the comic."
      tickets: [1211433]

    - title: "Linux MTP driver: Add ids for some newer devices."
      tickets: [1212458]

    - title: "Add a trim cover option to the bulk metadata edit dialog"

    - title: "Make the book information dialog user resizable, with a splitter between the cover and the info panel. Also change the background of the cover panel for books that have been marked using the Temp marker plugin."
      tickets: [1209057]

    - title: "Driver for Samsung Galaxy Young Android phone"
      tickets: [1212918]
 
  bug fixes:
    - title: "PDF Output: Do not abort conversion if the document being converted has an HTML cover (found in some broken EPUB files)."

    - title: "RTF Input: When converting RTF files with no codepage, use the input encoding setting as the codepage."
      tickets: [1163572]

  improved recipes:
    - The Independent
    - El Periodica de Aragon 
    - El Correo

  new recipes:
    - title: Daily Express 
      author: Dave Asbury

- version: 0.9.43
  date: 2013-08-09

  new features:
    - title: "TXT Input: Allow using various markdown extensions for more features when converting markdown formatted txt files. See http://pythonhosted.org/Markdown/extensions/index.html for details."

    - title: "Sending by email: Allow sending by email to an arbitrary combination of email address. Access it via the 'Select recipients' menu entry in the Email To menu."
      tickets: [1207818]

    - title: "A new 'Sort By' action for the right click menu. This allows sorting on all columns in the library, not just the visible columns. To use it go to Preferences->Toolbars and add it to 'The context menu for books in the calibre library'"

    - title: "Allow adding images into the comments field, by clicking on the insert link button in the comments editor in the edit metadata dialog."

    - title: "Allow skipping the confirm bulk reconvert dialog"

    - title: "EPUB Input: If the EPUB file identifies an actual cover image in addition to the titlepage html file, use the cover image instead of rendering the titlepage. This is faster and has the advantage that an EPUB to EPUB conversion preserves internal cover structure."

    - title: "Get Books: Improve searching by removing punctuation from title/authors before matching."
 
  bug fixes:
    - title: "Conversion: Fix empty inline tags that are the second child of a paragraph causing text change location."
      tickets: [1207735]

    - title: "Fix book count in tooltip of choose library button not updating"
      ticket: [1208217]

    - title: "Kobo driver: When deleting shelves that have been synced, the Activity entry for the shelf was not being deleted. This left a tile for the shelf on the home screen of the Glo and AuraHD."
      tickets: [1208159]

    - title: "Comments editor: The Insert Link button has no effect until the user clicks inside the comments box, therefore disable it until it is ready, to prevent confusion."
      tickets: [1208073]

    - title: "Get Books: Update various Polish store plugins"

  improved recipes:
    - The Sunday Times UK and The Times Online
    - Telegraph UK
    - "Le Monde: Edition abonnÃ©s"
    - The Scotsman

  new recipes:
    - title: Various French news sources 
      author: Malah

    - title: La Capital de Rosario 
      author: Darko Miletic

    - title: Jot Down 
      author: desUbiKado

    - title: Private Eye 
      author: Martyn Pritchard

- version: 0.9.42
  date: 2013-08-02

  new features:
    - title: "When downloading metadata from Amazon, convert the amazon categories into tags. You can turn this off by going to Preferences->Metadata download and configuring the Amazon source."
      tickets: [1206763]

    - title: "Kobo driver: Add an option to modify the styling in books being sent to the device, based on a template on the device."
      tickets: [1207151]

    - title: "Get Books: Add support for two more Polish ebook stores: cdp.pl and ebooki.allegro.pl"

    - title: "calibredb: Add a new clone command to create clones of libraries with the same custom columns, virtual libraries, etc. as the current library."
 
  bug fixes:
    - title: "MOBI metadata: Do not fail to set metadata in MOBI files if they have EXTH fields with NULL pointers to a cover or thumbnail."
      tickets: [1205757]

    - title: "Fix editing of book metadata failing when its timestamp is out of range for the system."
      tickets: [1191599]

    - title: "Fix renaming a user category to the same name it already has erases the user category."
      tickets: [1207131]

    - title: "Fix drag 'n drop of cover onto conversion dialog not working"

    - title: "Device drivers: Explicitly fsync() all files when writing to devices, to reduce chances of file corruption if the device is disconnected while jobs are running"

    - title: "Fix calibre not appearing in Ubuntu's 'Open with..' menu"
      tickets: [1207518]

  improved recipes:
    - PC World

- version: 0.9.41
  date: 2013-07-27

  new features:
    - title: "Add a button to clear the current virtual library easily"

    - title: "Driver for Surftab Ventos"
      tickets: [1204885]

    - title: "Ebook-viewer: Allow re-ordering bookmarks in the bookmarks manager by drag and drop."
 
  bug fixes:
    - title: "DOCX Input: Fix conversion breaking for files that use heading style paragraphs to insert line rules"

    - title: "Content server: Fix last search query not being fully sanitized in results page"
      tickets: [1205385]

    - title: "Book polishing: Fix page margins being removed if an unused font was found during subsetting of embedded fonts."

    - title: "PDF Output: Do not error out when the input document uses a font that cannot be subset, such as the Symbol font. Instead print a warning and embed the full font."
      tickets: [1203449]

    - title: "Conversion: Fix a regression in the last release that broke conversion of a few files with comments just before a chapter start."
      tickets: [1188635]

  improved recipes:
    - Something Awful
    - Spektrum der Wissenschaft
    - mediapart.fr
    - Dilbert 
    - Antyweb
    - Scientific American
    - taz.de (RSS)

  new recipes:
    - title: Blindbuch and No names, No jackets
      author: Armin Geller

    - title: El Tribuno Salta and Jujuy 
      author: Darko Miletic

- version: 0.9.40
  date: 2013-07-19

  new features:
    - title: "EPUB Output: Add an option to insert an inline Table of Contents into the main text."
      tickets: [1201006]

    - title: "Driver for LG Android phone"
      tickets: [1202013]

    - title: "When matching books in the library against the device manually, pre-fill the search field with the book title"
      tickets: [1200826]
 
  bug fixes:
    - title: "PDF Input: Fix a regression that caused some images to be flipped when converting PDF files that use image rotation operators."
      tickets: [1201083]

    - title: "Fix regression that caused incorrect font size in dropcaps generated by the DOCX input plugin"

    - title: "Get Books: Fix searching for title and author returning some extra matches, if the title starts with an article like the, a or an."
      tickets: [1200012]

    - title: "PDF Output: Fix extra blank page being inserted at the start of the chapter when converting some epub files from feedbooks"

    - title: "PDF Output: Workaround bug in WebKit's getBoundingClientRect() method that could cause links to occasionally point to incorrect locations."
      tickets: [1202390]

    - title: "E-book viewer: Fix a bug that could cause the reported position to be incorrect immediately after opening a previously opened book. This also fixes the Back button not working if a link is clicked on the page immediately after opening the book."

    - title: "Fix memory card not being detected for Elonex 621 on Windows"

    - title: "Fix regression in last release that broke auto-conversion of ebooks when sending to device/sending by email."
      tickets: [1200864]

    - title: "Get Books: Update amazon plugins for website changes"

    - title: "Allow using non-ascii chars in email passwords."
      tickets: [1202825]

  improved recipes:
    - Galaxy's Edge

  new recipes:
    - title: Il Foglio 
      author: faber1971

    - title: Le Monde Diplomatique and Acrimed
      author: Gaetan Lehmann

- version: 0.9.39
  date: 2013-07-12

  new features:
    - title: "Bulk metadata edit: Add a checkbox to prevent the refreshing of the book list after the bulk edit. This means that the book list will not be resorted and any existing search/virtual library will not be refreshed.  Useful if you have a large library as the refresh can be slow."

    - title: "Allow manually marking a book in the calibre library as being on the device. To do so click the device icon in calibre, then right click on the book you want marked and choose 'Match book to library'. Once you are done marking all the books, right click the device icon and choose 'Update cached metadata'"

    - title: "Driver for Coby Kyros MID1126"
      tickets: [1199410]

    - title: "When adding formats to an existing book, by right clicking the add books button, ask for confirmation if some formats will be overwritten."

    - title: "Add a tweak to restrict the list of output formats available in the conversion dialog. Go to Preferences->Tweaks to change it."
 
  bug fixes:
    - title: "Amazon metadata download: Update plugin to deal with the new amazon.com website"

    - title: "Edelweiss metadata download plugin: Workaround for advanced search being broken at the Edelweiss website."

    - title: "Invalid data in the device database on sony readers could cause errors when sorting device collections, ignore those errors."

    - title: "DOCX Input: Fix no page break being inserted before the last section."
      tickets: [1198414]

    - title: "Metadata download dialog: Have the OK button enabled in the results screen as well."
      tickets: [1198288]

    - title: "Get Books: Update empik store plugin"

  improved recipes:
    - Houston Chronicle
    - cracked.com
    - mediapart.fr

  new recipes:
    - title: Glenn Brenwald and Ludwig von Mises Institute 
      author: anywho

- version: 0.9.38
  date: 2013-07-05

  new features:
    - title: "Book polishing: Add option to embed all referenced fonts when polishing books using the 'Polish Books' tool."
      tickets: [1196038]

    - title: "DOCX Input: Add support for clickable (hyperlinked) images"
      tickets: [1196728]

    - title: "DOCX Input: Insert page breaks at the start of every new section"
      tickets: [1196728]

    - title: "Drivers for Trekstor Pyrus Maxi and PocketBook Surfpad 2"
      tickets: [1196931, 1182850]

    - title: "DOCX Input: Add support for horizontal rules created by typing three hyphens and pressing enter."
 
  bug fixes:
    - title: "Fix detection of SD Card in some PRS-T2N devices"
      tickets: [1197970]

    - title: "MOBI Input: Fix a regression that broke parsing of MOBI files with malformed markup that also used entities for apostrophes."
      ticket: [1197585]

    - title: "Get Books: Update Woblink store plugin"

    - title: "Metadata download dialog: Prevent the buttons from being re-ordered when the Next button is clicked."

    - title: "PDF Output: Fix links that point to URLs with query parameters being mangled by the conversion process."
      tickets: [1197006]

    - title: "DOCX Input: Fix links pointing to locations in the same document that contain multiple, redundant bookmarks not working."

    - title: "EPUB/AZW3 Output: Fix splitting on page-break-after with plain text immediately following the split point causing the text to be added before rather than after the split point."
      tickets: [1196728]

    - title: "DOCX Input: handle bookmarks defined at the paragraph level"
      tickets: [1196728]

    - title: "DOCX Input: Handle hyperlinks created as fields"
      tickets: [1196728]

  improved recipes:
    - iprofessional

  new recipes:
    - title: Democracy Now 
      author: Antoine Beaupre
     
- version: 0.9.37
  date: 2013-06-28

  new features:
    - title: "Conversion: Add option to embed all referenced fonts"
      type: major
      description: "Add an option to embed all fonts that are referenced in the input document but are not already embedded. This will search your system for the referenced font, and if found, the font will be embedded.  Only works if the output format supports font embedding (for example: EPUB or AZW3). The option is under the Look & Feel section of the conversion dialog."

    - title: "ToC Editor: When generating a ToC from files, if the file has no text, do not skip it. Instead create an entry using the filename of the file."

    - title: "AZW3 Input: Add support for the page-progression-direction that is used to indicate page turns should happen from right to left. The attribute is passed into EPUB when converting."
      tickets: [1194766]

    - title: "ebook-convert: Add a --from-opf option to read metadata from OPF files directly, instead of having to run ebook-meta --from-opf after conversion"
 
  bug fixes:
    - title: "PDF Output: Fix Table of Contents being added to the end of the PDF even without the Add Table of Contents option being enabled."
      tickets: [1194836]

    - title: "When auto-merging books on add, also merge identifiers."

    - title: "Fix an error when using the Template Editor to create a template that uses custom columns."
      tickets: [1193763]

    - title: "LRF Output: Fix &quot; entities in attribute values causing problems"

    - title: "News download: Apply the default page margin conversion settings. Also, when converting to PDF, apply the pdf conversion defaults."
      tickets: [1193912]

    - title: "Fix a regression that broke scanning for books on all devices that used the Aluratek Color driver."
      tickets: [1192940]

    - title: "fetch-ebbok-metadata: Fix --opf argument erroneously requiring a value"

    - title: "When waiting before sending email, log the wait."
      tickets: [1195173]

  improved recipes:
    - taz.de (RSS)
    - Miradas al sur
    - Frontline
    - La Nacion (Costa Rica)


- version: 0.9.36
  date: 2013-06-21

  new features:
    - title: "DOCX Input: Support for Table of Contents created using the Word Table of Contents tool. calibre now first looks for such a Table of Contents and only if one is not found does it generate a ToC from headings."

    - title: "DOCX Input: Add support for images used as bullets in lists"

    - title: "DOCX Input: If a large image that looks like a cover is present at the start of the document, remove it and use it as the cover of the output ebook. This can be turned off under the DOCX Input section of the conversion dialog."

    - title: "When dropping files onto the Book Details panel, ask for confirmation before adding the files to the book. The confirmation can be disabled."

    - title: "News download: Add the 'downloaded from' link at the bottom of every article when using a touchscreen output profile (like the Tablet profile)."

    - title: "E-book viewer: Change the bookmark button to always popup a menu when clicked, makes accessing existing bookmarks easier."

    - title: "After a bulk metadata download, focus the review button on the popup notification, instead of the OK button."
      tickets: [1190931]
 
  bug fixes:
    - title: "DOCX Input: Hide text that has been marked as not being visible in the web view in Word."

    - title: "DOCX Input: When converting docx files with large numbers of unnamed images, do not crash on windows."
      tickets: [1191354]

    - title: "DOCX Input: Add support for the Word setting 'No space between paragraphs with the same style'."
      tickets: [119100]

    - title: "MOBI Output: Fix rendering of SVG images that embed large raster images in 64bit calibre installs."
      tickets: [1191020]

    - title: "HTMLZ Output: Fix handling of images with URL unsafe filenames."
      tickets: [1192687]

    - title: "Fix unable to change the case of a previously used search because of the search history."

    - title: "When searching allow use of uppercase location names, such as AUTHOR instead of author, automatically lowercasing them."
      tickets: [1192785]

    - title: "DOCX metadata: When reading covers from DOCX files use the first image as specified in the actual markup instead of just the first image in the container."

    - title: "Kobo driver: Fix a regression when deleting empty shelves on Kobo devices with older firmware."
      tickets: [1192441]

    - title: "Do not show builtin plugins in the get new plugins dialog If a builtin plugin with the same name as a third party plugin exists, then the builtin plagin was displayed in the get new plugins dialog as installed (happened with the new DOCX Input plugin)."

    - title: "Apple driver: When in synchronous mode (direct to iBooks), disable PDF transfers, as we can't update metadata in iTunes. Not sure when this started, but as of iTunes 11.0.4 it's broken."

    - title: "Get Books: Fix error when using internal browser on some systems"
      tickets: [1191199]

  improved recipes:
    - The Walrus Mag
    - Various Polish news sources

  new recipes:
    - title: Various Polish news sources
      author: fenuks

- version: 0.9.35
  date: 2013-06-14

  new features:
    - title: "News download: Add a framework for scraping javascript heavy sites using a full WebKit browser. Used by the new recipe for time.com"

    - title: "DOCX Input: Add a markup analyzer that identifies and removes redundant markup generated by Word. This can result in much cleaner HTML and reductions in markup size of up to 50%"

    - title: "DOCX Input: Add support for theme fonts"

    - title: "calibredb list: Add an option to limit the number of results"

    - title: "Get Books: Allow stopping an in progress search. While doing a search, the Search button becomes a Stop button, and clicking on it stops the current search."

    - title: "When viewing the list of jobs in calibre, display the time at which the job was started."
      tickets: [1188906]

    - title: "Conversion settings: When selecting the input/output profiles, show the profile screen size along with its description."
 
  bug fixes:
    - title: "Get Books: Fix searching using the title/author being case-sensitive and therefore sometimes not returning results if uppercase characters were used in the query."

    - title: "EPUB/AZW3 Output: When splitting HTML on page breaks, preserve tag structure in the split files. This fixes splitting losing some styling information for HTML files that define page breaks on deeply nested tags."
      tickets: [1188768]

    - title: "DOCX Input: Fix some manual page breaks being ignored"

    - title: "DOCX Input: Fix empty paragraphs not being rendered"

    - title: "DOCX Input: Fix some text being underlined incorrectly. The 'none' underline style was being translated incorrectly."  
      tickets: [1189311]

    - title: "E-book viewer: When viewing EPUB files, ignore any encoding declarations in the HTML and assume that the HTML is encoded in UTF-8, unless decoding with UTF-8 fails. This is what the EPUB specification specifies."
      tickets: [1188843]

    - title: "AZW3 Output: Fix a typo that could prevent conversion of some files"

    - title: "calibredb list: When outputting data in columns, handle multibyte and east asian characters correctly."
      tickets: [1190476]

    - title: "Get Books: Fix unable to change case of words in the title/author/keywords boxes because of completion."

    - title: "Fix unable to clear custom date columns using the bulk metadata edit dialog"
      tickets: [1190463]

    - title: "MOBI Output: Fix regression that breaks conversion of some documents"
      tickets: [1188635]

  improved recipes:
    - La Nacion
    - Frontline
    - New York Time Sports Beat
    - Time
    - Times of India
    - Las Vegas Review Journal
    - Folha de Sao Paolo

  new recipes:
    - title: Neu Osnabrucker Zeitung 
      author: Krittika Goyal

- version: 0.9.34
  date: 2013-06-07

  new features:
    - title: "Conversion of Microsoft Word documents (.docx files generated by Word 2007 or newer)"
      type: major
      description: "DOCX files created with Microsoft Word 2007 or newer can now be converted by calibre. The converter has support for lists, tables, images, all types of text formatting, footnotes, endnotes and even dropcaps. A sample docx file showing the capabilities of the converter is available: http://calibre-ebook.com/downloads/demos/demo.docx Note that this code is still very new, so there are more than likely a few bugs waiting to be squashed."

    - title: "Kobo driver: Support for the newly released firmware 2.6.1. Also remove empty shelves from the Aura HD home page when deleting books."
      tickets: [1187791]

    - title: "E-book viewer: Add Keyboard shortcuts for Back and Forward (Alt+Left, Alt+Right)"
      tickets: [1186928]

    - title: "Allow right clicking on an author in Book Details to manage that author, i.e. change the author name, sort value or link."
      tickets: [1186192]
 
  bug fixes:
    - title: "Fix regression that broke FB2 input in the previous release."
      tickets: [1186213]

    - title: "Catalog generation on OS X: Fix handling of some unicode characters"
      tickets: [1066922]

    - title: "HTML Input: Avoid spurious log warnings about unspecified language/creator when these are actually specified on the command line."
      tickets: [1186899]

    - title: "MOBI Output: Fix regression in 0.9.31 that caused vertical margins specified on some block level elements to be ignored."
      tickets: [1186533]

    - title: "ToC Editor: Handle ebooks that have <p> tags inside the <head> tags.  Instead of erroring out, the <p> tags are automatically moved into <body>."
      tickets: [1186298]

    - title: "Linux build: Include the ffi libs from both gcc and libffi."
      tickets: [1186148]

    - title: "When deleting custom recipes, use recycle bin."
      tickets: [1186142]

  improved recipes:
    - Folha de Sao Paolo
    - Metro News NL

  new recipes:
    - title: Seventh Guard 
      author: koliberek

- version: 0.9.33
  date: 2013-05-31

  new features:
    - title: "PDF Output: Add an option to generate a printable Table of Contents (that lists page numbers). Useful if you intend to print out the PDF."

    - title: "Replace the book counts in the choose library button and next to the virtual library button with the names of the current library and virtual library. The count information is now displayed in the status bar at the bottom."

    - title: "When reviewing downloaded metadata, add a button to view the book being reviewed."
      tickets: [1184546]

    - title: "Get Books: Add SONY Reader Store (Australia)."
      tickets: [1184524]

    - title: "For users running calibre from source, note that calibre has moved to using git for source control. See http://www.mobileread.com/forums/showthread.php?t=214465 for details"
 
  bug fixes:
    - title: "Windows build: Update the version of Qt calibre uses to fix crashes on some Windows 8 64 bit machines with touchscreens"

    - title: "Fix error when using _daysago in search queries."
      tickets: [1185398]

    - title: "Kobo driver: When deleting books from the Kobo Aura, do not leave empty entries on the home screen. Also show downloaded books stored in the SD card as on the card, not the main memory."
      tickets: [1185294]

    - title: "Get Books: Fix price information for Sony store incorrect, also fix libri.de store plugin"

    - title: "Fix error generated when changing libraries with the quickview window open"

    - title: "Fix regression that broke clicking on column headers in the device views"

  improved recipes:
    - Folha de Sao Paolo
    - Various Polish news sources
    - Melbourne Herald Sun
    - Hindu Business Line
    - .net magazine
    - Pocket
    - Tagesschau.de

  new recipes:
    - title: "Various Polish News sources"
      author: Tomasz Dlugoz

- version: 0.9.32
  date: 2013-05-24

  new features:
    - title: "Show the number of currently selected books in the status bar at the bottom of the book list"

    - title: "Driver for PocketBook Touch 623 and Yarvik tablet Xenta 13c"
      tickets: [1182850, 1181669]

    - title: "When editing dates such as published, allow pressing the minus key to clear the date and the = key to set the date to today."
      tickets: [1181449]
 
  bug fixes:
    - title: "EPUB/AZW3 Output: Fix regression that caused erros when trying to convert documents that have URLs with invalid (non-utf-8) quoting."
      tickets: [1181049]

    - title: "When backing up metadata automatically remove XML invalid chars, instead of erroring out"

    - title: "ebook-viewer: Fix --debug-javascript option causing an error when running from a binary build on os x and linux"

    - title: "Fix switch library dialog and menu both popping up when clicking the library button in some window managers"

    - title: "Apple driver: Fix a regression in 0.9.31 that could cause sending books to the device to hang"

    - title: "When setting metadata using the edit metadata dialog, convert newlines, tabs etc. to normal spaces"
      tickets: [1182268]

    - title: "EPUB/AZW3 Output: Fix pages that contain only an svg image being regarded as empty and removed during splitting"

    - title: "AZW3 Input: Handle files that use unnecessary svg: prefixes."
      tickets: [1182257]

    - title: "EPUB Input: Handle EPUB files that have no <metadata> section in their OPF."
      tickets: [1181546]

    - title: "Get Books: Fix Foyles UK store plugin."
      tickets: [1181494]

  improved recipes:
    - Wall Street Journal
    - Various Polish news sources
    - Handelsblatt
    - The Australian
    - Las Vegas Review
    - NME

  new recipes:
    - title: WirtschaftsWoche Online 
      author: Hegi


- version: 0.9.31
  date: 2013-05-17

  new features:
    - title: "Book list: Highlight the current cell in the book list, particularly convenient for usage with the keyboard."

    - title: "Allow creation of advanced rules for column icons."

    - title: "Driver for the limited edition SONY PRS-T2N"

    - title: "MOBI Input: Add support for MOBI/KF8 files generated with the to be released kindlegen 2.9."
      tickets: [1179144]
 
  bug fixes:
    - title: "ToC Editor: Fix incorrect playOrders in the generated toc.ncx when editing the toc in an epub file. This apparently affects FBReader."

    - title: "PDF Input: Fix crashes on some malformed files, by updating the PDF library calibre uses (poppler 0.22.4)"

    - title: "PDF Output: Ignore invalid links instead of erroring out on them."
      tickets: [1179314]

    - title: "MOBI Output: Fix space errorneously being removed when the input document contains a tag with leading space and sub-tags."
      tickets: [1179216]

    - title: "Search and replace wizard: Fix generated html being slightly different from the actual html in the conversion pipeline for some input formats (mainly HTML, CHM, LIT)."


  improved recipes:
    - Weblogs SL
    - .net magazine

  new recipes:
    - title: nrc-next 
      author: Niels Giesen

- version: 0.9.30
  date: 2013-05-10

  new features:
    - title: "Kobo driver: Add support for showing 'Archived' books on the device. Also up the supported firmware version to 2.5.3."
      tickets: [1177677]

    - title: "Driver for Blackberry 9790"
      tickets: [1176607]

    - title: "Add a tweak to turn off the highlighting of the book count when using a virtual library (Preferences->Tweaks)"

    - title: "Add a button to clear the viewer search history in the viewer Preferences, under Miscellaneous"

    - title: "Add keyboard shortcuts to clear the virtual Library and the additional restriction (Ctrl+Esc and Alt+Esc). Also use Shift+Esc to bring keyboard focus back tot he book list. Can be changed under Preferences->Keyboard"

    - title: "Docx metadata: Read the language of the file, if present"
 
  bug fixes:
    - title: "Kobo driver: Fix unable to read SD card on OS X/Linux"
      tickets: [1174815]

    - title: "Content server: Fix unable to download ORIGINAL_* formats"
      tickets: [1177158]

    - title: "Fix regression that broke searching for terms containing a quote mark"
      tickets: [1177114]

    - title: "Fix regression that broke conversion of txt files when no input encoding is specified"
      tickets: [1176622]

    - title: "When changing to a virtual library, refresh the Book Details panel."
      tickets: [1176296]

    - title: "Fix regression that caused searching for user categories to break."
      tickets: [1176187]

    - title: "Fix error when downloading only covers and reviewing downloaded metadata."
      tickets: [1176253]

    - title: "MOBI metadata: Strip XML unsafe unicode codepoints when reading metadata from MOBI files."
      tickets: [1175965]

    - title: "Txt Input: Use the gbk encoding for txt files with detected encoding of gb2312."
      tickets: [1175974]

    - title: "When pressing Ctrl+Home/End preserve the horizontal scroll position in the book list"

  improved recipes:
    - NSFW
    - Go Comics
    - Various Polish news sources
    - The Sun

- version: 0.9.29
  date: 2013-05-03

  new features:
    - title: "Bulk metadata download: Allow reviewing of the downloaded metadata before it is applied"

    - title: "FB2 Output: Write ISBN, pubdate, tags and publisher metadata when creating fb2 files"
      tickets: [1174047]
 
  bug fixes:
    - title: "When reading metadata from EPUB 3 files, use the first <dc:title> element rather than the last."
      tickets: [1175184]

    - title: "Fix regression causing the search query parser to not parse search string containing newlines/tabs instead of spaces correctly"
      tickets: [1174629]

    - title: "Kobo driver: Fix covers written to wrong place on OS X/linux when books sent to SD card. Fix covers not sent to SD card is images directory missing."
      tickets: [1174147,1174126]

    - title: "Fix 'Preferences->Behavior->Virtual library to use when this library is opened' being applied only on calibre startup and not when switching to the library"

    - title: "PDF metadata: When rendering the first page as the cover, respect the PDF CropBox."
      tickets: [1173795]

    - title: "PDF Output: Fix link generation broken on windows when converting epubs if the filenames contained uppercase letters."
      tickets: [1169795]

    - title: "Tolino driver: Fix card and main memory swapped on windows"
      tickets: [1173544]

    - title: "FB2 Output: Fix images being ignored when converting a EPUB with image filenames that contain URL unsafe characters."
      tickets: [1173351]

    - title: "EPUB Input: Fix page margins specified in Adobe page template files with incorrect mime-types not being removed."

  improved recipes:
    - The New Republic
    - io9
    - What if
    - Orlando Sentinel
    - Read It Later recipe
    - Smithsonian
    - Business Week Magazine

  new recipes:
    - title: Diario Extra
      author: Douglas Delgado

- version: 0.9.28
  date: 2013-04-26

  new features:
    - title: "Virtual Libraries: Easily partition your large calibre library into smaller 'virtual' libraries"
      type: major
      description: "A virtual library is a way to tell calibre to open only a subset of a normal library. For example, you might want to only work with books by a certain author, or books having only a certain tag. To use this feature, click the button labeled 'Virtual Library' to the left of the search bar. For details, see http://manual.calibre-ebook.com/virtual_libraries.html. This feature used to be called 'Search restriction', the new virtual libraries are easier to use, but otherwise fulfil the same function."

    - title: "Book details panel: Allow copying of links in the book details panel by right clicking on them."
      tickets: [1171963]

    - title: "Kobo driver: Add support for the new Kobo Aura HD and firmware version 2.5.0"
      tickets: [1169571,1169968]

    - title: "Metadata download: When showing downloaded covers, allow right clicking on a cover to view a full size version."
      tickets: [1170544]

    - title: "Driver for Easy player cyber book e touch and Droid 4"
      tickets: [1171633,1170763]

    - title: "Edit ToC: Allow the size of the panels in the location view to be adjusted"

    - title: "When copying to a library by path, make it more efficient to choose between moving and copying"
      tickets: [1168231]

    - title: "When checking if a zip/rar file is a comic or contains a single ebook to be auto-extracted, ignore thumbs.db files inside the archive"

  bug fixes:
    - title: "EPUB Input: Fix handling of EPUB files that contain images with non-ascii filenames."
      tickets: [1171186]

    - title: "Device driver: Detect Laser EB720 with newer firmware."
      tickets: [1171341]

    - title: "Fix bug in Danish translation causing books with language Ingush being incorrectly translated as Engelsk"

    - title: "PDF Output: Fix hyperlinks not working when converting an EPUB whose individual files have names with URL unsafe characters."
      tickets: [1169795]

    - title: "Book polishing: Fix inserting cover into an epub with no cover could lead to incorrect guide entry if the opf is not at the root of the epub."
      tickets: [1167941]

    - title: "ZIP Output: Fix links containing backslashes on windows"
      tickets: [1169910]

    - title: "Fix polishing of AZW3 files not working on OS X."
      tickets: [1168789]

    - title: "Polishing books: Fix polishing erroring out if the book being polished has no cover"

    - title: "RTF Input: Add partial support for hyperlinks to web resources."
      tickets: [1167562]

    - title: "Fix book details panel showing incorrect info after deleting books from a connected device"
      tickets: [1172839]

  improved recipes:
    - NZZ Online
    - Baltimore Sun
    - Metro NL
    - Financial Times
    - EcoGeek
    - comics.com
    - Psychology Today
    - Science News

  new recipes:
    - title: Voice of America 
      author: Krittika Goyal

    - title: Lightspeed Magazine 
      author: Jose Pinto

    - title: The Feature 
      author: Jose Pinto

- version: 0.9.27
  date: 2013-04-12

  new features:
    - title: "Metadata download: Add two new sources for covers: Google Image Search and bigbooksearch.com."
      description: "To enable them go to Preferences->Metadata download and enable the 'Google Image' and 'Big Book Search' sources. Google Images is useful for finding larger covers as well as alternate versions of the cover. Big Book Search searches for alternate covers from amazon.com. It can occasionally find nicer covers than the direct Amazon source. Note that both these sources download multiple covers for a single book. Some of these covers can be wrong (i.e. they may be of a different book or not covers at all, so you should inspect the results and manually pick the best match). When bulk downloading, these sources are only used if the other sources find no covers."
      type: major

    - title: "Content server: Allow specifying a restriction to use for the server when embedding it as a WSGI app."
      tickets: [1167951]

    - title: "Get Books: Add a plugin for the Koobe Polish book store"

    - title: "calibredb add_format: Add an option to not replace existing formats. Also pep8 compliance."

    - title: "Allow restoring of the ORIGINAL_XXX format by right-clicking it in the book details panel"
 
  bug fixes:
    - title: "AZW3 Input: Do not fail to identify JPEG images with 8BIM headers created with Adobe Photoshop."
      tickets: [1167985]

    - title: "Amazon metadata download: Ignore Spanish edition entries when searching for a book on amazon.com"

    - title: "TXT Input: When converting a txt file with a Byte Order Mark, remove the Byte Order Mark before further processing as it can cause the first line of the text to be mis-interpreted."

    - title: "Get Books: Fix searching for current book/title/author by right clicking the get books icon"

    - title: "Get Books: Update nexto, gutenberg, and virtualo store plugins for website changes"

    - title: "Amazon metadata download: When downloading from amazon.co.jp handle the 'Black curtain redirect' for adult titles."
      tickets: [1165628]

    - title: "When extracting zip files do not allow maliciously created zip files to overwrite other files on the system"

    - title: "RTF Input: Handle RTF files with invalid border style specifications"
      tickets: [1021270]

  improved recipes:
    - The Escapist
    - San Francisco Chronicle
    - The Onion
    - Fronda
    - Tom's Hardware
    - New Yorker
    - Financial Times UK
    - Business Week Magazine
    - Victoria Times
    - tvxs
    - The Independent

  new recipes:
    - title: Economia 
      author: Manish Bhattarai

    - title: Universe Today 
      author: seird

    - title: The Galaxy's Edge 
      author: Krittika Goyal

- version: 0.9.26
  date: 2013-04-05

  new features:
    - title: "PDF Output: Allow using templates to create arbitrary headers and footers. Look under PDF Output in the conversion dialog for this feature."

    - title: "ToC Editor: Allow generating the ToC directly from individual files inside the ebook. Useful for EPUBs that have individual chapters in single files."
      tickets: [1163520]

    - title: "ToC Editor: Add buttons to indent/unindent the current entry"

    - title: "ToC Editor: Right-click menu to perform various useful actions on entries in the ToC"

    - title: "Column icons: Allow use of wide images as column icons"

    - title: "Add USB ids for the Palm Pre2 and Samsung Galaxy phone to the device drivers"
      tickets: [1162293,1163115]
 
  bug fixes:
    - title: "PDF Output: Fix generating page numbers causing links to not work."
      tickets: [1162573]

    - title: "Wrong filename output in error message when 'Guide reference not found'"
      tickets: [1163659]

    - title: "Get Books: Update Amazon, Barnes & Noble, Waterstones and Gutenberg store plugins for website change"

    - title: "PDF Output: Fix 1 pixel wide left and top margins on the cover page for some PDF conversions due to incorrect rounding."
      tickets: [1162054]

    - title: "ToC Editor: Fix drag and drop of multiple items resulting in the dropped items being in random order sometimes."
      tickets: [1161999]

  improved recipes:
    - Financial Times UK
    - Sing Tao Daily
    - Apple Daily
    - A List Apart
    - Business Week
    - Harpers printed edition
    - Harvard Business Review

  new recipes:
    - title: AM730
      author: Eddie Lau

    - title: Arret sur images 
      author: Francois D

    - title: Diario de Noticias
      author: Jose Pinto

- version: 0.9.25
  date: 2013-03-29

  new features:
    - title: "Automatic adding: When checking for duplicates is enabled, use the same duplicates found dialog as is used during manual adding."
      tickets: [1160914]

    - title: "ToC Editor: Allow searching to find a location quickly when browsing through the book to select a location for a ToC item"

    - title: "ToC Editor: Add a button to quickly flatten the entire table of contents"

    - title: "Conversion: When converting a single book to EPUB or AZW3, add an option to automatically launch the Table of Contents editor after the conversion completes. Found under the Table of Contents section of the conversion dialog."
 
  bug fixes:
    - title: "calibredb: Nicer error messages when user provides invalid input"
      tickets: [1160452,1160631]

    - title: "News download: Always use the .jpg extension for jpeg images as apparently Moon+ Reader cannot handle .jpeg"

    - title: "Fix Book Details popup keyboard navigation doesn't work on a Mac"
      tickets: [1159610]

    - title: "Fix a regression that caused the case of the book files to not be changed when changing the case of the title/author on case insensitive filesystems"

  improved recipes:
    - RTE news
    - Various Polish news sources
    - Psychology Today
    - Foreign Affairs
    - History Today
    - Harpers Magazine (printed edition)
    - Business Week Magazine
    - The Hindu
    - Irish Times
    - Le Devoir

  new recipes:
    - title: Fortune Magazine 
      author: Rick Shang

    - title: Eclipse Online 
      author: Jim DeVona

- version: 0.9.24
  date: 2013-03-22

  new features:
    - title: "ToC Editor: Allow auto-generation of Table of Contents entries from headings and/or links in the book"

    - title: "EPUB/MOBI Catalogs: Allow saving used settings as presets which can be loaded easily later."
      tickets: [1155587]

    - title: "Indicate which columns are custom columns when selecting columns in the Preferences"
      tickets: [1158066]

    - title: "News download: Add an option recipe authors can set to have calibre automatically reduce the size of downloaded images by lowering their quality"
 
  bug fixes:
    - title: "News download: Fix a regression in 0.9.23 that prevented oldest_article from working with some RSS feeds."

    - title: "Conversion: handle the :before and :after pseudo CSS selectors correctly"

    - title: "AZW3 Output: Handle the case of the <guide> reference to a ToC containing an anchor correctly."
      tickets: [1158413]

    - title: "BiBTeX catalogs: Fix ISBN not being output and the library_name field causing catalog generation to fail"
      tickets: [1156432, 1158127]

    - title: "Conversion: Add support for CSS stylesheets that wrap their rules inside a @media rule."
      tickets: [1157345]

    - title: "Cover browser: Fix scrolling not working for books after the 32678'th book in a large library."
      tickets: [1153204]

    - title: "Linux: Update bundled libmtp version"

    - title: "Clear the Book details panel when the current search returns no matches."
      tickets: [1153026]

    - title: "Fix a regression that broke creation of advanced column coloring rules"
      tickets: [1156291]

    - title: "Amazon metadata download: Handle cover images loaded via javascript on the amazon.de site"

    - title: "Nicer error message when exporting a generated csv catalog to a file open in another program on windows."
      tickets: [1155539]

    - title: "Fix ebook-convert -h showing ANSI escape codes in the windows command prompt"
      tickets: [1158499]

  improved recipes:
    - Various Polish news sources
    - kath.net
    - Il Giornale
    - Kellog Insight

  new recipes:
    - title: 

- version: 0.9.23
  date: 2013-03-15

  new features:
    - title: "New tool: \"Edit ToC\" that allows you to edit or create a Table of Contents easily in EPUB or AZW3 ebooks."
      type: major
      description: "Using the Edit ToC tool, you can easily re-arrange the entries in an existing Table of Contents, change their text and even change the location they point to by simply clicking the new location in the book. To use this tool, go to Preferences->Toolbar and add the Edit ToC tool to the main toolbar. Then simply select the books you want to be polished and click the Edit ToC button. This tool is based on a new codebase, so there may be bugs."

    - title: "Content server: Enable use of plugboards for mobi and azw3 formats"

    - title: "Windows driver for Tolino Shine"
      tickets: [1153536]

    - title: "When copying books to another library, show the name of the destination library in the copy dialog"
      tickets: [1153407]

    - title: "Allow running plugins from the command line with calibre-debug easily"
 
  bug fixes:
    - title: "PDF Output: Fix bug causing left and right margins to be applied to the cover page. Also fix the preserve cover aspect ratio option not working correctly"

    - title: "PDF Output: Fix javascript dialog box popping up in the middle on converting very long documents."
      tickets: [1154948]

    - title: "MOBI metadata: When setting the language in a MOBI file also update the language field in the EXTH header."
      tickets: [1154351]

    - title: "MOBI metadata: Support writing of book producer field into MOBI files."
      tickets: [1154353]

    - title: "Fix job progress and status not always updated"
      tickets: [1154137]

    - title: "Fix conversion of zip.rar archives with very long title/author on windows"
      tickets: [1153859]

    - title: "News download: Update the library used to parse RSS feeds."
      tickets: [1152852]

    - title: "Fix Irex Illiad not recognized on OS X computers"
      tickets: [824713]

    - title: "Fix entering a very long search in the find item in tag browser box causes the tag browser to no longer be shrinkable."
      tickets: [1152870]

    - title: "Fix a bug in the zsh completion when converting for ebook-convert with PDF output"

  improved recipes:
    - Various Polish news sources
    - Harpers Full
    - kath.net
    - Smithsonian

  new recipes:
    - title: Deccan Herald 
      author: Muruli Shamanna

    - title: What If 
      author: kisnick

    - title: The Friday Times 
      tickets: Krittika Goyal

    - title: Computer Woche 
      author: Maria Seliger

    - title: Lamebook 
      author: atordo

